;/*FB_PKG_DELIM*/

__d("MWCMBlendedThreadList.react",["CometScrollView.react","I64","LSIntEnum","MWPThreadItemsContainer.react","MWPUseMarkFolderSeen","ReQL","ReQLSuspense","cr:2191","cr:3426","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=3;function a(a){var e=a.gridLabel,g=a.header,k=a.lsEntryPoint,l=a.messagingEntryPoint,m=a.onClose,n=a.responsive,o=a.selectedThreadKey,p=a.setHasScrolled,q=c("useReStore")();a=d("MWPUseMarkFolderSeen").useMarkFolderSeenOnFocusChange(d("LSIntEnum").ofNumber(-14));var r=d("ReQLSuspense").useArray(function(){var a=[d("ReQL").fromTableDescending(q.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(23)),d("ReQL").fromTableDescending(q.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(18)),d("ReQL").fromTableDescending(q.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(21))],b=a[0],c=a[1];a=a[2];return d("ReQL").union(b,c,a)},[q],f.id+":68"),s=i(function(a){p&&p(function(a){return!0})},[p]),t=i(function(){p&&p(function(a){return!1})},[p]),u=r.length<j;return h.jsx(c("CometScrollView.react"),{onScroll:s,onScrollTop:t,showsHorizontalScrollIndicator:!1,children:h.jsx(c("MWPThreadItemsContainer.react"),{gridLabel:e,children:h.jsxs("div",{ref:a,children:[g,r.map(function(a){return h.jsx(b("cr:2191"),{lsEntryPoint:k,messagingEntryPoint:l,onClose:m,responsive:n,selected:o!=null&&d("I64").equal(a.threadKey,o),thread:a},"blended-thread-list-item-"+d("I64").to_string(a.threadKey))}),u&&b("cr:3426")?h.jsx(b("cr:3426"),{lsEntryPoint:k,maxSuggestedCount:j,messagingEntryPoint:l,onClose:m,responsive:n}):null]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMThreadListPhoto.react",["CometHeroHoldTrigger.react","MDSGlimmer.react","MWXProfilePhoto.react","getLSMediaThreadPictureUrl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={glimmerPhoto56:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xnnlda6",marginEnd:"xmo9yow",width:"x15yg21f",$$css:!0}};function a(a){a=a.thread;a=c("getLSMediaThreadPictureUrl")(a);return a==null?h.jsxs(h.Fragment,{children:[h.jsx(c("MDSGlimmer.react"),{index:0,xstyle:i.glimmerPhoto56}),h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWCMThreadListPhotoLoading",hold:!0})]}):h.jsx(c("MWXProfilePhoto.react"),{shape:"circle",size:56,source:{uri:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBlendedThreadListItem.react",["C4GFalcoLoggerDeferred","CometHeroHoldTrigger.react","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","MWCMThreadListPhoto.react","MWInboxCommunityThreadsRouteBuilder","MWNavigationContext","MWPIsThreadUnread.bs","MWPThreadIsPage.react","MWThreadKey.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListLastMessage.react","XCometGroupDiscussionControllerRouteBuilder","qex","react","useCommunityFolder","useGroupThreadViewParams","useMWPIsThreadMuted","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(b=c("qex")._("138"))!=null?b:!1;function a(a){var b=a.lsEntryPoint,e=a.messagingEntryPoint,f=a.onClose,g=a.responsive,j=a.selected,k=a.thread,l=c("useCommunityFolder")(k),m=c("useGroupThreadViewParams")(),n=c("useMWPIsThreadMuted")(k),o=d("MWPIsThreadUnread.bs").isThreadUnread(k),p=e==="jewel"?"jewel_tray":"messenger_inbox",q=e==="inbox"?"jewel_inbox":"chats_inbox";a=c("useSinglePartialViewImpression")({onImpressionStart:function(){var a;d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_thread_impression",group_id:d("I64").to_string((a=l==null?void 0:l.fbGroupId)!=null?a:d("I64").zero),parent_surface:q,source:"blended_threadlist_community_tab",surface:p,thread_id:d("I64").to_string(k.threadKey)});if(o&&!n){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_tab_unread_badge_rendered",group_id:d("I64").to_string((a=l==null?void 0:l.fbGroupId)!=null?a:d("I64").zero),parent_surface:q,source:"blended_threadlist_community_tab",surface:p,thread_id:d("I64").to_string(k.threadKey)})}}});if(!(l==null?void 0:l.name)||k.threadName==null)return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"BlendedThreadListItemLoading",hold:!0}),h.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWCMBlendedThreadListItemLoading"})]});var r=d("I64").to_string(l.folderId),s=null;m!=null?s=function(a){return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[m.threadKey,d("I64").to_string(a)],idorvanity:m.groupId})}:s=function(a){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:r,thread_key:d("I64").to_string(a)})};return h.jsx("div",{ref:a,children:h.jsx(d("MWNavigationContext").Provider,{value:s,children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWCMBlendedThreadListItem"}),children:h.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:k.threadKey,children:h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:k.threadKey,children:h.jsx(c("MWThreadListItem.react"),{lsEntryPoint:b,messagingEntrypoint:e,onClose:f,onThreadSelected:function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:r,event:"thread_open",group_id:d("I64").to_string(l.fbGroupId),source:"blended_threadlist_community_tab",surface:p,thread_id:d("I64").to_string(k.threadKey)})},renderThreadPhoto:function(a){return h.jsx(c("MWCMThreadListPhoto.react"),{thread:a})},renderThreadSubtitle:i?void 0:function(a){return h.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:o,lastMessageTimestamp:d("I64").to_float(a.lastActivityTimestampMs),showTimestamp:!0,snippet:l.name})},responsive:g,selected:j,size:56,thread:k})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBlendedThreadListSuggestedChats.react",["fbt","C4GFalcoLoggerDeferred","CometHeroHoldTrigger.react","CometPlaceholder.react","CometTransientDialogProvider.react","CometUnitHeader.react","GroupsCometJoinChatDialog.entrypoint","I64","LSIntEnum","MWCMThreadListPhoto.react","MWInboxCommunityThreadsRouteBuilder","MWJewelPopoverDialogContext.react","MWNavigationContext","MWPThreadIsPage.react","MWThreadKey.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListLastMessage.react","MWXButton.react","MWXText.react","ReQL","ReQLSuspense","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWXEntryPointDialog","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function k(a){var b=a.thread,d=c("useCommunityFolder")(a.thread);return!(d==null?void 0:d.name)||b.threadName==null?i.jsxs(i.Fragment,{children:[i.jsx(c("CometHeroHoldTrigger.react"),{description:"BlendedThreadListItemLoading",hold:!0}),i.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWCMBlendedThreadListSuggestedItemLoading"})]}):i.jsx(l,babelHelpers["extends"]({},a,{folder:d}))}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b,e=a.folder,f=a.lsEntryPoint,g=a.messagingEntryPoint,k=a.onClose,l=a.responsive,m=a.thread;a=c("useMWCMShouldGoToFullScreenChatHook")();var n=c("useMWNavigation")(),o=j(c("MWJewelPopoverDialogContext.react")),p=o.setIsOpenForDialog,q=g==="jewel"?"comet_jewel_suggested_chats":"comet_inbox_suggested_chats";o=c("useSinglePartialViewImpression")({onImpressionStart:function(){var a;d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_suggested_chats_impression",group_id:d("I64").to_string((a=e==null?void 0:e.fbGroupId)!=null?a:d("I64").zero),parent_surface:q,source:"blended_threadlist_community_tab",surface:"blended_threadlist_community_tab",thread_id:d("I64").to_string(m.threadKey)})}});var r={invited:(b=m.hasPendingInvitation)!=null?b:!1,onSuccess:function(){p(!1),f==="jewel"&&n.openTabOrInbox({clientThreadKey:m.clientThreadKey,threadKey:m.threadKey,threadType:m.threadType},f),k==null?void 0:k()},parentSurface:q,qplInstanceKey:0,refetchGroupMallAfterMutation:!1,shouldGoToMessenger:g!=="jewel"&&a,surface:"blended_threadlist_community_tab"};b={groupID:d("I64").to_string(e.fbGroupId),threadID:d("I64").to_string(m.threadKey)};a=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),b);var s=a[0],t=function(){return s(r,function(){return p(!1)})},u=d("I64").to_string(e.folderId);b=function(a){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:u,thread_key:d("I64").to_string(a)})};return i.jsx("div",{ref:o,children:i.jsx(d("MWNavigationContext").Provider,{value:b,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWCMBlendedThreadListSuggestedChats"}),children:i.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:m.threadKey,children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:m.threadKey,children:i.jsx(c("MWThreadListItem.react"),{lsEntryPoint:f,messagingEntrypoint:g,onClose:function(){},onPress:function(a){p(!0),t()},parentSurface:q,renderAddOnEnd:function(a){return i.jsx(c("MWXButton.react"),{"aria-label":h._("__JHASH__e5ipmsWlGTX__JHASH__",[h._param("name of the group chat",a.threadName)]),label:h._("__JHASH__uU225ai8Mg9__JHASH__"),onPress:function(){p(!0),t()},type:"secondary"})},renderThreadPhoto:function(a){return i.jsx(c("MWCMThreadListPhoto.react"),{thread:a})},renderThreadSubtitle:function(a){return i.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:!1,showTimestamp:!1,snippet:e.name})},renderThreadTitle:function(a){return i.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:a.threadName})},responsive:l,selected:!1,size:56,thread:m})})})})})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.maxSuggestedCount,e=babelHelpers.objectWithoutPropertiesLoose(a,["maxSuggestedCount"]),g=c("useReStore")();a=d("ReQLSuspense").useArray(function(){var a=[d("ReQL").fromTableDescending(g.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(24)),d("ReQL").fromTableDescending(g.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(19))];return d("ReQL").union.apply(void 0,a).take(b)},[g,b],f.id+":246");return a.length===0?null:i.jsxs(c("CometTransientDialogProvider.react"),{children:[i.jsx(c("CometUnitHeader.react"),{body:"",hasTopDivider:!1,headline:h._("__JHASH__XHCa8U8p5yA__JHASH__"),level:3,paddingTop:8}),a.map(function(a){return i.jsx(k,babelHelpers["extends"]({thread:a},e),"blended-thread-list-suggested-chat-"+d("I64").to_string(a.threadKey))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBlendedThreadListSuggestedChatsLazy.react",["JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadListSuggestedChats.react").__setRef("MWCMBlendedThreadListSuggestedChatsLazy.react"));function a(a){return h.jsx(i,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);