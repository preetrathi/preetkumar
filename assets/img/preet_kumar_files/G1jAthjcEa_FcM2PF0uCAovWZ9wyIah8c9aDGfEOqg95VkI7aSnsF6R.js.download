;/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6644104268998496"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,556]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSClearCommunityMembersRangeTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return a[1]!==e?c[0]=a[1]:c[0]="",b.i64.neq(a[0],e)?c[1]=!1:c[1]=!0,b.fe(b.ftr(b.db.table(189).fetch(),function(d){return(c[1]||b.i64.eq(d.source,a[0]))&&d.requestId===c[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSClearCommunityMembersTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return a[1]!==e?c[0]=a[1]:c[0]="",b.i64.neq(a[0],e)?c[1]=!1:c[1]=!0,b.i64.neq(a[2],e)?b.fe(b.ftr(b.db.table(170).fetch(),function(d){return(c[1]||b.i64.eq(d.source,a[0]))&&b.i64.eq(d.groupThreadId,a[2])&&d.requestId===c[0]}),function(a){return a["delete"]()}):b.fe(b.ftr(b.db.table(170).fetch(),function(d){return(c[1]||b.i64.eq(d.source,a[0]))&&d.requestId===c[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSClearDiscoverableChatsParticipantsAndRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(248).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(249).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",c.i64.to_string(a[1])),d[1].set("muted_user_id",c.i64.to_string(a[0])),d[1].set("owner_id",c.i64.to_string(d[0])),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,13]),d[2])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpsertDiscoverableChatsParticipantsRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(249).put({threadId:a[0],minName:"",source:a[4],maxName:a[5],isLoadingBefore:!1,isLoadingAfter:a[2],hasMoreBefore:!1,hasMoreAfter:a[1],nextPageCursor:a[3]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSFetchDiscoverableChatParticipants",["LSIssueNewTask","LSUpsertDiscoverableChatsParticipantsRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSUpsertDiscoverableChatsParticipantsRanges"),a[0],!1,!0,"",a[2],a[3])},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("cursor",a[1]),d[0].set("source",a[2]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"fetch_discoverable_chat_participant_list",c.i64.cast([0,110006]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ftr(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.fe(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(e){return d[1]=new c.Map(),d[1].set("thread_id",a[0]),d[1].set("message_id",a[1]),d[1].set("reaction_fbid",a[2]),d[1].set("cursor",a[3]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.seq([function(d){return c.nop(b("LSOnSendMessageFailure.nop"),a[0],a[1])},function(b){return c.fe(c.ftr(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({sendStatus:c.i64.cast([0,4]),sendStatusV2:c.i64.cast([0,4])})})}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,c.seq([function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),igFolder:a[1]})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[4]=b.clientThreadPk,c.db.table(276).fetch([[[d[4]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.fe(c.db.table(276).fetch([[[d[4]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("sync_group",d[0]),d[2].set("ig_folder",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"message_request",c.i64.cast([0,66]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=c.i64.cast([0,7])}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],c.i64.cast([53057,267535043]))&&c.i64.neq(a[7],c.i64.cast([85970,924785702]))&&c.i64.neq(a[7],c.i64.cast([85970,1004785694]))&&c.i64.neq(a[7],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=c.i64.cast([0,2])}]):c.resolve(d[11]=c.i64.cast([0,1]))},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]),f).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[26]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[26],d[3],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[26],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[24],skipUrlPreviewGen:a[29],textHasLinks:a[31]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string(c.i64.cast([0,1]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendXMAMessageForwardFromSecureThread",["LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],f,f,f,f,f,f,c.i64.cast([0,3]),a[4],f,f,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[3]=c.i64.of_int32(a[6].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[6],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(e){return d[7]=d[5].get("attachment_fbid"),d[5],d[8]=d[5].get("offline_attachment_id"),d[5],d[9]=d[5].get("attachment_type"),d[5],d[10]=d[5].get("filename"),d[5],d[11]=d[5].get("filesize"),d[5],d[12]=d[5].get("attachment_index"),d[5],d[13]=d[5].get("has_media"),d[5],d[14]=d[5].get("has_xma"),d[5],d[15]=d[5].get("playable_url"),d[5],d[16]=d[5].get("playable_url_mime_type"),d[5],d[17]=d[5].get("playable_duration_ms"),d[5],d[18]=d[5].get("preview_url"),d[5],d[19]=d[5].get("preview_url_mime_type"),d[5],d[20]=d[5].get("mini_preview"),d[5],d[21]=d[5].get("preview_width"),d[5],d[22]=d[5].get("preview_height"),d[5],d[23]=d[5].get("xma_layout_type"),d[5],d[24]=d[5].get("xmas_template_type"),d[5],d[25]=d[5].get("cta1_title"),d[5],d[26]=d[5].get("cta2_title"),d[5],d[27]=d[5].get("cta3_title"),d[5],d[28]=d[5].get("image_url"),d[5],d[29]=d[5].get("action_url"),d[5],d[30]=d[5].get("title_text"),d[5],d[31]=d[5].get("subtitle_text"),d[5],d[32]=d[5].get("description_text"),d[5],d[33]=d[5].get("source_text"),d[5],d[34]=d[5].get("original_file_hash"),d[5],d[35]=d[5].get("sound_bite_client_sound_key"),d[5],d[36]=d[5].get("sound_bite_visual"),d[5],d[37]=d[5].get("ephemeral_media_state"),d[5],c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[7]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[7]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[1],messageId:d[0],attachmentFbid:d[7],timestampMs:d[1],offlineAttachmentId:d[8],attachmentType:d[9],filename:d[10],filesize:d[11],attachmentIndex:d[12],hasMedia:d[13],hasXma:d[14],isSharable:!1,playableUrl:d[15],playableUrlMimeType:d[16],playableDurationMs:d[17],previewUrl:d[18],previewUrlMimeType:d[19],miniPreview:d[20],previewWidth:d[21],previewHeight:d[22],xmaLayoutType:d[23],xmasTemplateType:d[24],cta1Title:d[25],cta2Title:d[26],cta3Title:d[27],imageUrl:d[28],actionUrl:d[29],titleText:d[30],subtitleText:d[31],descriptionText:d[32],sourceText:d[33],ephemeralMediaState:d[37],originalFileHash:d[34],authorityLevel:c.i64.cast([0,20])})},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[7],d[15],f,f,d[16],d[18],f,f,d[19],d[21],d[22])}])}])}):c.resolve()},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]),f).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[5],sendType:c.i64.cast([0,11]),markThreadRead:!1})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportThreadViewOpen",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_stale",!1),d[0].set("client_seq_id",c.i64.cast([0,0])),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["report_thread_view_open","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,605]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateBotSubscription",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",c.i64.to_string(a[0])),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,12]),d[1])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateDraftMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(g=e.item,c.seq([function(e){return d[5]=g.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],f)&&c.i64.ge(d[4],d[5])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],f)&&g.tag!==f?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",c.i64.cast([0,0])),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],c.i64.cast([0,3]),d[1])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6706545166025569"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6098288313524910"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707146052634771"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6404754876239370"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5728355667179018"}),null);
__d("MAWShareAttachment_LinkPreviewQuery.graphql",["MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWShareAttachment_LinkPreviewQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWShareAttachment_LinkPreviewQuery",selections:c},params:{id:b("MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWShareAttachment_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){var b=a.disallowedTerms;a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,disallowedTerms:b,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);(this.__prefix==="@"||this.__prefix==="#")&&(a.className="xv78j7m xt0e3qv");a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a){var b=a.description,e=h(d("hero-tracing-placeholder").HeroInteractionIDContext);i(function(){var a=c("performanceNow")();return function(){if(e!=null){var d=c("performanceNow")();c("InteractionTracingMetrics").addSubspan(e,b,"AppTiming",a,d,{})}}},[b,e])}g["default"]=a}),98);
__d("MDSBaseCollapsible.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useId;function a(a,b){var d=a.ariaLabel,e=a.children,f=a.isOpen,g=a.onPress,k=a.renderButtonContainer,l=a.renderLabel,m=a.testid;m=a.xstyleForPressable;a=j();var n=j(),o=i(function(){g(f)},[f,g]);d=h.jsx(c("CometPressable.react"),{"aria-controls":n,"aria-expanded":f,"aria-label":d,display:"block",id:a,onPress:o,ref:b,testid:void 0,xstyle:m,children:l(f)});return h.jsxs("div",{className:"xh8yej3",children:[h.jsx("div",{className:"xurb0ha x1sxyh0",children:k?k(d):d}),h.jsx("div",{"aria-labelledby":a,className:"xurb0ha x1sxyh0",id:n,role:"region",children:f?e:null})]})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);e.displayName="MDSBaseCollapsible";d=e;g["default"]=d}),98);
__d("MWXCollapsible.react",["cr:1290"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1290")}),98);
__d("MWXListCell.react",["cr:2201","cr:617","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,c){var d=a.addOnBottom,e=a.addOnEnd,f=a.addOnStart,g=a.content,i=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnBottom","addOnEnd","addOnStart","content","size"]);if(b("cr:617")!=null)return h.jsx(b("cr:617"),babelHelpers["extends"]({addOnBottom:d,addOnEnd:e,addOnStart:f,addOnStartMarginTop:0,content:g,contentPaddingHorizontal:8,level:4},a,{ref:c}));if(b("cr:2201")!=null){return h.jsx(b("cr:2201"),babelHelpers["extends"]({addOnBottom:d,addOnEnd:e,addOnStart:f,content:g,size:(d=i)!=null?d:"medium"},a,{ref:c}))}return null}a.displayName=a.name+" [from "+f.id+"]";c=h.forwardRef(a);g["default"]=c}),98);
__d("MWDialogTextPairing.react",["MWDialogContentTypeValues","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MWXTextPairing.react"),babelHelpers["extends"]({level:d("MWDialogContentTypeValues").textPairingLevel},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSCollapsible.react",["ix","BaseListCell.react","MDSBaseCollapsible.react","MDSText.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={icon:{paddingEnd:"x1pi30zi",paddingStart:"x1ye3gou",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},label:{paddingStart:"xurb0ha",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},pressable:{alignItems:"x6s0dn4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x78zum5",minHeight:"x1gg8mnh",$$css:!0}};function a(a,b){var e=a.children,f=a.isOpen,g=a.label,l=a.onPress,m=a.renderButtonContainer;a=a.testid;var n=j(function(a){return i.jsx("div",{className:"x1pi30zi x1ye3gou x1y1aw1k xwib8y2",children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:a?d("fbicon")._(h("505565"),20):d("fbicon")._(h("492454"),20)})})},[]);a=j(function(a){a=n(a);return i.jsx(c("BaseListCell.react"),{addOnEnd:g!=null?a:void 0,addOnEndVerticalAlign:"center",addOnStartVerticalAlign:"center",content:g!=null?i.jsx("div",{className:"xurb0ha xz9dl7a xsag5q8",children:i.jsx(c("MDSText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:g})}):a})},[g,n]);return i.jsx(c("MDSBaseCollapsible.react"),{isOpen:f,onPress:l,ref:b,renderButtonContainer:m,renderLabel:a,testid:void 0,xstyleForPressable:k.pressable,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);b.displayName="FDSCollapsible";e=b;g["default"]=e}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("2099")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;f=Math.imul(d("WATimeUtils").HOUR_SECONDS,6);var h=Math.imul(d("WATimeUtils").HOUR_SECONDS,12),i=Math.imul(d("WATimeUtils").DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=f;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=d("WATimeUtils").HOUR_SECONDS;g.sixHoursInSeconds=f;g.twelveHoursInSeconds=h;g.oneDayInSeconds=d("WATimeUtils").DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MAWThreadEvent",["MAWBridge","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWUIJob","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b="placeholderConvertSubscription";function a(a,b){d("MAWBridge").getBridge().setHandlers("threadEvent",{placeholderConvertSubscription:function(e){var f=e.chatJid;e=e.msgId;a===f&&c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}).then(function(a){if(a==null)return;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,a,b))}))}})}g.PLACEHOLDER_CONVERT_SUBSCRIPTION=b;g.setThreadEventHandler=a}),98);
__d("MAWCreateGroupThread",["fbt","I64","LSFactory","LSIssueNewError","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.db,e=a.deduplicationKey,f=a.isDualSend;f=f===void 0?!1:f;var g=a.offlineThreadingId,i=a.participantIds;a=a.threadName;g=g!=null?d("I64").to_string(g):void 0;var j="msgr";e=(yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:g,deduplicationKey:e,isDualSend:f,platform:j},key:g,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:a,uniqKey:g,users:i})));a=e.error;g=e.value;if(a==null&&g!=null&&g.type===j){i=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByChatJid",{chatJid:g.chatJid}));if(i==null)throw c("unrecoverableViolation")("Group was not found in database","messenger_e2ee_web");else return{chatId:i,created:!0,jid:g.chatJid}}if(!f){var k=h._("__JHASH__Q8EKHlLB3en__JHASH__").toString();c("promiseDone")(b.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,k,k,void 0,void 0,c("LSFactory")(a))},"readwrite"))}throw c("unrecoverableViolation")("Unable to create group","messenger_e2ee_web")});return j.apply(this,arguments)}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.deduplicationKey;if(b==null)return i(a);b=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:b}));return b!=null?{chatId:b.chatId,created:!1,jid:b.jid}:i(a)});return k.apply(this,arguments)}g["default"]=a}),98);
__d("MAWMiActMaybeCreateActThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyE2EEMetadataThreadExistsV2","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWGating","MAWMiActCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2")(d("LSIntEnum").ofNumber(15),b,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),c("LSFactory")(a)).then(function(){})},"readwrite")}function i(a,b,e){if(e==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Could not create optimistic thread because data was null\n      for threadKey: %s",d("I64").to_string(b.threadKey));var f=e.actorId;e=e.participantIds;var g=e.filter(function(a){return a!==d("I64").to_string(f)});if(d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)&&(g.length===1||d("MAWGating").isChatWithYourselfEnabled())){var h=g.length===1?g:e;return d("MAWCreateOneToOneThread").call(a,d("I64").of_string(h[0]),d("I64").to_string(b.threadKey))}else if(d("LSMessagingThreadTypeUtil").isGroup(b.threadType)&&g.length>1)return c("MAWCreateGroupThread")({db:a,offlineThreadingId:b.threadKey,participantIds:e});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Did not know which type of optimistic thread to create for\n    threadKey: %s, participantsCount: %s, threadType: %s",d("I64").to_string(b.threadKey),e.length,d("LSIntEnum").toNumber(b.threadType))}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MAWMiActCreateThreadInActWithMiData").miActCreateThreadInActWithMiData(a.serverThreadKey,a.jidInt64,a.thread.lastActivityTimestampMs,a.thread.lastReadWatermarkTimestampMs,d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType)));return{chatId:a.chatId,created:a.isCreated,jid:a.chatJid}});return k.apply(this,arguments)}var l=new Map();function a(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,"maybeCreateActThread"));switch(f.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:yield h(a,b);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] We did not call MiActLoadExistingThread for threadKey: %s, threadState: %s",d("I64").to_string(b),f.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] MI inserted the thread but the mapping row was not\n        written or it was deleted for threadKey: %s",d("I64").to_string(b));case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:var g=d("I64").to_string(b),k=l.get(g);if(k!=null)return k;k=i(a,f.thread,e);l.set(g,k);return k;case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:return{chatId:f.chatId,created:!1,jid:f.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:return j(f);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return{chatId:f.chatId,created:!1,jid:f.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled ACT thread creation state for threadKey:\n        %s",d("I64").to_string(b));default:f.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",f.type)}});return m.apply(this,arguments)}g["default"]=a}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a,b,c,d)})}g["default"]=a}),98);
__d("useRegisterMAWThreadEvent",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReady","MAWThreadEvent","Promise","promiseDone","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.authorityLevel,f=a.threadKey,g=a.threadType,h=d("I64").ge(e,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),i=c("useReStore")(),j=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isSecure(g)&&h&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i,f,"useRegisterMAWThreadEvent",function(a,c,e){d("MAWThreadEvent").setThreadEventHandler(e,j);return b("Promise").resolve()}))},[f,g,h,i,j])}g["default"]=a}),98);
__d("MAWCreateOneToOneThreadWithStringFBID",["I64","MAWCreateOneToOneThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("I64").of_string(b);return d("MAWCreateOneToOneThread").call(a,b)}g.call=a}),98);
__d("MAWCreateOptimisticSecureMessage",["I64","LSHotEmojiSize","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWDbMsg","MAWMsgReplySnippet","MessagingAttachmentType","OfflineThreadingId","QPLUserFlow","ReQL","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e==null)return[void 0,void 0];var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(b,e.timestampMs,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(b,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]});return h.apply(this,arguments)}function e(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_offline_threading_id_end",{instanceKey:e});if(a==null)return d("OfflineThreadingId").createOfflineThreadingID();b=d("MAWDbMsg").toMsgId(a.messageId);return b==null?d("OfflineThreadingId").createOfflineThreadingID():d("MAWDbMsg").getNextOptimisticId(b)});return i.apply(this,arguments)}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)));return a==null?void 0:a.firstName});return k.apply(this,arguments)}function f(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b==null)return;a=(yield j(a,b.senderId));return(a=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:d("I64").equal(b.senderId,e)}))==null?void 0:a.toString()});return l.apply(this,arguments)}function m(a){if(a==null)return;var b=a.attachmentType;return d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function n(a){a=a!==void 0&&a.hotEmojiSize!=null&&d("I64").equal(a.hotEmojiSize,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))?d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER):void 0;return a}g.getReply=a;g.getOfflineThreadingId=e;g.getOptimisticReplySnippet=f;g.getReplyMediaUrl=m;g.getReplyAttachmentType=n}),98);
__d("useMAWCreateOptimisticSecureMessage",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","MAWAdminMsg","MAWBridgeBuildMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MWPActor.react","QPLUserFlow","asyncToGeneratorRuntime","cr:2472","qpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),e=d("MWPActor.react").useActor();return function(f,g,h,i,j,k,l){return a.runInTransaction(function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(m){var n=Date.now(),o=d("I64").of_float(n),p=(yield d("MAWCreateOptimisticSecureMessage").getOfflineThreadingId(m,h,j));l(p);var q=(yield d("MAWCreateOptimisticSecureMessage").getReply(m,h,f,j)),r=q[0];q=q[1];var s=(yield d("MAWBridgeBuildMsg").buildOptimisticMessage(a,m,g,p,h,r,o,k)),t=(yield d("MAWCreateOptimisticSecureMessage").getOptimisticReplySnippet(a,r,e));yield m.table("messages").add(babelHelpers["extends"]({},s,{authorityLevel:d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:d("LSIntEnum").ofNumber(1),hasQuickReplies:!1,hotEmojiSize:i,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:p,offlineThreadingId:p,primarySortKey:o,quickReplyType:d("LSIntEnum").ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:d("MAWCreateOptimisticSecureMessage").getReplyAttachmentType(r),replyMediaPreviewHeight:q==null?void 0:q.previewHeight,replyMediaPreviewWidth:q==null?void 0:q.previewWidth,replyMediaUrl:d("MAWCreateOptimisticSecureMessage").getReplyMediaUrl(q),replyMediaUrlMimeType:q==null?void 0:q.playableUrlMimeType,replySnippet:t,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:e,sendStatus:d("LSIntEnum").ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:d("LSIntEnum").ofNumber(1),textHasLinks:!1,threadKey:h,timestampMs:o,viewFlags:d("LSIntEnum").ofNumber(0)}));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:j});s=b("cr:2472")==null?g:b("cr:2472").unvault(g);r=i!=null&&d("I64").equal(i,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))&&s==="\ud83d\udc4d"?"(Y)":g;yield d("MAWBumpThread").threadMutation(m,h,o,o,d("MAWAdminMsg").buildLocalizedString([r],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),e);return[p,n]});return function(a){return m.apply(this,arguments)}}(),"readwrite","ui")}}g["default"]=a}),98);
__d("useThreadJid",["I64","Int64Hooks","MAWMiActOnActThreadReady","Promise","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(a){var e=c("useReStore")(),f=h();d("Int64Hooks").useEffectInt64(function(){if(a==null||d("I64").equal(a,d("I64").zero))return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(e,a,"useThreadJid",function(a,c,d){f.current=d;return b("Promise").resolve()}))},[e,a]);return function(){return f.current}}g["default"]=a}),98);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.read(function(){var a=d("Lexical").$getRoot().getFirstChild();return a instanceof d("Lexical").ElementNode?a.getChildren().reduce(function(a,b){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(b)){var c=b.getEntity();return a+("@"+d("MAWJids").toUserJid(c.id))}return a+b.getTextContent()},""):d("LexicalText").$rootTextContent()})}g.getTextFromEditorState=a}),98);
__d("MAWSecureThreadNonAddressableContactBannerCloseButton.react",["CometPressable.react","fbs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.onPress;return h.jsx("div",{className:"x1923su1 x10l6tqk xfr5jun x1vjfegm",children:h.jsx(c("CometPressable.react"),{"aria-label":c("fbs")._("__JHASH__cwU_O5_fD5E__JHASH__"),onPress:a,overlayRadius:"50%",children:h.jsxs("svg",{height:"18px",viewBox:"0 0 24 24",width:"18px",children:[h.jsx("title",{children:c("fbs")._("__JHASH__lJTlDYURTnq__JHASH__")}),h.jsx("line",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"6",y2:"18"}),h.jsx("line",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"18",y2:"6"})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWNonAddressableParticipant",["I64","LSAuthorityLevel","LSIntEnum","LSWhatsAppConnectStatus","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(a),d("ReQL").fromTableAscending(g.table("contacts"))).filter(function(a){a[0];a=a[1];if(d("I64").equal(a.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))&&d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return!d("I64").equal(a.id,h);else return!1}).map(function(a){a[0];a=a[1];return a})},[g,a,h],f.id+":30");b=((b=i==null?void 0:i.firstName)!=null?b:"")===""?null:i==null?void 0:i.firstName;e=((e=i==null?void 0:i.name)!=null?e:"")===""?null:i==null?void 0:i.name;e=(b=(b=b)!=null?b:e)!=null?b:"recipient";return[i!=null,e]}g["default"]=a}),98);
__d("MAWSecureThreadNonAddressableContactBanner.react",["fbt","IntlVariations","LSMessagingThreadTypeUtil","MAWSecureThreadNonAddressableContactBannerCloseButton.react","MWXRow.react","MWXRowItem.react","MWXText.react","fbs","react","useMAWNonAddressableParticipant"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;function a(a){var b=a.setHideComposerEditor;a=a.thread;var e=c("useMAWNonAddressableParticipant")(a.threadKey),f=e[0];e=e[1];var g=k(!1),l=g[0],m=g[1];g=j(function(){return m(!0)},[m]);var n=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);l=n?!l:!0;var o=f&&l;b(function(){if(o)return!n;else return!1});f=c("IntlVariations").GENDER_UNKNOWN;l=h._("__JHASH__9vfr7-Uns9r__JHASH__",[h._name("message recipient name",e,f)]);b=h._("__JHASH__J_HXGmiXLis__JHASH__",[h._name("message recipient name",e,f)]);if(o)return i.jsxs("div",{className:"x1exxf4d x13fuv20 x178xt8z x1n2onr6 x1ja2u2z",children:[n?i.jsx(c("MAWSecureThreadNonAddressableContactBannerCloseButton.react"),{onPress:g}):null,i.jsx(c("MWXRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,children:i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"headlineEmphasized4",children:d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?c("fbs")._("__JHASH___yUMmqEez-U__JHASH__"):l})})}),i.jsx(c("MWXRow.react"),{align:"center",expanding:!0,paddingVertical:4,spacingVertical:4,children:i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?c("fbs")._("__JHASH__ixaC9ybh3Q8__JHASH__"):b})})})]});else return null}g["default"]=a}),98);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWJids","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","WAChatState","asyncToGeneratorRuntime","gkx","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!d("I64").equal(f,d("LSIntEnum").ofNumber(15)))return b("Promise").resolve(!0);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,g)})));if(f==null)return!1;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(f.contactId)));return e==null?!1:d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});return i.apply(this,arguments)}var j=[];function a(a){var e=c("useReStore")(),f=d("MWPActor.react").useActor(),g=d("I64").to_string(a.threadKey),i=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(k){d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&(c("gkx")("5514")&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&!j.includes(g)&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(e,a.threadKey,"MAWSecureTypingState",function(a,c,e){d("MAWBridgeFireAndForget").fireAndForget("backend","preEstablishSession",{groupJid:d("MAWJids").toGroupJid(e)});j.push(g);return b("Promise").resolve()})),c("promiseDone")(h(e,a.threadKey,a.threadType,f).then(function(c){return!c?b("Promise").resolve():d("MAWMiActOnActThreadReady").onActThreadReady(e,a.threadKey,"MAWSecureTypingState",function(c,e,f){i==null?void 0:i({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{state:k?d("WAChatState").TYPING:d("WAChatState").IDLE,threadId:e});return b("Promise").resolve()})})))},[e,a.authorityLevel,a.threadKey,a.threadType,f,g,i])}g.useOnTypingStateChanged=a}),98);
__d("MWGetChatTabOpenQPLEventTrace",["I64","InteractionTracing","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("qpl")._(30609204,"1682"),f=c("qpl")._(30605380,"18"),g=c("InteractionTracing").getPendingInteractions();for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;if(((j=k.getTrace())==null?void 0:j.qplEvent)===e||((j=k.getTrace())==null?void 0:j.qplEvent)===f){((j=k.getTrace())==null?void 0:(j=j.annotations.string)==null?void 0:j.thread_id)===d("I64").to_string(a)&&b(k)}}}g["default"]=a}),98);
__d("MWBlockedComposerLogging",["$InternalEnum","Int64Hooks","MWGetChatTabOpenQPLEventTrace","MWLSThreadDisplayContext","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({USER_BLOCKED_CANNOT_MESSAGE:"user_blocked_cannot_message",USER_BLOCKED_CANNOT_REPLY:"user_blocked_cannot_reply",USER_RESTRICTED:"user_restricted",GAMING_GAME_BOT:"gaming_game_bot",GAMING_GET_STARTED_CTA:"gaming_get_started_cta",FEATURE_LIMITED_TO_READONLY:"feature_limited_to_readonly",PAGE_THREAD_DISABLED:"page_thread_disabled",USER_BLOCKED:"user_blocked",USER_UNREACHABLE:"user_unreachable",ARMADILLO_THREAD_ALREADY_CUTOVER:"thread_already_cutover",ARMADILLO_GROUP_THREAD_CUTOVER:"cutover_group_thread",ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:"receiver_non_addressable_on_wa",NOT_BLOCKED:"not_blocked"});function a(a,b){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();d("Int64Hooks").useEffectInt64(function(){if(a==null)return;c("MWGetChatTabOpenQPLEventTrace")(a.threadKey,function(a){if(b===h.NOT_BLOCKED){var d,e=a.getTrace();d=e==null?void 0:(d=e.annotations.string)==null?void 0:d.previousBlockingReason;e=e==null?void 0:e.markerPoints.blocked_composer;var f=c("performanceNow")();e=e==null?void 0:e.timestamp;d!=null&&a.addAnnotation("prevBlockingReason",d);a.addSubspan("secure_composer_visible","AppTiming",(d=e)!=null?d:f,f)}else a.addAnnotation("composerBlockingReason",b),a.addMarkerPoint("blocked_composer","AppTiming",c("performanceNow")(),{composerBlockingReason:b})})},[e,b,a,a==null?void 0:a.threadKey])}g.ComposerBlockingReason=h;g.useLogMWBlockedComposerReason=a}),98);
__d("MWChatFilePreProcessingErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.react",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:c("gkx")("1147754")?h._("__JHASH__tncNGvtAhMp__JHASH__"):h._("__JHASH__BNDx1mX2nlz__JHASH__"),title:h._("__JHASH__GVmFuh2jycz__JHASH__")};g.maxFileSizeExceeded=a}),98);
__d("MWSharedMediaManagerUtils.bs",["I64","LSIntEnum","LSMailboxType","MWPComposerMediaUploadUtil","MWPreloadableQueries","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return new(b("Promise"))(function(b){var c=new Image();c.onload=function(){return b({previewHeight:c.height,previewWidth:c.width})};c.onerror=function(){return b()};c.src=a})}function i(a,b){if(b==null||a==null)return;var c=Math.floor(a.previewHeight*b.previewWidth/a.previewWidth);return c>=b.previewHeight?{previewHeight:d("I64").of_float(c),previewWidth:d("I64").of_float(b.previewWidth)}:{previewHeight:d("I64").of_float(b.previewHeight),previewWidth:d("I64").of_float(a.previewWidth*b.previewHeight/a.previewHeight)}}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield b("Promise").all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var e=URL.createObjectURL(b),g=(yield h(e));return[{attachmentType:d("MWPComposerMediaUploadUtil").getAttachmentType(b),durationMs:void 0,fbid:void 0,filename:b.name,fileSize:d("I64").of_int32(b.size),hasError:!1,isSent:!1,mailboxType:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),mimeType:b.type,offlineAttachmentId:a,offlineThreadingId:void 0,previewUrl:e,progress:0,threadKey:f},g]});return function(b){return a.apply(this,arguments)}}())));yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield a.table("sync_groups").get(d("ReQL").key(d("I64").of_float(1)))),e;if((c==null?void 0:c.syncParams)!=null){c=JSON.parse(c.syncParams);var f=c.preview_height;c=c.preview_width;e={previewHeight:f,previewWidth:c}}yield b("Promise").all(g.map(function(b){var c=b[0];b=b[1];return a.table("media_staging").add(babelHelpers["extends"]({},c,i(b,e)))}))});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return j.apply(this,arguments)}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"](d("ReQL").key(b))},"readwrite")}function k(a){var b=c("useReStore")();return d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").getMediaStagingQuery(b,a.threadKey)},[b,a.threadKey],f.id+":142")}g.insertMediaStaging=a;g.deleteMediaStaging=e;g.useMediaStaging=k}),98);
__d("MWMediaManager.bs",["FBLogger","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorDialog.react","MWChatFileUploadErrorDialog.react","MWSharedMediaManagerUtils.bs","cr:7123","emptyFunction","gkx","promiseDone","requireDeferred","useCometAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs"),i=c("gkx")("1147754")?78643200:26214400;function a(a,e,f,g,j,k){var l=c("useReStore")(),m=c("useCometAlertDialog")(),n=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),o=d("MWSharedMediaManagerUtils.bs").useMediaStaging(a);e=function(e){var f=e.some(function(a){return a.size>i});if(f)return m(d("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded,c("emptyFunction"));f=function(a){if(n)if(b("cr:7123")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media preprocess");return Promise.resolve([])}else return b("cr:7123").load().then(function(b){return b.preprocess(a)});else return h.load().then(function(b){return b.preprocess(a)})};c("promiseDone")(f(e)["catch"](function(){m(d("MWChatFilePreProcessingErrorDialog.react").invalidFileFormat,c("emptyFunction"));return Promise.resolve([])}).then(function(e){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").insertMediaStaging(l,e,a.threadKey));var f=a.threadKey;if(n){if(b("cr:7123")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return}return b("cr:7123").load().then(function(a){return a.upload(l,f,e)})}return h.load().then(function(a){return a.upload(l,f,e,g,j,k)})}))};f=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(l,a).then(function(){if(n&&b("cr:7123")!=null)return b("cr:7123").load().then(function(b){b.MAWMediaManagerAttachments["delete"](a)})}))};var p=function(){var a=o.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(l,a)["catch"](function(a){c("FBLogger")("MWMediaManager").catching(a).mustfix("Error deletting media staging.")})});n&&b("cr:7123")!=null&&c("promiseDone")(b("cr:7123").load().then(function(a){a.MAWMediaManagerAttachments.clear()}))};return{handleFileRemove:f,handleFileSelect:e,mediaStaging:o,resetAttachments:p}}g.useMediaManager=a}),98);
__d("MWLSUseLatch.bs",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;h(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return i(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useRef,k=e();function a(a){a=a.children;var b=j("");return h.jsx(k.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a({text:null});g["default"]=b}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWLSUpdateDraftMessage",["I64","Int64Hooks","LSFactory","LSUpdateDraftMessage","MWPActor.react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("useReStore")(),f=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(g,h){b!=null&&a!=null&&b(JSON.stringify(a.getEditorState()),d("I64").to_string(g),h,f);return e.runInTransaction(function(a){return c("LSUpdateDraftMessage")(g,h,c("LSFactory")(a))},"readwrite")},[e,a,b,f])}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useMemo;function a(a,b){var c=i(function(){return b.current},[b]);h(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){b===void 0&&(b=!1),h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("MWPComposerEditor.react",["I64","Int64Hooks","Lexical","LexicalText","MWChatFocusComposerContext","MWChatMessagesOnChatTabLoadTracker","MWLSUseLatch.bs","MWPActor.react","MWPNewMessageDraftContext.react","MWPReplyContext.react","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.react","WALoggerDeferred","cr:11463","deepEquals","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useLexicalInitializeEditor__DEPRECATED","useMWLSUpdateDraftMessage","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext,j=e.useEffect,k=e.useMemo,l=e.useRef,m=[];function n(a,b){j(function(){b(a.getEditorState())},[a,b]),j(function(){return a.registerUpdateListener(function(a){return b(a.editorState)})},[b,a])}var o=["MWPComposerEditor","Composer"];function p(a,b){b=d("MWLSUseLatch.bs").useLatch(b,!0,5e3);var c=b[0],e=b[1],f=l("");j(function(){var b=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return a.registerUpdateListener(b)},[c,e,a])}function q(a,b){var e=i(d("MWPReplyContext.react").MWPReplyContext),f=e.reply,g=c("usePrevious")(f);j(function(){var a=g==null?f!=null:c("deepEquals")(g,f)?!1:!0;a&&b()},[a,f,g,b])}var r=b("cr:11463")==null?function(a){}:b("cr:11463").useHook,s=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.autoFocus,e=b===void 0?!0:b;b=a.children;var f=a.customizedRanges,g=a.deleteComposerStateForUserIdByThreadKey,t=a.getEditorState,u=a.getTextFromEditorState,v=u===void 0?s:u;u=a.isPreviewThread;var w=u===void 0?!1:u;u=a.isSendDisabled;var x=u===void 0?!1:u;u=a.mediaStaging;u=u===void 0?m:u;var y=a.onSendEmptyMessage,z=a.onSendMessage,A=a.onTypingStateChanged,B=a.persistEditorState,C=a.thread,D=a.useMWPComposerPrepopulateEditorState;a=a.clearFormatAfterSend;var E=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),F=i(c("MWPreloadedText"));F=F.text!=null?F.text:E!=null?E.current:C.draftMessage;var G=l(F),H=l(null);r(H.current);var I=k(function(){return c("mwpLexicalCreateEditor")()},[]);t=t!=null?t(d("I64").to_string(C.threadKey)):JSON.stringify(I.getEditorState());t=t!=null?JSON.parse(t):JSON.parse("{}");var J={contents:function(){return I.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}},K=c("useMWLSUpdateDraftMessage")(I,B),L=c("useDebounced")(K,500),M=l();B=d("MWV2ComposerHasContentContext.bs").useComposerHasContext();var N=B.shouldClearDraftMessageRef,O=B.hasContentRef,P=h(function(){var a;a=(a=document.activeElement)==null?void 0:(a=a.attributes.getNamedItem("id"))==null?void 0:a.value;if(a==null?void 0:a.includes("prevent-composer-focus-steal"))return;return I.focus(function(){})},[I]);j(function(){return function(){Boolean(N==null?void 0:N.current)&&c("promiseDone")(K(C.threadKey,""));var a=M.current;a!=null&&c("promiseDone")(K(C.threadKey,a))}},[]);B=d("Int64Hooks").useCallbackInt64(function(a){a=a.read(function(){return d("LexicalText").$rootTextContent()});M.current=a;O!=null&&(O.current=a!=="");L(C.threadKey,a);if(w&&E!=null){E.current=a;return}},[O,L,C.threadKey,w,E]);n(I,B);p(I,A);B=F!=null?F.trim()==="":!0;A=c("useMWPLexicalIsTextContentEmpty")(I,!0,B);F=u.length>0;var Q=!A||F,R=u.filter(function(a){return!a.isSent}).length;B=i(d("MWChatFocusComposerContext").context);var S=B.setFocusComposer;j(function(){e&&S(function(){return P()})},[e,I,P,S]);j(function(){R>0&&P()},[I,P,R]);var T=d("MWV2IsTabFocusedContext.react").useIsTabFocused();j(function(){T&&!w&&P()},[I,T,w,P]);q(I,P);c("useMWPCometComposerPrepopulateDraftMessage")(I,G);D==null?void 0:D(I,t);var U=d("MWPActor.react").useActor(),V=function(a,b,e,f,h,i,j,k,l){g!=null&&g(d("I64").to_string(C.threadKey),d("I64").to_string(U));c("promiseDone")(d("WALoggerDeferred").logWithTags(o,["Calling MAWSendSecureMessageV2.useOnSendSecureMessage in MWPComposerEditor"],"LOG"));z(a,b,e,f,h,i,j,k,l,void 0);return P()};A=h(function(){if(x)return;if(Q){c("promiseDone")(d("WALoggerDeferred").logWithTags(o,["Calling onSendMessage"],"LOG"));var a=f!=null?f(I,d("I64").to_string(C.threadKey)):c("MWV2ChatComposerGetViewContent").getRanges(I),b=I.getEditorState();b=v(b);d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(C.threadKey);V(b,a)}else y==null?void 0:y();M.current="";return J.contents()},[I,V,Q,x]);c("useMWPLexicalCommitMessageOnEnter")(I,A);c("useLexicalInitializeEditor__DEPRECATED")(I);c("useMWPLexicalClearEditor")(I,a);return b(I,Q,H,A)}g.MWPComposerEditor=a}),98);
__d("MWPEditMessageUtil",["I64","MAWEditMessageContext.react","gkx","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){var b=a.editCount!=null&&d("I64").gt(a.editCount,d("I64").zero);return b&&!a.isUnsent&&c("qex")._("289")===!0}function b(){var a=h(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return c("gkx")("6265")?a:null}g.isEditedMessage=a;g.useGetEditMessageData=b}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MessengerFormattingConfig","TetraText.react","UnicodeUtils","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.BlockQuote,i.InlineQuote,i.InlineCode,i.Bold,i.Italics,i.StrikeThrough];function a(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=d("UnicodeUtils").strlen(k[0]);g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform","cr:2472","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.transformEmoticons,f=a.isHotLike,g=a.ranges;a=a.text;e=e!=null?e:!0;f=f!=null?f:!1;var j={};j.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];a=b("cr:2472")==null?a:b("cr:2472").unvault(a);var k=h._("__JHASH__fJLp3hO2Ffq__JHASH__").toString();f=f?k:a;k={maxLength:120,maxLines:2,renderers:j,text:f,transforms:e?d("MWChatTextTransform").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};g!=null&&(k.ranges=g);a=i.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},k));return i.jsx("div",{className:"xi81zsa",dir:"auto",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWCMIsAnyCMThread","MWChatReplyText.bs","MWPActor.react","MWPReplyContext.react","MWXIcon.react","MWXText.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","cr:6796","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect;function m(a,e,f){var g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&(d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");if(a.text!=null&&a.text!==""){return j.jsx(c("MWChatReplyText.bs"),{isHotLike:g,text:(e=a.text)!=null?e:h._("__JHASH__C1Hm6KH3mNE__JHASH__")})}if(f!=null){if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");return d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function n(a,b,d,e){if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",j.jsx(c("MWXText.react"),{type:"bodyLink4",children:e?b.name:(e=(a=d)!=null?a:b.firstName)!=null?e:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")])}function o(a){var b=a.isSecureThread,e=a.message;a=a.useContactFullname;var g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=d("I64").equal(e.senderId,h),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e.senderId)},[g,e.senderId],f.id+":234");h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(e.threadKey,e.messageId)},[g,e.messageId,e.threadKey],f.id+":240");var o=d("ReQLSuspense").useFirst(function(){return k!=null&&!i?d("ReQL").fromTableAscending(g.table("threads")).getKeyRange(e.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;return!c("MWCMIsAnyCMThread")(a)?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("community_folders")).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a,k.id).map(function(a){return a.profileName}),f.id+":262")}),f.id+":258")}):d("ReQL").empty()},[g,e.threadKey,k,i],f.id+":249");l(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);b=m(e,b,h);h=n(i,k,o,a);return j.jsx("div",{className:"xmo9yow",children:j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWXText.react"),{type:"body4",children:h}),level:3,meta:b})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var e=a.isSecureThread;e=e===void 0?!1:e;var f=a.message;a=a.useContactFullname;var g=k(d("MWPReplyContext.react").MWPReplyContext),l=g.clearReply,m=k(c("CometTriggerAccessibilityAlertContext"));g=(g=b("cr:6796")(!0))==null?void 0:g.backgroundColor;return j.jsxs("div",{className:"x1cy8zhl xcrg951 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,style:g!=null?{backgroundColor:g}:void 0,children:[j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:j.jsx(o,{isSecureThread:e,message:f,useContactFullname:a})}),j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){l(f.threadKey,!0),m(h._("__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp,g=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var h=c("useReStore")(),i=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("messages")).getKeyRange(g.threadKey,e,b)},[h,g.threadKey,b,e],f.id+":366");if(k!=null)return j.jsx(p,{isSecureThread:i,message:k,useContactFullname:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerReplyViewContainer=p;g.MWV2ComposerReplyView=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometProfilePhoto.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,i=f.photoURI;f=f.subtitle;var j;i!=null?j=h.jsx(c("CometProfilePhoto.react"),{size:28,source:{uri:i}}):g!=null&&(j=h.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}));return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,itemStartContent:j,testid:void 0,children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f,g){var i=a.query,j=[];b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,i)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,i)&&(g="nickname");if(g!=null&&f!=null){var h;j.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("1608686")){b=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)){var k=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();j.push({decorType:"regular",handle:b,key:""+e,label:b,rawData:{source:"all",subtitle:k},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)){k=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();j.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:k},type:"entry"})}}j.length>g&&(j=j.slice(0,g));j.length<g&&f&&f(i,g-j.length);return{entries:j,params:a}}g.fetchCacheComposerMentionsTypeahead=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h=6;a=function(){function a(a,b,d){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,h)};e.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID,e=a.triggerParticipantsSearch;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d,e),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d,e]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatComposerMentionsViewItem.react","MWLSThread","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}},k={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=a.editor,f=a.participants,g=a.threadFBID,l=j(d("I64").of_string(g));a=i(function(){return{participants:f,threadFBID:g,triggerParticipantsSearch:l}},[f,g,l]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var m=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:k.view}),n=d("MWLSThread").useThreadExn(d("I64").of_string(g)),o=c("useCommunityFolder")(n);if(b("cr:2600")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&o||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(n.threadType))){var p;return h.jsx(b("cr:2600"),{editor:e,fbGroupId:(p=o==null?void 0:o.fbGroupId)!=null?p:n.threadKey,folderId:(p=o==null?void 0:o.folderId)!=null?p:n.threadKey,threadFBID:g})}else return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),m={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl",$$css:!0}},n=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,o=a.handlePastedFiles,p=a.isSecureThread,q=a.participants,r=a.placeholderText;r=r===void 0?"Aa":r;var s=a.policyProduct,t=a.startContent,u=a.style,v=a.surface,w=a.testId,x=a.threadID,y=a.topContent;a=a.useMentionsPlugin;var z=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a)},[f,g]),A=d("LexicalComposerContext").createLexicalComposerContext(),B=k(function(){return[g,A]},[g,A]);e=i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:n,contentEditableRef:z,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:w,xstyle:m.editor});z=i.jsx(c("CometLexicalPlaceholder.react"),{children:r});w=c("useDeferredModuleOnReady")(l);return i.jsxs("div",{className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 x1iyjqo2 xeuugli",style:u,children:[i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:s,surface:v}),y,i.jsxs("div",{className:"x78zum5 x1a02dak x13a6bvl",children:[t,i.jsx("div",{className:"x78zum5 x1iyjqo2 x1gja9t x16n37ib x1xmf6yo x1e56ztr xeuugli x1n2onr6",children:i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:B,children:[i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:e,placeholder:z}),i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,participants:q,threadFBID:x}),!Boolean(p)&&b("cr:1948")&&i.jsx(b("cr:1948"),{editor:g}),w==null?null:i.jsx(w,{editor:g,handlePastedFiles:o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a,b){var c=a.length;c=c<<1;var d=new ArrayBuffer(44+c);d=new DataView(d);j(d,0,"RIFF");d.setUint32(4,36+c,!0);j(d,8,"WAVE");j(d,12,"fmt ");d.setUint32(16,16,!0);d.setUint16(20,1,!0);d.setUint16(22,2,!0);d.setUint32(24,b,!0);d.setUint32(28,b<<2,!0);d.setUint16(32,4,!0);d.setUint16(34,16,!0);j(d,36,"data");d.setUint32(40,c,!0);i(d,44,a);return d}function c(a,b){a=k(a,b);return new File([a],"audio_clip.wav",{type:"audio/wav"})}var l=2;function e(a,b){var c=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/c/l;return a/b%d("DateConsts").SEC_PER_MIN}function m(a,b,c){return a+(b-a)*c}function f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=m(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function n(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=n}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext;c={threadKey:d("I64").zero};var j=e(c);function a(){return i(j).threadKey}function b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return h.jsx(j.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","bx","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.createContext,l=j.useCallback,m=j.useContext,n=j.useEffect,o=j.useMemo,p=j.useRef,q=j.useState,r=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function s(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function t(a){var b=Array.from(r.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function u(a){return h._("__JHASH__T0e3ZJkGlxz__JHASH__",[h._param("playback rate",a,[0])])}u.displayName=u.name+" [from "+f.id+"]";j={activeAudio:null,activeThreadKey:d("I64").zero,addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),getNewOrExistingAudio:s,onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:u(r.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var v=k(j);function a(a,b,c){var e=m(v),f=e.activeAudio,g=e.activeThreadKey,h=e.addNextPlayableUrl,i=e.getNewOrExistingAudio,j=e.setUseOutOfChatPlayback,k=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!c||d("I64").is_zero(g)||d("I64").is_zero(k))return;j(!d("I64").equal(g,k));return function(){j(d("I64").equal(g,k))}},[f,g,j,c,k]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){if(!c)return s(a);b!=null&&b!==""&&h(a,b);return i(a,k)}},[h,i,b,a,c,k])}function e(){var a=m(v),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function w(){var a=m(v),b=a.activeAudio,e=a.activeThreadKey;a=a.clearActiveAudio;var g=c("useReStore")(),h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("threads")).getKeyRange(e)},[g,e],f.id+":164");return[b,a,h]}function x(a){a=a.children;var b=p(new Map()),e=p(new Map()),f=p([]),g=p(s(c("bx").getURL(c("bx")("577"))));n(function(){var a=f.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var h=q(r.NORMAL),j=h[0],k=h[1],m=o(function(){return u(j)},[j]);h=q(d("I64").zero);var w=h[0],x=h[1];h=q(null);var y=h[0],z=h[1];h=q(!1);var A=h[0],B=h[1],C=(y==null?void 0:y.paused)===!1,D=o(function(){return A&&C?y:null},[y,C,A]),E=l(function(){z(function(a){a!=null&&a.pause();return null})},[]),F=l(function(a,c){var d,h=(d=b.current.get(a))!=null?d:s(a);h.playbackRate=j;d=function(a,b){h.addEventListener(a,b),f.current.push([h,a,b])};var i=function(){var c=e.current.get(a);if(c!=null){var d=b.current.get(c);if(d!=null&&d.paused)return void g.current.play().then(function(){z(d);return d.play()["catch"](function(){return z(null)})})}z(null)};d("ended",i);i=function(){for(var a=b.current.values(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==h&&f.pause()}z(h);x(c)};d("playing",i);b.current.set(a,h);return h},[j]),G=l(function(){k(function(a){a=t(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),H=l(function(a,b){e.current.set(a,b)},[]);h=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:D,activeThreadKey:w,addNextPlayableUrl:H,clearActiveAudio:E,getNewOrExistingAudio:F,onChangePlaybackRate:G,playbackRateLabel:m,setUseOutOfChatPlayback:B}},[D,w,H,E,F,G,m]);return i.jsx(v.Provider,{value:h,children:a})}x.displayName=x.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=w;g.MWPAudioPlaybackContextProvider=x}),98);
__d("MWPAudioPlayer.react",["fbt","$InternalEnum","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","MWChatRecorderUtils","MWPAudioPlaybackContext.react","MWPThreadThemeGradientUtils","cancelAnimationFrame","formatDurationSeconds","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","stylex","useMWPThreadTheme","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.createContext,l=j.forwardRef,m=j.useCallback,n=j.useContext,o=j.useEffect,p=j.useImperativeHandle,q=j.useLayoutEffect,r=j.useMemo,s=j.useRef,t=j.useState,u=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),v=3,w=3,x=44,y=4,z={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},A={common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"xipm1xi","::after_borderEndColor":"x24l0bi","::after_borderBottomColor":"x11usdlg","::after_borderStartColor":"xcukw63","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0}},B=c("gkx")("4435");function C(){var a=n(X);return B&&a===W.PLAYER}j=h._("__JHASH__KhMMxBdqg3x__JHASH__");var D=h._("__JHASH__2rBFW-RfRDV__JHASH__"),E=h._("__JHASH__IubwmxlTNhe__JHASH__");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function e(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}e.displayName=e.name+" [from "+f.id+"]";function F(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}F.displayName=F.name+" [from "+f.id+"]";function G(a){var b=a.currentTime;a=a.duration;return i.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}G.displayName=G.name+" [from "+f.id+"]";function H(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function I(a){var b=a.audioEl;a=a.children;var d=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=H(a)},[b]),e=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=H(a)},[b]),f=m(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),j=r(function(){return[{command:{key:c("CometKeys").UP},description:h._("__JHASH__0poPtptaPoq__JHASH__"),handler:e},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:d},{command:{key:c("CometKeys").LEFT},description:h._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:d},{command:{key:c("CometKeys").RIGHT},description:h._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:e},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:f},{command:{key:c("CometKeys").END},description:h._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:g}]},[d,e,f,g]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:j,children:a})}I.displayName=I.name+" [from "+f.id+"]";function J(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=c("useMWPThreadTheme")();e=d("MWPThreadThemeGradientUtils").getBottomGradientColor(e);var f=C();b=f?{color:b?"var(--always-white)":"var(--progress-ring-neutral-foreground)"}:{color:b?e:"var(--always-black)",cursor:"pointer"};return i.jsx("div",{className:c("stylex")(z.rightSideTop,!f&&z.rightSideBottom,f&&z.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}J.displayName=J.name+" [from "+f.id+"]";function K(a){a=a.outgoing;var b=C(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return i.jsx(c("CometPressable.react"),{onPress:e,overlayDisabled:!0,children:i.jsx("div",{className:"x6s0dn4 x1a3ma36 x78zum5 x1nxh6w3 x1s688f xi0exxh xl56j7k x1n2onr6 x87ps6o x1gslohp x14hiurz xfj52jq xykzs3s x17xv1ja x1mvicbb x16n37ib xq8finb x1691je0",style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}K.displayName=K.name+" [from "+f.id+"]";function L(a){var b=a.disabled,d=a.icon,e=a.label;a=a.onPress;var f=C(),g=f?{backgroundColor:"transparent"}:{};return i.jsx(c("CometPressable.react"),{"aria-label":e,disabled:b,onPress:a,overlayDisabled:f,overlayRadius:"50%",style:g,testid:void 0,xstyle:A.pressable,children:d})}L.displayName=L.name+" [from "+f.id+"]";function M(){var a=C();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function N(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return U(c,0,1)}function O(a,b){var d=a.currentTime,e=a.duration;a=a.xPosition;return i.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":e,"aria-valuemin":0,"aria-valuenow":d,className:c("stylex")(d===0?z.transparentBar:z.bar),ref:b,role:"slider",style:{left:a.toFixed(2)+"%"}})}O.displayName=O.name+" [from "+f.id+"]";var P=l(O);function Q(a){var b=a.hasEnded,c=b===void 0?!1:b;b=a.isPlaying;var d=b===void 0?!1:b,e=a.outgoing,f=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isPlaying","outgoing","scrubberLeft"]);var g=s(null);a=t("auto");var h=a[0],j=a[1];q(function(){var a=g.current;j(function(){var b="auto";(c||d)&&(b=e===!0?"var(--secondary-button-background-on-dark)":"var(--non-media-pressed-on-dark)");if(a==null)return b;var g=a.getBoundingClientRect();g=g.left;return f>g?e===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[c,d,e,f]);a=e===!0?"xe3v8dz":"x1f9y4dh";return i.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:g,style:{fill:h}}))}Q.displayName=Q.name+" [from "+f.id+"]";function R(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}var S=l(function(a,b){var d=a.audioEl,e=a.children,f=a.duration,g=a.hasEnded,h=a.isListened,j=a.isPlaying;j=j===void 0?!0:j;var k=a.onUpdateScrubber,l=a.outgoing,m=a.waveformData;a=a.xstyle;var n=C(),o=s(),r=s(),u=t(0),v=u[0],w=u[1];u=t(0);var x=u[0],y=u[1];q(function(){if((d==null?void 0:d.current)!=null&&r.current!=null&&f!=null&&f>0){var a=d.current.currentTime,b=r.current;y(R(b,a/f*100))}},[d,f]);p(b,function(){return{updateHighlight:function(a){var b=o.current,c=r.current;if(b==null)return;if(n){if(c!=null){c=R(c,a);y(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[n]);u=function(a){if(o.current!=null){var b,c;b=(b=o.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=o.current)==null?void 0:c.offsetWidth)!=null?c:0;w(b/c*100);if(f!=null&&f>0){b=N(a,o.current)*f;if(k!=null&&r.current!=null){c=r.current;k(b);y(R(c,b/f*100))}}}};if(n){return i.jsxs(i.Fragment,{children:[e,i.jsxs("div",{className:"x17qophe x13vifvy x6s0dn4 x78zum5 x5yr21d x1n2onr6 xh8yej3 x1vjfegm",onMouseDownCapture:u,ref:o,children:[i.jsx(P,{currentTime:d==null?void 0:(b=d.current)==null?void 0:b.currentTime,duration:(u=d==null?void 0:(e=d.current)==null?void 0:e.duration)!=null?u:0,ref:r,xPosition:v}),i.jsx(V,{hasEnded:g,isListened:h,isPlaying:j,outgoing:l,scrubberLeft:x,waveformData:m})]})]})}return i.jsx("div",{className:c("stylex")(z.highlight,a),ref:o})});function T(a){var b=a.audioEl,c=a.children,d=a.currentTime,e=a.duration,f=a.hasEnded,g=a.hasScrubber,h=a.isListened,j=a.isPlaying;j=j===void 0?!0:j;var k=a.onUpdateScrubber,l=a.outgoing,m=a.progressHighlightRef,n=a.scrubberRef,o=a.waveformData;a=a.xstyle;var p=C();return p?i.jsx(S,{audioEl:b,duration:e,hasEnded:f,isListened:h,isPlaying:j,onUpdateScrubber:k,outgoing:l,ref:m,waveformData:o,xstyle:a,children:c}):i.jsxs(i.Fragment,{children:[i.jsx(S,{ref:m,xstyle:a}),g?i.jsx(G,{currentTime:d,duration:e}):null,i.jsx(S,{ref:n,xstyle:a}),c]})}T.displayName=T.name+" [from "+f.id+"]";function U(a,b,c){return Math.min(Math.max(b,a),c)}function aa(a,b){var c=r(function(){return a==null||a===""?u:Float32Array.from(a.split(",").map(Number))},[a]);return r(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(w*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),y,x);return a.map(function(a,b){a=Math.ceil(a);var c=v,d=w;b=b*w*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function V(a){var b=a.hasEnded,c=a.isListened,d=a.isPlaying,e=a.outgoing,f=a.scrubberLeft;a=a.waveformData;var g=s(null),h=t(0),j=h[0],k=h[1],l=b===!0||c===!0;q(function(){if(g.current!=null){var a=g.current.getBoundingClientRect();k(a.width)}},[]);h=aa(a,j);return h.length===0?i.jsx("div",{className:"xn3w4p2 x1n2onr6 xh8yej3",ref:g}):i.jsx("div",{className:"xn3w4p2 x1n2onr6 xh8yej3",ref:g,children:i.jsx("svg",{"aria-hidden":!0,className:"x5yr21d x10l6tqk xh8yej3",children:h.map(function(a,b){return i.createElement(Q,babelHelpers["extends"]({},a,{hasEnded:l,isPlaying:d,key:b,outgoing:e,scrubberLeft:f}))})})})}V.displayName=V.name+" [from "+f.id+"]";var W=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),X=k(W.PLAYER);function Y(a){var b=a.audioEl,c=a.children,d=a.hasScrubber,e=a.scrubberRef,f=a.style,g=a.testid;g=a.useCase;a=C();var h=s(),j=function(a){var c=b.current,d=h.current;c!=null&&d!=null&&(c.currentTime=N(a,d)*c.duration)},k=function(a){if(h.current!=null&&e.current!=null)return e.current.updateHighlight(N(a,h.current)*100)},l=function(){if(e.current!=null)return e.current.updateHighlight(0)};f=babelHelpers["extends"]({cursor:d?"pointer":"default",height:a&&g===W.PLAYER?70:36},f);a=d&&!a;return i.jsx(X.Provider,{value:g,children:i.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 x1qughib x6ikm8r x10wlt62 x1n2onr6","data-testid":void 0,onClick:a?j:void 0,onMouseLeave:d?l:void 0,onMouseMove:a?k:void 0,ref:h,style:f,children:c})})}Y.displayName=Y.name+" [from "+f.id+"]";function ba(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function Z(a,b,d,e,f,g){f===void 0&&(f=!1);var h=s();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var $=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function ca(a,b,e,f,g){var h=C(),i=c("useStable")(function(){return e}),j=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,h),k=s(j);a=t($.NONE);var l=a[0],n=a[1];b=t(function(){var a;return(a=j==null?void 0:j.currentTime)!=null?a:0});a=b[0];var p=b[1];o(function(){if(j==null){n($.NONE);return}j.ended&&n($.ENDED);n(function(){return j.paused?$.PAUSED:$.PLAYING});p(j.currentTime);k.current=j},[j]);o(function(){var a=k.current;if(a==null)return;var b=function(){return n($.PAUSED)},c=function(){return n($.PLAYING)},d=function(){return n($.LOADING)},e=function(){k.current!=null&&p(k.current.currentTime)},f=function(){k.current=a,b()},g=function(){k.current!=null&&(k.current.currentTime=0,p(0)),n($.ENDED)};a.addEventListener("loadstart",d);a.addEventListener("canplay",f);a.addEventListener("timeupdate",e);a.addEventListener("playing",c);a.addEventListener("pause",b);a.addEventListener("ended",g);return function(){a.removeEventListener("loadstart",d),a.removeEventListener("canplay",f),a.removeEventListener("timeupdate",e),a.removeEventListener("playing",c),a.removeEventListener("pause",b),a.removeEventListener("ended",g),h||a.pause()}},[j,h]);b=m(function(){var a=k.current;if(a==null)return;switch(l){case $.NONE:case $.LOADING:return;case $.ENDED:case $.PAUSED:c("promiseDone")(a.play(),function(){return n($.PLAYING)},i);return;case $.PLAYING:a.pause();n($.PAUSED);return}},[i,l]);var q=m(function(a){var b=k.current;if(b==null)return;b.currentTime=a;p(a)},[]);return[l,a,k,b,Z(g,k,a,l===$.PLAYING,f,l===$.ENDED),q]}function da(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=t(function(){if(b==null)return $.NONE;return b.ended?$.ENDED:b.paused?$.PAUSED:$.PLAYING}),g=f[0],h=f[1];f=t(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h($.LOADING)},e=function(){return h($.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h($.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);f=m(function(){if(b==null)return;switch(g){case $.NONE:case $.LOADING:return;case $.ENDED:case $.PAUSED:c("promiseDone")(b.play(),function(){return h($.PLAYING)});return;case $.PLAYING:b.pause();h($.PAUSED);return}},[b,g]);return[a,g===$.PLAYING,b!=null&&a!=null&&B,i,f,e]}g.styles=A;g.useShowNewUX=C;g.playLabel=j;g.stopLabel=D;g.pauseLabel=E;g.PlayIcon=a;g.StopIcon=e;g.PauseIcon=F;g.ScreenReaderLabel=G;g.KeyCommands=I;g.Timer=J;g.PlaybackRateButton=K;g.PlaybackButton=L;g.usePlaybackButtonContainerStyle=M;g.Highlight=S;g.HighlightV2=T;g.UseCase=W;g.Container=Y;g.useResetHighlightProgress=ba;g.useProgressLiveUpdate=Z;g.State=$;g.useControlCenter=ca;g.useOutOfChatControlCenter=da}),98);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(d("MessengerSurfaceType.bs").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType.bs").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=h.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType.bs").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("useMWInlineStylesForReply",["MAWGating","MWLSThreadDisplayContext","MWPColorUtils","gkx","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b,e){var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=f!=="Inbox",i=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return h(function(){if(c("gkx")("1969")&&a.backgroundUrl!=null&&a.backgroundUrl.length>=1&&b.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(b[0].color)};if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils").gradient(b,g?{footerHeight:56,headerHeight:d("MAWGating").isArmadillo()?32:48,totalHeight:i?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a.backgroundUrl,a.fallbackColor,b,e,g,i])}g["default"]=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("messages").index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[b,a.messageId],f.id+":22"),g=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},[b,e],f.id+":29");return g}g["default"]=a}),98);
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null;a={get:function(){i==null&&(i=new h());i.state==="closed"&&(c("FBLogger")("project").warn("AudioContext Singleton has been closed"),i=new h());return i}};b=a;g["default"]=b}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function i(a){var d=c("AudioContextSingleton").get();return new(b("Promise"))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield i(b));return h(b)}catch(b){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.attachmentFbid,f=a.messageId,g=a.threadKey,h=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield h.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.table("attachments");var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(g,f,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}(),[h,g,f,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useState,k=3,l=",",m=["blob:","data:"];function a(a,e){var f=j(a.waveformData),g=f[0],n=f[1],o=c("useMWAttachmentUpdater")(a),p=e(a),q=h(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(p!=null&&p!==""){var a=d("ConstUriUtils").getUri(p);if(a!=null&&m.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>k&&n(a.join(l))}}}),[p]);i(function(){if(g!=null&&g.length>k)return;c("promiseDone")(q())},[q,g]);i(function(){g!=null&&g.length>k&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;h(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_product","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["CometProgressRingIndeterminate.react","I64","MWLSThreadDisplayContext","MWPAudioPlayer.react","MWPColorUtils","MessengerSurfaceQuickChat.bs","defaultMWPThreadTheme","react","requireDeferred","stylex","useMWInlineStylesForReply","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react"),l={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function m(a){return i(function(){return[l.root,a?l.outgoing:l.incoming]},[a])}function n(a){var b=a.backgroundColor,c=a.disabled,e=a.hasEnded,f=a.isPaused,g=a.isPlaying;a=a.outgoing;var i=d("MWPAudioPlayer.react").useShowNewUX();i=i?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?b:void 0;if(g)return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:i});return f||e||c?h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:i}):null}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.backgroundColor,e=a.disabled,f=a.hasEnded,g=a.isLoading,i=a.isPaused,j=a.isPlaying,k=a.onPress,l=a.outgoing;a=a.scrubberRef;var m=d("MWPAudioPlayer.react").usePlaybackButtonContainerStyle();a=d("MWPAudioPlayer.react").useResetHighlightProgress(a);var o=j||i;return g?h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.pressable),onMouseMove:o?a:void 0,style:m,children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):h.jsx("div",{onMouseMove:o?a:void 0,style:m,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{disabled:e,icon:h.jsx(n,{backgroundColor:b,disabled:e,hasEnded:f,isPaused:i,isPlaying:j,outgoing:l}),label:j?d("MWPAudioPlayer.react").pauseLabel:d("MWPAudioPlayer.react").playLabel,onPress:k})})}o.displayName=o.name+" [from "+f.id+"]";function p(){k.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.customIncomingBackgroundColor,f=a.disableTheme;f=f===void 0?!1:f;var g=a.getPlayableUrl,i=a.isReply;i=i===void 0?!1:i;var k=a.outgoing;a=a.width;var l=c("useMWPThreadTheme")(),n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface();f=f?{outgoingGradientColors:[],threadTheme:c("defaultMWPThreadTheme")}:l;l=f.outgoingGradientColors;f=f.threadTheme;var r=b.playableDurationMs;r=d("I64").to_float((r=r)!=null?r:d("I64").zero)/1e3;var s=c("useMWNextAttachment")(b),t=c("useMWPAudioWaveformData.react")(b,g);g=d("MWPAudioPlayer.react").useControlCenter(g(b),s!=null?g(s):void 0,p,!1,r);s=g[0];var u=g[1],v=g[2],w=g[3],x=g[4];g=g[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(v,b);var y=s===d("MWPAudioPlayer.react").State.NONE,z=s===d("MWPAudioPlayer.react").State.PLAYING,A=s===d("MWPAudioPlayer.react").State.PAUSED,B=s===d("MWPAudioPlayer.react").State.LOADING;s=s===d("MWPAudioPlayer.react").State.ENDED;var C=z||A,D=k&&l.length>1,E=j(),F=m(k);l=c("useMWInlineStylesForReply")(f,l,k);var G=l.backgroundAttachment,H=l.backgroundColor;l=l.backgroundImage;f={backgroundAttachment:i?G:void 0,backgroundColor:i?H:k?D?"transparent":d("MWPColorUtils").int64ToHex(f.fallbackColor):(G=e)!=null?G:"var(--wash)",backgroundImage:i?l:void 0,borderRadius:D?void 0:"18px",width:a!=null?a:n!=null?n==="Inbox"?"218px":n==="ChatTab"&&q?"168px":"180px":"180px"};e=C?Math.max(r-u,0):0;return h.jsx(d("MWPAudioPlayer.react").KeyCommands,{audioEl:v,children:h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:v,hasScrubber:C,scrubberRef:E,style:f,testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.PLAYER,children:h.jsxs("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.common,D?d("MWPAudioPlayer.react").styles.transparent:!1),children:[h.jsx(d("MWPAudioPlayer.react").HighlightV2,{audioEl:v,currentTime:u,duration:r,hasEnded:s,hasScrubber:C,isListened:b.isAttachmentConsumed===!0,isPlaying:z,onUpdateScrubber:g,outgoing:k,progressHighlightRef:x,scrubberRef:E,waveformData:t,xstyle:F,children:h.jsx(o,{backgroundColor:H,disabled:y,hasEnded:s,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:k,scrubberRef:E})}),h.jsx("div",{children:z?h.jsxs(h.Fragment,{children:[h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:k,time:e}),h.jsx(d("MWPAudioPlayer.react").PlaybackRateButton,{outgoing:k})]}):h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:k,time:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=m;g.MWAudioPlayer=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayer.react","Promise","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useReducer,m=i.useRef;function a(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function e(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function n(a){switch(a.TAG){case 0:return 0;case 1:return a._1;case 2:case 3:break}return Math.max(a._0-a._1,0)}function o(a){switch(a.TAG){case 0:return 0;case 1:return a._2;case 2:case 3:return a._0}}function p(a){switch(a.TAG){case 0:case 1:return;case 2:case 3:return a._1}}function q(a){switch(a.TAG){case 0:case 2:return!1;case 1:case 3:return!0}}function r(a){if(a.TAG===2)return a._1===0;else return!1}function s(a){switch(a.TAG){case 1:return d("MWPAudioPlayer.react").stopLabel;case 0:case 2:return d("MWPAudioPlayer.react").playLabel;case 3:return d("MWPAudioPlayer.react").pauseLabel}}function t(a,b){switch(a.TAG){case 1:return h.jsx(d("MWPAudioPlayer.react").StopIcon,{color:b});case 0:case 2:return h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:b});case 3:return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:b})}}t.displayName=t.name+" [from "+f.id+"]";function u(a,b){switch(b.TAG){case 0:return{_0:b._0,_1:0,_2:b._1,TAG:1};case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._1,_1:0,TAG:2};case 2:return{_0:a._0,_1:a._1,TAG:3};case 3:return{_0:a._0,_1:a._1,TAG:2}}break;case 2:var c=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:a._0,_1:c,_2:a._2,TAG:1};case 2:return{_0:c,_1:a._1,TAG:2};case 3:return{_0:c,_1:a._1,TAG:3}}break;case 3:c=b._0;switch(a.TAG){case 0:case 1:return a;case 2:var d=a._0;return c===d?{_0:d,_1:0,TAG:2}:{_0:d,_1:c,TAG:2};case 3:d=a._0;return c===d?{_0:d,_1:0,TAG:2}:{_0:d,_1:c,TAG:3}}break;case 4:return{_0:b._0,_1:0,TAG:2};case 5:return{_0:void 0,TAG:0}}}var v={_0:void 0,TAG:0};function w(a,d,e){a===void 0&&(a=60);d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=c("emptyFunction"));var f=l(u,v),g=f[0],h=f[1],i=c("useIsMountedRef")(),n=m(),o=m([]),p=m([]),q=m(),r=m(),s=m(),t=m(),w=m(c("emptyFunction")),x=j(function(a){var b=a[0],c=a[1];if(!i.current)return;a=URL.createObjectURL(b);s.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){r.current=d;var a=d.duration;h({_0:a,TAG:2});a={duration:a,file:b,waveformData:c};t.current=a;w.current(a)});d.addEventListener("timeupdate",function(){var a;a=(a=r.current)==null?void 0:a.currentTime;a!=null&&h({_0:a,TAG:3})});d.addEventListener("durationchange",function(){var a;a=(a=r.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&h({_0:a,TAG:2})})},[i]),y=j(function(){if(n.current==null||q.current==null)return;q.current.postMessage({buffersL:o.current,buffersR:p.current,sampleRate:n.current})},[]);k(function(){if(g.TAG!==1)return;o.current=[];p.current=[];var a=c("AudioContextSingleton").get(),b=a.destination;n.current=a.sampleRate;var e=g._0,f=a.createScriptProcessor(4096,2,2);a=a.createMediaStreamSource(e);q.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(x).setAllowCrossPageTransition(!0).execute();var h=function(a){g.TAG===1&&a instanceof AudioProcessingEvent&&(o.current.push(a.inputBuffer.getChannelData(0).slice()),p.current.push(a.inputBuffer.getChannelData(1).slice()))};f.addEventListener("audioprocess",h);a.connect(f);f.connect(b);d();return function(){e.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),f.removeEventListener("audioprocess",h)}},[x,d,g.TAG,g._0]);var z=c("usePrevious")(g);k(function(){(z==null?void 0:z.TAG)===1&&g.TAG===2&&y()},[z==null?void 0:z.TAG,y,g.TAG]);k(function(){if(g.TAG!==1)return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a){h({_0:a,TAG:4});return}h({_0:f,TAG:2});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[a,g.TAG]);f=j(function(b){h({_0:b,_1:a,TAG:0})},[a]);var A=j(function(){var a;h({_0:void 0,TAG:5});(a=r.current)==null?void 0:a.pause();r.current=void 0;t.current=void 0;n.current=void 0;a=s.current;a!=null&&(URL.revokeObjectURL(a),s.current=void 0)},[]),B=j(function(){var a=function(){h({_0:void 0,TAG:1})},b=r.current;if(b==null){a();return}switch(g.TAG){case 0:case 1:a();break;case 2:b.play().then(a)["catch"](e);break;case 3:b.pause();a();break}},[e,g.TAG]),C=j(function(){return new(b("Promise"))(function(a){var b=t.current;if(b!=null)return a(b);w.current=a;if(g.TAG===1)return B()})},[g,B]);return{audioEl:r,getVoiceClip:C,reset:A,start:f,state:g,toggle:B}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=n;g.getDuration=o;g.getCurrentTime=p;g.isProgressing=q;g.isCompleted=r;g.getPlaybackLabel=s;g.getPlaybackIcon=t;g.useVoiceRecorder=w}),98);
__d("MWAudioRecorder.react",["MWAudioPlayer.react","MWPAudioPlayer.react","MWPThreadThemeGradientUtils","MWPUseVoiceRecorder","react","requireDeferred","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){a=a.voiceRecorder;var b=a.audioEl,e=a.state,f=a.toggle;a=c("useMWPThreadTheme")();a=d("MWPThreadThemeGradientUtils").getBottomGradientColor(a);var g=i(),k=d("MWPAudioPlayer.react").useResetHighlightProgress(g),l=function(){switch(e.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}(),m=function(){f();switch(e.TAG){case 0:return;case 1:j.onReady(function(a){return a.logClickStopRecording(0)});return;case 2:var a=e._1,b=e._0;a===0?j.onReady(function(a){return a.logPlaybackStart(b)}):j.onReady(function(c){return c.logPlaybackResume(b,a)});return;case 3:var c=e._1,d=e._0;j.onReady(function(a){return a.logPlaybackPause(d,c)});return}},n=d("MWPAudioPlayer.react").useProgressLiveUpdate(d("MWPUseVoiceRecorder").getDuration(e),b,d("MWPUseVoiceRecorder").getCurrentTime(e),d("MWPUseVoiceRecorder").isProgressing(e),!1,d("MWPUseVoiceRecorder").isCompleted(e)),o=d("MWAudioPlayer.react").useHighlightStyles(!0),p=function(){switch(e.TAG){case 0:case 1:return null;case 2:case 3:return h.jsx(d("MWPAudioPlayer.react").ScreenReaderLabel,{currentTime:e._1,duration:e._0})}}();return h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:b,hasScrubber:l,scrubberRef:g,style:{backgroundColor:a,borderRadius:"18px"},testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.RECORDER,children:h.jsxs(d("MWPAudioPlayer.react").KeyCommands,{audioEl:b,children:[h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:n,xstyle:o}),p,h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:g,xstyle:o}),h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.playbackButtonContainer),onMouseMove:l?k:void 0,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{icon:d("MWPUseVoiceRecorder").getPlaybackIcon(e,a),label:d("MWPUseVoiceRecorder").getPlaybackLabel(e),onPress:m})}),h.jsx(d("MWPAudioPlayer.react").Timer,{time:d("MWPUseVoiceRecorder").getTimerTime(e)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","CometEmoji.react","CometPressable.react","EmojiRenderer","I64","LSHotEmojiSize","LSIntEnum","MWLikeSvgIcon.react","MWXTooltip.react","StickerConstants","gkx","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},fillGrey:{fill:"xsrhx6k",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__OzQk4bc7gK8__JHASH__"),l=d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL),m=d("I64").of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID);function a(a){var b=a.color,e=a.customEmoji,f=a.disabled;f=f===void 0?!1:f;var g=a.onSendMessage;a=function(){!c("isStringNullOrEmpty")(e)?g(e,void 0,void 0,l,void 0,void 0,void 0,void 0,void 0,void 0):g(void 0,void 0,m,l,void 0,void 0,void 0,void 0,void 0,void 0)};if(!c("isStringNullOrEmpty")(e)){var n=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",e)]),o=function(a){var b=d("EmojiRenderer").parse(e).map(function(a){return a.emoji});if(b.length!==1)return i.jsx("span",{children:e});b=b[0];return i.jsx(c("CometEmoji.react"),{emoji:b,size:a})},p=h._("__JHASH__7OvMJwHRigG__JHASH__");p=i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[p," "]}),o(16)]});return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:p,children:i.jsx(c("CometPressable.react"),{"aria-label":n,disabled:f,onPress:a,overlayDisabled:f,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.customEmojiButtonMDS:j.customEmojiButtonFDS]},children:o(20)})})}return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:f,onPress:a,overlayDisabled:f,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.hotlikeButtonMDS:j.hotlikeButtonFDS]},children:i.jsx(c("MWLikeSvgIcon.react"),{className:"xsrhx6k",color:b,size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__HXazdxq92Fj__JHASH__"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function a(a){var e=a.color,f=a.editor;a=function(a){c("promiseDone")(l.load().then(function(c){c(a,f,16);return b("Promise").resolve()}))};var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),children:function(a,b,f,h,m,n,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{"aria-label":j,onHoverIn:h,onHoverOut:m,onPress:function(a){b(),l.preload(),g==null?void 0:g({eventName:"composer_open_emoji_picker"})},onPressIn:n,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsEmoji,{fill:e,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerFileButton.react",["fbt","CometFileSelector.react","CometPressable.react","MWChatComposerIcons.bs","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__irWVZkNfl97__JHASH__");function a(a){var b=a.color,e=a.disabled,f=a.onAttachmentsAdded;a=a.supportedFileTypes;f=c("useMWV2ComposerOnFilesSelected")(f);var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:f,children:function(a){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onPress:function(){a(),g==null?void 0:g({eventName:"composer_open_file_picker"})},overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsPhoto,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerGifButton.react",["fbt","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=a.color,e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a);var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:f,onSelect:a,testid:"mw_gif_picker"},popoverResource:j,position:"above",children:function(a,f,h,j,m,n,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:i.jsx(c("CometPressable.react"),{"aria-label":l,disabled:e,onHoverIn:j,onHoverOut:m,onPress:function(){f(),g==null?void 0:g({eventName:"composer_open_gif_picker"})},onPressIn:n,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsGif,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIcon.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.threadTheme.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;if(a.progress===1)return null;else return h.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[h.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),h.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItem.react",["fbt","ix","CometImageCover.react","I64","LSIntEnum","MWChatFileIcon.react","MWV2ComposerMediaProgressBar.react","MWXCircleButton.react","MWXImage.react","MWXText.react","MessagingAttachmentType","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l={button:{end:"xoo4vsp",position:"x10l6tqk",top:"x1v4kod4",$$css:!0},file:{alignItems:"x6s0dn4",display:"x78zum5",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",userSelect:"x87ps6o",$$css:!0},fileContainer:{width:"x2pejg6",$$css:!0},fileContent:{flexGrow:"x1iyjqo2",$$css:!0},filePreviewContainer:{backgroundColor:"x1vtvx1t",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},playIcon:{marginStart:"x16hk5td",marginTop:"x7wgvq7",position:"x10l6tqk",start:"xtzzx4i",top:"xwa60dl",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0},video:{objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=k(function(){return e(b.offlineAttachmentId)},[b.offlineAttachmentId,e]);var f=!d("I64").equal(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))&&!d("I64").equal(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))&&!m(b);return j.jsxs("div",{className:c("stylex")(l.itemContainer,f&&l.fileContainer),children:[j.jsxs("div",{className:c("stylex")(l.previewContainer,f&&l.filePreviewContainer),children:[j.jsx(n,{mediaStaging:b}),j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:b})]}),j.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:j.jsx(c("MWXCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:a,size:24,type:"overlay"})})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function n(a){a=a.mediaStaging;var b=a.attachmentType,e=a.previewUrl;if(m(a)||d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))if(e!=null)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null;if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))if(e!=null)return j.jsxs(j.Fragment,{children:[j.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),j.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:j.jsx(c("MWXImage.react"),{src:i("354763")})})]});else return null;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[j.jsx(c("MWChatFileIcon.react"),{}),j.jsx("div",{className:"x1iyjqo2",children:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.react",["fbt","ix","CometFileSelector.react","CometPressable.react","MWV2ComposerMediaStagingItem.react","MWXIcon.react","fbicon","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={container:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexWrap:"xozqiw3",justifyContent:"x1nhvcw1",overflowX:"xw2csxc",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},uploadPlaceholderRoot:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function l(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=c("useMWV2ComposerOnFilesSelected")(b);return j.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:b,children:function(a){return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(){return a()},xstyle:k.uploadPlaceholderRoot,children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})}})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;return b.length===0?null:j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[j.jsx(l,{onAttachmentsAdded:e,supportedFileTypes:a}),b.map(function(a){return j.jsx(c("MWV2ComposerMediaStagingItem.react"),{mediaStaging:a,onAttachmentRemoved:d},a.offlineAttachmentId)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["fbt","CometPressable.react","I64","JSResourceForInteraction","MWChatChatButtonColorConstants.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","emptyFunction","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__2kGg_y6m8FS__JHASH__"),k={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=e===void 0?!1:e,g=a.onSendMessage;e=a.threadKey;a=function(a){var b=a.id;a=a.title;return g(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0)};return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:c("emptyFunction"),onSelect:a,pageId:d("I64").to_string(e)},popoverResource:c("JSResourceForInteraction")("LSComposerPersistentMenu.bs").__setRef("MWV2ComposerPersistentMenuButton.react"),children:function(a,e){return i.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:f,label:j,onPress:e,overlayDisabled:f,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{"aria-hidden":"true",className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:i.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[i.jsx("path",{d:"M1.5,1.5 H22.5"}),i.jsx("path",{d:"M1.5,9 H22.5"}),i.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BrowserPermissionPolicyClientFeatureAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4883");b=d("FalcoLoggerInternal").create("browser_permission_policy_client_feature_access",a);e=b;g["default"]=e}),98);
__d("BrowserFeatureInstrumentation",["BrowserPermissionPolicyClientFeatureAccessFalcoEvent","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(c("killswitch")("SAF_BROWSER_PERMISSIONS_POLICY_CLIENT_LOGGING"))return;c("BrowserPermissionPolicyClientFeatureAccessFalcoEvent").log(function(){return{uri:window.location.origin+window.location.pathname,browser_feature:a,caller:b}})}g["default"]=a}),98);
__d("UseMWV2ComposerOnPressVoiceClip",["$InternalEnum","BrowserFeatureInstrumentation","JSResourceForInteraction","emptyFunction","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState,i=c("requireDeferred")("MWChatAudioLog").__setRef("UseMWV2ComposerOnPressVoiceClip"),j=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=h(j.AWAITING),d=b[0],e=b[1];b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("UseMWV2ComposerOnPressVoiceClip"));var f=b[0],g=function(){return f({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},k=function(){var b;c("BrowserFeatureInstrumentation")("microphone","MWV2ComposerPlusButton");(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:!0,video:!1}).then(function(b){e(j.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(e(j.DENIED),g()):e(j.FAILED),i.onReady(function(a){return a.logBrowserDenyAccess()})})},l=function(){return f({contentType:"askForAccess",onAllow:function(){return k()}},c("emptyFunction"))};return function(){var a;switch(d){case j.AWAITING:a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;switch(a){case"denied":e(j.DENIED);g();break;case"granted":k();break;case"prompt":l();break;default:l()}})["catch"](function(){l()}):(k(),i.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case j.DENIED:return g();case j.GRANTED:case j.FAILED:return k()}}}g.useOnPressVoiceClip=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","CometPressable.react","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWChatComposerIcons.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","UseMWV2ComposerOnPressVoiceClip","emptyFunction","gkx","qex","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),m={plusButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.canSendAudioClip,e=a.canSendFile,f=a.canSendPayment,g=a.color,n=a.editor,o=a.isInputExpanded,p=a.onAttachmentsAdded,q=a.onSendMessage,r=a.renderExtraOverflowMenuItems,s=a.supportedFileTypes,t=a.thread,u=a.voiceRecorder,v=c("emptyFunction");a=k(!1);var w=a[0],x=a[1];a=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(t.threadType);var y=function(a){return x(a)},z=d("MAWGating").isStickerEnabled()&&d("LSMessagingThreadTypeUtil").isSecure(t.threadType);f=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(0),t)&&!c("gkx")("1787591")&&f;var A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(36),t)&&!c("gkx")("1787592");a=a?A&&((a=c("qex")._("716")||c("qex")._("757"))!=null?a:!1):A;A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(14),t)&&!c("gkx")("1787585")&&b;b=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(4),t)&&!c("gkx")("1787594")&&o;e=e&&o;z=!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(3),t)||z)&&o;o=c("gkx")("358");var B=c("gkx")("4931"),C=j(function(){if(r!=null)return r(g,v,p);else return[]},[r,g,v,p]),D=f||a||A||b||e||z||o||B||C.length>0,E=!D;D=d("UseMWV2ComposerOnPressVoiceClip").useOnPressVoiceClip(u);var F=u.state.TAG!==0,G=F?h._("__JHASH__gaxHiFwvIGk__JHASH__"):w?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__"),H=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:y,popoverProps:{color:g,editor:n,extraItems:C,onAttachmentsAdded:p,onClose:v,onPressVoiceClip:D,onSendMessage:q,showCreatePoll:a,showFile:e,showGenAICreateVideo:B,showGif:b,showMetaCreateArt:o,showPayment:f,showSendVoiceClip:A,showSticker:z,supportedFileTypes:s,threadKey:t.threadKey},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,h,j,k){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:G,children:i.jsx(c("CometPressable.react"),{"aria-label":G,disabled:E,onHoverIn:f,onHoverOut:h,onPress:function(){if(F){u.reset();l.onReady(function(a){return a.logDeleteRecording()});H==null?void 0:H({eventName:"composer_close_audio_recorder"});return}else{H==null?void 0:H({eventName:"composer_open_overflow_menu"});return b()}},onPressIn:j,overlayDisabled:E,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?m.plusButtonMDS:m.plusButtonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsMoreActions,{fill:E?void 0:g,isRotated:F,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerSendButton.react",["fbt","CometPressable.react","Locale","MWChatChatButtonColorConstants.bs","MWXTooltip.react","MessengerWebUXLogger","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=c("gkx")("6934");e=c("UserAgent").isPlatform("Mac OS X");var j=b?e?h._("__JHASH__rZOmP6eifIV__JHASH__"):h._("__JHASH__ylwhpFdWk4l__JHASH__"):h._("__JHASH__7975gRkNyLl__JHASH__"),k={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},reverse:{transform:"xpk2tj9",$$css:!0}};function a(a,b){var e=a.color,f=a.disabled,g=a.onPress,h=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:f,label:j,onPress:function(){g(),h==null?void 0:h({eventName:"composer_send_message"})},overlayDisabled:f,overlayRadius:"50%",ref:b,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS,d("Locale").isRTL()&&k.reverse]},children:i.jsxs("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:[i.jsx("title",{children:j}),i.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:e})]})})})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWV2ComposerStickerButton.react",["cr:1084","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:1084")}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.threadKey,e=a.threadName,g=c("useReStore")(),i=d("MWPActor.react").useActor(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(b).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":36")})},[g,b],f.id+":31");return d("Int64Hooks").useMemoInt64(function(){if(e!=null)return h._("__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",e)]);var a=c("intlList")(j.map(function(a){if(a!=null&&!d("I64").equal(a.id,i))return a.name}).filter(Boolean),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",a)])},[j,e,i])}g["default"]=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=c("useReStore")(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":41"),a]})},[g,b],f.id+":35"),j=h(function(){return i.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!d("I64").equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[i,e]);return h(function(){return new Map(j.map(function(a){var b=a[1];a=a[0];var e=b.isAdmin,f=d("I64").to_string(a.id),g=a.name,h=a.name;b=b.nickname;var i=c("getLSMediaContactProfilePictureUrl")(a);e=e!=null?e:!1;var j=a.workJobTitle,k=a.secondaryName;h={actualName:h,contactId:f,isAdmin:e,isContact:!0,jobTitle:j,name:g,nickname:b,profilePictureUrl:i,profileUrl:void 0,secondaryName:k};return[d("I64").to_string(a.id),h]}))},[j])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["CometMessengerComposerInner.react","CometPlaceholder.react","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MAWGating","MWAudioRecorder.react","MWCMThreadTypes.react","MWPThreadThemeGradientUtils","MWPUseVoiceRecorder","MWV2ChatHotlikeButton.react","MWV2ComposerEmojiButton.react","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerPlusButton.react","MWV2ComposerSendButton.react","MWV2ComposerStickerButton.react","MWV2IsTabFocusedContext.react","MWXTooltipGroup.react","Promise","cr:3891","cr:6796","cr:793","gkx","react","requireDeferred","stylex","useCurrentDisplayMode","useDeferredModuleOnReady","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPThreadTheme","useParticipantsExcludingViewer","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useId,k=e.useRef,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerView.react"),m=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),n=(e=b("cr:3891"))!=null?e:b("cr:793"),o={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},emojiButton:{end:"xds687c",$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},genAIButtonFDS:{end:"xjhd3uw",$$css:!0},genAIButtonMDS:{end:"x84fkku",$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function p(a){var b=c("useDeferredModuleOnReady")(m);i(function(){if(b!=null)return b(a,16)},[a,b])}function q(){l.onReady(function(a){return a.logClickStartRecording()})}function r(){l.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var e,f=a.canSendAudioClip;f=f===void 0?!0:f;var g=a.canSendFile;g=g===void 0?!0:g;var l=a.canSendGif;l=l===void 0?!0:l;var m=a.canSendPayment;m=m===void 0?!1:m;var s=a.canSendSticker;s=s===void 0?!0:s;var t=a.composerLinkPreview,u=a.editor,v=a.editorElementRef,w=a.hasStuffToSend,x=a.isMentionsPluginEnabled;x=x===void 0?!0:x;var y=a.isSendDisabled;y=y===void 0?!1:y;var z=a.localTimezoneInformation,A=a.maxAudioDuration,B=a.mediaStaging,C=a.onAttachmentRemoved,D=a.onAttachmentsAdded,E=a.onSendMessage,F=a.placeholderText,G=a.policyProduct,H=a.renderExtraOverflowMenuItems,I=a.sendMessage,J=a.supportedFileTypes,aa=a.surface;a=a.thread;l=l&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(4),a)&&!c("gkx")("1787594");var K=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),L=d("LSMessagingThreadTypeUtil").isAiBot(a.threadType);g=g&&(K||L?!c("gkx")("1787595")&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),a):!c("gkx")("1787595"));K=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);L=d("MAWGating").isStickerEnabled()&&K;s=s&&!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(3),a)||L);var M=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),N=c("useMWEntrypoint")(),O=b("cr:6796")(M||N==="inbox"),P=c("useMWPThreadTheme")();P=d("MWPThreadThemeGradientUtils").getBottomGradientColor(P);e=(e=O==null?void 0:O.buttonColor)!=null?e:P;P=c("useCurrentDisplayMode")();P=P==="dark"&&K?"var(--always-white)":e;e=y||!M&&!c("gkx")("1969")?void 0:P;var Q=d("MWPUseVoiceRecorder").useVoiceRecorder(A,q,r),ba=c("useMWFalcoFeatureEventLogger")(a.threadKey,a.threadType),R=Q.state.TAG!==0;M=function(){Q.getVoiceClip().then(function(a){Q.reset();E(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0);return b("Promise").resolve()})["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Failed to send voice clip in messenger composer ");return b("Promise").reject(a)})};var S=k(null),T=c("usePrevious")(R);i(function(){if(R===!0&&T===!1){var a;(a=S.current)==null?void 0:a.focus()}},[R,S,T]);P=c("useParticipantsExcludingViewer")({threadKey:a.threadKey});A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(43),a);var U=d("Locale").isRTL(),V=c("gkx")("571"),W=V?[36,8]:[32,4],X=W[0];W=W[1];var Y=0+X|0,Z=d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);N=w||Z&&N==="inbox";var $=Y+X|0,ca=U?{right:0..toString()+"px"}:{left:0..toString()+"px"};Y=U?{right:Y.toString()+"px"}:{left:Y.toString()+"px"};var da=U?{right:$.toString()+"px"}:{left:$.toString()+"px"};U=U?{marginRight:N?V?8..toString()+"px":"0":(($+X|0)+W|0).toString()+"px"}:{marginLeft:N?V?8..toString()+"px":"0":(($+X|0)+W|0).toString()+"px"};$=c("useMWComposerAriaDescribedBy")(a);X=j();p(u);var ea=c("useMWEntrypoint")();W=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");ba(ea,c)};return h.jsxs("div",{className:"xuk3077 x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,style:(O==null?void 0:O.backgroundColor)!=null?{backgroundColor:O.backgroundColor}:void 0,children:[h.jsx(c("MWV2ComposerPlusButton.react"),{canSendAudioClip:f,canSendFile:g,canSendPayment:m,color:e,editor:u,isInputExpanded:N,onAttachmentsAdded:D,onSendMessage:E,renderExtraOverflowMenuItems:H,supportedFileTypes:J,thread:a,voiceRecorder:Q}),R?h.jsxs(h.Fragment,{children:[h.jsx(c("MWAudioRecorder.react"),{voiceRecorder:Q}),h.jsx(c("MWV2ComposerSendButton.react"),{color:e,disabled:y,onPress:M,ref:S})]}):null,h.jsxs("div",{className:c("stylex")(R?o.hidden:!1,o.container),children:[h.jsxs(c("MWXTooltipGroup.react"),{children:[h.jsx("div",{className:c("stylex")(o.button,V?o.buttonMDS:o.buttonFDS,N?o.buttonHidden:o.buttonShown,N?o.fileButtonHidden:o.fileButtonShown),style:ca,children:h.jsx(c("MWV2ComposerFileButton.react"),{color:e,disabled:!g,onAttachmentsAdded:D,supportedFileTypes:J})}),h.jsx("div",{className:c("stylex")(o.button,V?o.buttonMDS:o.buttonFDS,N?o.buttonHidden:o.buttonShown,N?o.stickerButtonHidden:o.stickerButtonShown),style:Y,children:h.jsx(c("MWV2ComposerStickerButton.react"),{color:e,disabled:!s,onSelectStickerPack:W,onSendMessage:E,useSecureSend:L})}),h.jsx("div",{className:c("stylex")(o.button,V?o.buttonMDS:o.buttonFDS,N?o.buttonHidden:o.buttonShown,N?o.gifButtonHidden:o.gifButtonShown),style:da,children:h.jsx(c("MWV2ComposerGifButton.react"),{color:e,disabled:!l,isSecureThread:K,onSendMessage:E})})]}),z!=null?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:z}):null,t!=null?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:t}):null,h.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:U,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:X,children:$}),h.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:X,contentEditableRef:v,editor:u,handlePastedFiles:D,isSecureThread:K,participants:P,placeholderText:F,policyProduct:G,style:{backgroundColor:O==null?void 0:O.inputBackgroundColor},threadID:d("I64").to_string(Z?a.parentThreadKey:a.threadKey),topContent:h.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:B,onAttachmentRemoved:C,onAttachmentsAdded:D,supportedFileTypes:J}),useMentionsPlugin:x&&A&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType),surface:aa,testId:"chat_input:rich-input"})]}),h.jsx("div",{className:c("stylex")(R?o.hidden:!1,o.button,V?o.buttonMDS:o.buttonFDS,o.emojiButton),children:h.jsx(c("MWV2ComposerEmojiButton.react"),{color:e,editor:u})}),n!=null&&h.jsx("div",{className:c("stylex")(R?o.hidden:!1,o.button,V?o.buttonMDS:o.buttonFDS,V?o.genAIButtonMDS:o.genAIButtonFDS),children:h.jsx(n,{editor:u,threadId:a.threadKey})})]}),R?null:w?h.jsx(c("MWV2ComposerSendButton.react"),{color:e,disabled:y,onPress:I}):a.hasPersistentMenu?h.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:e,disabled:y,onSendMessage:E,threadKey:a.threadKey}):h.jsx(c("MWV2ChatHotlikeButton.react"),{color:e,customEmoji:a.customEmoji,disabled:y,onSendMessage:E})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerView=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIntEnum","LSIssueNewError","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.createContext;var j=b.createElement,k=b.useCallback,l=b.useRef,m=e(null);function n(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return j(m.Provider,{children:b,value:a})}var o={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function p(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function q(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function r(a,b){var d=q(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,d,d,void 0,void 0,c("LSFactory")(a))},"readwrite"))}function s(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var t=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=l({enabled:!1,handler:null}),m=l(null),q=c("useReStore")(),u=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),g):!1;g=!c("gkx")("1835569");var v=e===!0||g||((e=j.current)==null?void 0:e.handler)==null||u;g=function(a){var b;return((b=j.current)==null?void 0:b.handler)==null?!1:!p(a).some(function(a){return t.has(a)})};e=c("useFileDragEvents")(function(){return!1},void 0,g);g=k(function(a){var b;if(((b=j.current)==null?void 0:b.enabled)===!1)return;b=(b=j.current)==null?void 0:b.handler;if(b==null){if(!u){var d=j.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(s):d;d.length!==a.length&&r(q,d.length);!v&&a.length!==0&&b(a)},[f,v,u,q]);c("useFileDragEvents")(g,m.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(o.root,(g=a)!=null?g:!1),ref:m,children:[i.jsx(n,{fileUploadHandlerConfigRef:j,children:b}),!v&&e?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=m;g.MWV2FileDropzone=a}),98);
__d("MAWSendSecureMessageV2Utils",["I64","LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MWPActor.react","ReQL","StickerConstants","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWPActor.react").useActor();return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield c("LSDatabaseSingleton")),f=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(b).map(function(a){return d("I64").to_string(a.contactId)})));return c("MAWMiActMaybeCreateActThread")(e,b,{actorId:a,participantIds:f})});return function(a){return e.apply(this,arguments)}}()}function e(a){return a===c("StickerConstants").LIKE_STICKER_ID||a===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||a===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||a===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID}g.useMaybeCreateThreadForMAWSendSecurMessageV2=a;g.isLikeStickerId=e}),98);
__d("useMAWFetchAndDispatchEphemeralSettings",["I64","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","MAWStateContext.react","Promise","WALoggerDeferred","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings for "," returns ",", set it to 0"]);h=function(){return a};return a}e=d("react");var i=e.useCallback,j=e.useContext;function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(a,b));if(b!=null&&b.ephemeralExpirationInSec!=null&&b.ephemeralLastUpdatedOrSetTimestamp!=null)c(a,b);else{void d("WALoggerDeferred").LOG(h(),a,b);var e=d("WATimeUtils").unixTime();c(a,{ephemeralExpirationInSec:b==null?0:(c=b.ephemeralExpirationInSec)!=null?c:0,ephemeralLastUpdatedOrSetTimestamp:e})}});return l.apply(this,arguments)}function a(){var a=c("useReStore")(),e=j(d("MAWStateContext.react").MAWNonRerenderingStateContext),f=d("MAWStateContext.react").useDispatchEphemeralSettingsUpdatedForUI();return i(function(g){if(!c("gkx")("9025")){var h=e().state.ephemeralSettings;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a,d("I64").of_string(g),"fetch-ephemeral-settings",function(a,c,e){return h[e]!=null?b("Promise").resolve():k(e,d("I64").of_string(g),f)}))}},[a,f,e])}g["default"]=a}),98);
__d("MAWOptimisticUpdateContactRelationship.bs",["I64","LSMessagingThreadTypeUtil","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)){c("promiseDone")(b.runInTransaction(function(c){return d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,e)})).then(function(a){if(a==null)return;a=a[1];var b=babelHelpers["extends"]({},a,{contactViewerRelationship:d("I64").of_string("2")});return c.table("contacts").upsert({hd:a.id,tl:0},b)})},"readwrite"));return}}g.call=a}),98);
__d("MWLSLogSend.bs",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={mw_version:d("I64").to_string(a.mwVersion),thread_type:d("I64").to_string(a.threadType)},e=a.initiatingSource;if(e!=null){var f=d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT));e=d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX));f?b.entrypoint="chat":e&&(b.entrypoint="inbox")}a.isMessageRequest!=null&&(b.isMessageRequest=a.isMessageRequest?"true":"false");return b}function a(a,b,e){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction.bs").set(b,f);f=h(e);Object.entries(f).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction.bs").interactions[b]})}g.getMessageSendAnnotations=h;g.logSentHeroInteraction=a}),98);
__d("MAWSendFileMsgIfNecessary",["FBLogger","MAWSecureComposerUtils","Promise","QPLUserFlow","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e,f,g,i,j,k,l,m,n){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i,j,k,l,m,n,o,p){var q=[];if(g!=null){g={args:{durations:g.duration||0,isPtt:!0},file:g.file,type:"audio"};q.push([g,o])}if(i!=null){g=(yield window.fetch(i,{cache:"no-cache"}));i=(yield g.blob());g=j!=null;j=(yield d("MAWSecureComposerUtils").imagePreprocess(new File([i],"stickerFromPicker",{type:i.type}),g));q.push([j,o])}q=q.concat(h);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"prepare_attachment_promises",{instanceKey:p});i=q.map(function(b){var c=b[0];b=b[1];return d("MAWSecureComposerUtils").sendAttachment(a,e,k.threadKey,k.threadType,l,c,b,m,n,!1,f,p)});yield b("Promise").all(i)["catch"](function(a){c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),"send_attachment_promise_failed",{error:a,instanceKey:p}),a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):c("FBLogger")("messenger_e2ee_web").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",a.message)})});return h.apply(this,arguments)}g.call=a}),98);
__d("useMAWSendSecureAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","MAWExternalId","MAWMediaManagerUtils","MAWSendFileMsgIfNecessary","MAWSendSecureMessageV2Utils","MWPActor.react","Promise","WAStanzaUtils","asyncToGeneratorRuntime","gkx","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2();return d("Int64Hooks").useCallbackInt64(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(g){var h=g.externalAttachmentUrl,i=g.mediaStagings,j=g.messageTypeParams,k=g.onGenerateOfflineMsgId,l=g.reply,m=g.s2sInstanceKey,n=g.stickerId,o=g.thread;g=g.voiceClip;var p=j.hasAttachment;if(!p)return;var q=j.hasFile,r=j.hasImage;j=j.hasVideo;var s=null;if(p)if(j||r||q&&c("gkx")("9045")){p=i[i.length-1];s=d("WAStanzaUtils").toStanzaId(p.offlineAttachmentId)}else s=d("MAWExternalId").generateExternalId();if(s!=null){k==null?void 0:k(s);j=i.reduce(function(a,b){var c=d("MAWMediaManagerUtils").MAWMediaManagerAttachments.get(b.offlineAttachmentId);c!=null&&a.push([c,d("WAStanzaUtils").toStanzaId(b.offlineAttachmentId)]);return a},[]);r=e(o.threadKey);q=(yield b("Promise").all([c("LSDatabaseSingleton"),f(o.threadKey)]));p=q[0];k=q[1];return d("MAWSendFileMsgIfNecessary").call(p,k.chatId,k.created,g,j,h,n,o,a,r,l,s,m)}});return function(a){return g.apply(this,arguments)}}(),[a,e,f])}g["default"]=a}),98);
__d("useLSMessagingInitiatingSourceNumber",["LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return c("LSMessagingInitiatingSource").FACEBOOK_INBOX;else if(a==="FullscreenChat")return c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN;else if(a==="ChatTab")return c("LSMessagingInitiatingSource").FACEBOOK_CHAT;else return c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT}g["default"]=a}),98);
__d("useMAWSendMessageV2",["I64","LSHotEmojiSize","LSIntEnum","MAWExternalId","MAWJobDefinitions","MAWTimedJob","MWPActor.react","MWPReplyContext.react","QPLUserFlow","WADualSendMsgUtils","WAJobOrchestratorTypes","asyncToGeneratorRuntime","qpl","react","requireDeferred","useLSMessagingInitiatingSourceNumber","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext,i=c("requireDeferred")("MWLogSend.bs").__setRef("useMAWSendMessageV2");function j(a){if(a==null)return;if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))return 3}function a(){var a=c("useReStore")(),e=d("MWPActor.react").useActor(),f=h(d("MWPReplyContext.react").MWPReplyContext),g=f.reply,k=c("useLSMessagingInitiatingSourceNumber")();return function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=d("MAWExternalId").generateExternalId();f=babelHelpers["extends"]({content:m,initiatingSource:k,isFirstMsg:s,isForwarded:!1,openMessageOtid:o,openMessageParticipantCount:t,optimisticMsg:{msgId:p,ts:q},participantCount:u,s2sInstanceKey:y,s2sUserFlowQPLEvent:c("qpl")._(25313175,"1551"),source:n,specialTextSize:j(r)},v!=null&&{quote:v});w!=null&&(f.ephemeralSetting=w);x!=null&&(f.mentionedJids=[].concat(x));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"sending_message_to_wajob",{instanceKey:y});yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMsg",{args:f,chatJid:l,externalId:z,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));i.onReady(function(c){var f=d("I64").to_string(b),i=r!=null?3:0,j=d("WADualSendMsgUtils").isDualSendJid(l)?["dst:8"]:void 0;return c.log(a,b,h,z,[],e,n,i,g!=null,0,1,f,w==null?void 0:w.ephemeralExpirationInSec,j,void 0,x)})});return function(a,b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r){return f.apply(this,arguments)}}()}g["default"]=a}),98);
__d("useMarkOptimisticMessageAsFailed",["LSFactory","LSMarkOptimisticMessageFailed","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b,d){return a.runInTransaction(function(a){return c("LSMarkOptimisticMessageFailed")(b,d,c("LSFactory")(a))},"readwrite")},[a])}g["default"]=a}),98);
__d("useMAWSendSecureTextMessage",["MAWBridgeSendAndReceive","MAWDbMsg","MAWGetEphemeralSettings","MAWInternalLog","MAWSendSecureMessageV2Utils","MAWStateContext.react","MAWVault","Promise","WALoggerDeferred","asyncToGeneratorRuntime","emptyFunction","react","useMAWCreateOptimisticSecureMessage","useMAWSendMessageV2","useMWLSDefaultThreadSource","useMarkOptimisticMessageAsFailed"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext;function a(){var a=c("useMWLSDefaultThreadSource")(),e=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2(),f=i(d("MAWStateContext.react").MAWNonRerenderingStateContext),g=c("useMAWSendMessageV2")(),j=c("useMAWCreateOptimisticSecureMessage")(),k=c("useMarkOptimisticMessageAsFailed")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage();return h(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h){var i=h.hotEmojiSize,m=h.mentionedJids,n=h.messageText,o=h.onGenerateOfflineMsgId,p=h.reply,q=h.s2sInstanceKey;h=h.thread;var r=null;try{var s;s=(yield b("Promise").all([e(h.threadKey),j(p,d("MAWVault").vault(n),h.threadKey,i,(s=q)!=null?s:0,m,(s=o)!=null?s:c("emptyFunction"))]));var t=s[0];s=s[1];r=s[0];s=s[1];o==null?void 0:o(r);l(r,Date.now());o=f().state.ephemeralSettings[t.jid];o==null&&(o=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(t.jid,h.threadKey)));var u=a(h.threadKey),v=null;if(p!=null){p=d("MAWDbMsg").toMsgId(p.messageId);p!=null&&(v=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:p})))}return g(h.threadKey,t.chatId,h.threadType,t.jid,n,u,void 0,r,s,i,t.created,void 0,void 0,v,o,m,q)}catch(a){p=a instanceof Error?a.message:"Fail to send secure text message";r!=null&&(yield k(r,p));d("MAWInternalLog").internalLog("useMAWSendSecureTextMessage: send text message failed: "+a);yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureTextMessage"],["Send text message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return h.apply(this,arguments)}}(),[j,l,f,a,k,e,g])}g["default"]=a}),98);
__d("useMAWSendSecureLinkXMAMessage",["FBLogger","Int64Hooks","MAWExternalId","MAWExternalLinkUtil","MAWSendSecureMessageV2Utils","asyncToGeneratorRuntime","useMAWSendSecureTextMessage","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useMWLSDefaultThreadSource")(),e=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2(),f=c("useMAWSendSecureTextMessage")();return d("Int64Hooks").useCallbackInt64(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.mentionedJids,h=b.messageText,i=b.onGenerateOfflineMsgId,j=b.reply,k=b.s2sInstanceKey,l=b.thread;b=b.threadKey;var m=d("MAWExternalLinkUtil").findFirstUrl(h);if(m==null||m.length===0)return f({mentionedJids:g,messageText:h,onGenerateOfflineMsgId:i,reply:j,s2sInstanceKey:k,thread:l});try{g=m[0];j=d("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(m);l=g.entity.url;m=null;if(j!=null){l=j.oEmbedUrl;try{m=(yield d("MAWExternalLinkUtil").getOembedResponse(j.oEmbedRequest))}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("[External link] Failed to send External Link XMA.")}}g=d("MAWExternalId").generateExternalId();i==null?void 0:i(g);j=a(b);i=(yield e(b));return d("MAWExternalLinkUtil").sendExternalLinkXMA(h,m,l,i.jid,k,j,b,g)}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("[External link] Failed to send external link XMA ");throw a}});return function(a){return g.apply(this,arguments)}}(),[a,e,f])}g["default"]=a}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(c){return!d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?b("Promise").resolve():a.runInTransaction(function(a){return d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,c.threadKey)},"readwrite")},[a])}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2Impl",["FBLogger","I64","Int64Hooks","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","MAWInternalLog","MAWOptimisticUpdateContactRelationship.bs","MWLSLogSend.bs","MWPActor.react","MWPReplyContext.react","MWPreloadableQueries","MWSharedMsgLogUtils","MWVersion.bs","MessageRequestsLog","Promise","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","emptyFunction","react","useLSMessagingInitiatingSource","useMAWSendSecureAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureTextMessage","useMAWUpdateThreadCapabilities","useMWLSUnarchiveThread","useMWLSUpdateDraftMessage","useMWSendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){var e=d("MWPActor.react").useActor(),f=h(d("MWPReplyContext.react").MWPReplyContext),g=f.clearReply,i=c("useLSMessagingInitiatingSource")(),j=c("useMAWSendSecureTextMessage")(),k=c("useMAWSendSecureLinkXMAMessage")(),l=c("useMAWSendSecureAttachmentMessage")(),m=c("useMWLSUnarchiveThread")(),n=c("useMWLSUpdateDraftMessage")(),o=c("useMAWUpdateThreadCapabilities")();f=c("useMWSendToSentQPLLogger")();var p=f.addSendToSentAnnotations,q=f.markSendToSentFail,r=f.markSendToSentSuccess;return d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var h=f.externalAttachmentUrl,s=f.hotEmojiSize,t=f.lssTraceApi,u=f.mentionedJids,v=f.messageText,w=f.reply,x=f.s2sInstanceKey,y=x===void 0?0:x;x=f.stickerId;var z=f.thread;f=f.voiceClip;d("MAWInternalLog").internalLog("start to send message from UI");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Starting message send"],"LOG");var A=(yield c("LSDatabaseSingleton")),B=d("LSMessagingThreadTypeUtil").isMessageRequest(z),C=d("I64").equal(z.parentThreadKey,d("LSIntEnum").ofNumber(-10)),D=(yield d("ReQL").toArrayAsync(d("MWPreloadableQueries").getMediaStagingQuery(A,z.threadKey))),E=d("MWSharedMsgLogUtils").getMessageTypeParams(v,s,w,x,h,f,D);p(y,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(z,E,i));var F=c("emptyFunction");t!=null&&(d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(t,E,z,i),F=function(a){d("MWLSLogSend.bs").logSentHeroInteraction(t,a,{initiatingSource:i,isMessageRequest:B,mwVersion:d("MWVersion.bs").v2,threadType:z.threadType})});var G=[],H=E.hasAttachment,I=E.hasLinks;v!=null&&v!==""&&(I?G.push(k({mentionedJids:u,messageText:v,onGenerateOfflineMsgId:H?void 0:F,reply:w,s2sInstanceKey:y,thread:z,threadKey:z.threadKey})):G.push(j({hotEmojiSize:s,mentionedJids:u,messageText:v,onGenerateOfflineMsgId:H?void 0:F,reply:w,s2sInstanceKey:y,thread:z})));H&&G.push(l({externalAttachmentUrl:h,mediaStagings:D,messageTypeParams:E,onGenerateOfflineMsgId:F,reply:w,s2sInstanceKey:y,stickerId:x,thread:z,voiceClip:f}));yield b("Promise").all(G)["catch"](function(a){q(y,a);a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+H.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl"):c("FBLogger")("messenger_e2ee_web").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+H.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl, %s",a.message);throw a});r(y);d("MAWInternalLog").internalLog("send message is done");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Send message is done"],"LOG");a();d("MAWOptimisticUpdateContactRelationship.bs").call(z,A,e);g(z.threadKey,!1);yield b("Promise").allSettled([o(z),n(z.threadKey,"")]);B&&d("MessageRequestsLog").logActionConfirmed(z,1);C&&m(z.threadKey)});return function(a){return f.apply(this,arguments)}}(),[e,p,g,i,q,r,a,l,k,j,m,n,o])}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2",["I64","Int64Hooks","MAWJids","MAWSendSecureMessageV2Utils","MWPReplyContext.react","promiseDone","qpl","react","unrecoverableViolation","useCometInteractionTracing","useMAWFetchAndDispatchEphemeralSettings","useMAWSendSecureMessageV2Impl","useMWSendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a,b,e){var f=h(d("MWPReplyContext.react").MWPReplyContext),g=f.reply,i=c("useMAWSendSecureMessageV2Impl")(e),j=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0);f=c("useMWSendToSentQPLLogger")();var k=f.markSendToSentFail,l=f.markSendToSentStart,m=c("useMAWFetchAndDispatchEphemeralSettings")();d("Int64Hooks").useEffectInt64(function(){m(d("I64").to_string(a.threadKey))},[m,a.threadKey]);return function(e,f,h,m,n,o,p,q,r,s){var t=f==null?void 0:f.map(function(a){return d("MAWJids").toUserJid(a.id)}),u=e;h!=null&&d("MAWSendSecureMessageV2Utils").isLikeStickerId(d("I64").to_string(h))&&(u="\ud83d\udc4d");var v=l();j(function(d){c("promiseDone")(i({externalAttachmentUrl:o,hotEmojiSize:m,lssTraceApi:d,mentionedJids:t,messageText:u,reply:g,s2sInstanceKey:v,stickerId:h,thread:a,voiceClip:q}),b,function(a){k(v,a);d.failTrace(a,!0);throw c("unrecoverableViolation")("Encountered failure during Armadillo Message Send (UI)","messenger_e2ee_web",{error:a})})})}}g["default"]=a}),98);
__d("MAWSecureComposer.react",["fbt","MAWSecureComposerText","MAWSecureComposerUtils","MAWSecureThreadNonAddressableContactBanner.react","MAWSecureTypingState","MWBlockedComposerLogging","MWMediaManager.bs","MWPComposerEditor.react","MWPEditMessageUtil","MWPReplyContext.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWV2FileDropzone.react","WebUXLoggingSurfaceContextProvider","cr:6241","emptyFunction","gkx","react","useCometAlertDialog","useMAWSendSecureMessageV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useImperativeHandle,m=e.useState,n=c("gkx")("9254");function a(a){var e=a.afterSendMessage;e=e===void 0?c("emptyFunction"):e;var f=a.isPreviewThread,g=a.onSendEmptyMessage;g=g===void 0?c("emptyFunction"):g;var o=a.thread;a=k(d("MWPReplyContext.react").MWPReplyContext);a=a.reply;var p=d("MWPEditMessageUtil").useGetEditMessageData(),q=c("useCometAlertDialog")(),r=j(function(){return q({body:h._("__JHASH__cHTRYg3bfeC__JHASH__"),title:h._("__JHASH__shIDOoHHO5L__JHASH__")})},[q]);r=d("MWMediaManager.bs").useMediaManager(o,r);var s=r.handleFileRemove,t=r.handleFileSelect,u=r.mediaStaging;r=r.resetAttachments;var v=c("useMAWSendSecureMessageV2")(o,e,r);e=d("MAWSecureTypingState").useOnTypingStateChanged(o);r=k(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);l(r,function(){return{enabled:!0,handler:t}},[t]);r=m(!1);var w=r[0];r=r[1];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(o,w?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:d("MWBlockedComposerLogging").ComposerBlockingReason.NOT_BLOCKED);return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"secure_composer",children:i.jsxs("div",{"data-testid":void 0,children:[a!=null?i.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:a.messageId,messageTimestamp:a.timestampMs,thread:o}):null,i.jsx(c("MAWSecureThreadNonAddressableContactBanner.react"),{setHideComposerEditor:r,thread:o}),p!=null&&b("cr:6241")&&i.jsx(b("cr:6241"),{editMessageData:p}),w||p!=null?null:i.jsx(d("MWPComposerEditor.react").MWPComposerEditor,{getTextFromEditorState:d("MAWSecureComposerText").getTextFromEditorState,isPreviewThread:f,mediaStaging:u,onSendEmptyMessage:g,onSendMessage:v,onTypingStateChanged:e,thread:o,children:function(a,b,c,e){return i.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:a,editorElementRef:c,hasStuffToSend:b,isMentionsPluginEnabled:n,mediaStaging:u,onAttachmentRemoved:s,onAttachmentsAdded:t,onSendMessage:v,policyProduct:"messaging_lightswitch",sendMessage:e,supportedFileTypes:d("MAWSecureComposerUtils").supportedFileTypes,surface:"mwp_maw_secure_composer",thread:o})}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGroupLimitConfig.bs",["cr:1217"],(function(a,b,c,d,e,f,g){"use strict";g.armadillo=b("cr:1217").armadillo,g.gxac=b("cr:1217").gxac,g.nonGxac=b("cr:1217").nonGxac}),98);
__d("MWGroupLimitConfigForProd.bs",["MAWAbPropsClient"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MAWAbPropsClient").getAbProps().client_group_participants_limit}b=32;c=256;g.armadillo=a;g.gxac=b;g.nonGxac=c}),98);
__d("MWGroupLimitContainer.react",["cr:3409","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=(a=b("cr:3409")==null?void 0:b("cr:3409")(a))!=null?a:[!1,!1];a=a[0];return a?d:c}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useHasGroupLimitBeenReachedForThread",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWGroupLimitConfig.bs","MWIsXacGroupThread.bs","MWXacGating.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a.capabilities,e=a.capabilities2,f=a.capabilities3,g=a.memberCount,h=a.threadType;g=g!=null?d("I64").to_int32(g):0;g=g+((g=(g=b)==null?void 0:g.length)!=null?g:0);var i=d("Int64Hooks").useMemoInt64(function(){var a;a=((a=b)!=null?a:[]).some(function(a){return a.isInstagramAccount});return d("MWXacGating.bs").isGroupsEnabled()?d("MWIsXacGroupThread.bs").check({capabilities:c,capabilities2:e,capabilities3:f,threadType:h})||a:!1},[c,e,f,h,b]);i=i?g>=d("MWGroupLimitConfig.bs").gxac:d("LSMessagingThreadTypeUtil").isSecure(a.threadType)?g>=d("MWGroupLimitConfig.bs").armadillo():g>=d("MWGroupLimitConfig.bs").nonGxac;a=d("MWXacGating.bs").isGroupsEnabled()&&g>=d("MWGroupLimitConfig.bs").gxac;return[i,a]}g["default"]=a}),98);
__d("MWEncryptedUrl.bs",["Base64Utils","CancellablePromise","CancellationToken","FBLogger","Promise","bs_pervasives","globalCryptoSubtle","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useState;function a(a,e,f){var g=i(e!=null?void 0:a),j=g[0],k=g[1];h(function(){var g=c("CancellationToken")();if(e!=null&&a!=null){var h=d("CancellablePromise").ignoreFailed(void 0,d("CancellablePromise").then_(g,function(a){var e;switch(f.TAG){case 1:e="data:image/jpeg;base64,";break;case 6:e="data:audio/wav;base64,";break;case 7:e="data:video/mp4;base64,";break;default:e=c("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}k(function(){return e+d("Base64Utils").fromArrayBuffer(a)});return b("Promise").resolve()},d("CancellablePromise").then_(g,function(a){var b=a[1],d=b.slice(0,2),e=b.slice(2,14);b=b.slice(14);return c("globalCryptoSubtle").decrypt({additionalData:d,iv:e,name:"AES-GCM",tagLength:128},a[0],b)},d("CancellablePromise").then_(g,function(a){var f=d("Base64Utils").toArrayBuffer(e);f.byteLength!==32&&c("FBLogger")("messenger_web_product").mustfix("Invalid key length");return b("Promise").all([c("globalCryptoSubtle").importKey("raw",f,"AES-GCM",!1,["decrypt"]),b("Promise").resolve(a)])},d("CancellablePromise").then_(g,function(a){return a.arrayBuffer()},window.fetch(a))))));c("promiseDone")(h)}else k(a);return g.cancel},[a,e,k]);return j}g.useMaybeEncryptedUrl=a}),98);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.react",["fbt","CometImageCover.react","CometPressable.react","I64","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=String(18)+"px",k={imageContainer:{borderTop:"xzg4506",borderEnd:"xycxndf",borderBottom:"xua58t2",borderStart:"x4xrfw5",boxShadow:"x1yi6u8n",lineHeight:"x14ju556",verticalAlign:"xxymvpz",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function l(a){var b=a.attachmentMediaUrl,e=a.decryptionKey,f=a.previewUrl;a=a.widthStyle;f=d("MWEncryptedUrl.bs").useMaybeEncryptedUrl(f,e,{_0:{appAttribution:void 0,blurredImageUri:void 0,decryptionKey:void 0,isGIF:!1,photoFbid:void 0,previewHeight:void 0,previewUrl:"",previewWidth:void 0,title:void 0},TAG:1});if(f!=null)return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{url:b},testid:void 0,xstyle:function(){return[k.standalone]},children:i.jsx(c("CometImageCover.react"),{src:f,style:{borderBottomLeftRadius:j,borderBottomRightRadius:j,borderTopLeftRadius:j,borderTopRightRadius:j,maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:a}})});else return null}function m(a){var b,c;b=d("I64").to_int32((b=a.previewHeight)!=null?b:d("I64").one);c=d("I64").to_int32((c=a.previewWidth)!=null?c:d("I64").one);c=c/b;a=a.previewWidth;if(a!=null)return(b>200?200*c:d("I64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var b=a.previewUrl;if(b!=null)return i.jsx("div",{className:"xzg4506 xycxndf xua58t2 x4xrfw5 x1yi6u8n x14ju556 xxymvpz x1gn5b1j x230xth x1g8br2z x1tlxs6b",children:i.jsx(l,{attachmentMediaUrl:c("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,thread_id:d("I64").to_string(a.threadKey)}),decryptionKey:a.decryptionKey,previewUrl:b,widthStyle:m(a)})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","CometPressable.react","I64","LSIntEnum","MWChatEphemeralMediaTemporarySeenState","MWPSolidMessageBubble.react","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__wwWALtSTrAJ__JHASH__"),k=h._("__JHASH__6AjB8pge-ih__JHASH__"),l=h._("__JHASH__4zpYeMebeaQ__JHASH__"),m=h._("__JHASH__FLEPIyrCx7D__JHASH__"),n=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),o=h._("__JHASH__TfJs-614iIk__JHASH__");function p(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children,h=a.initiallyUnread,j=a.outgoing;a=a.shouldDisableOnOutgoing;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:d("I64").to_string(e.threadKey)});e=e.ephemeralMediaState;if(e==null)return g;return a&&j||!(d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&h)?g:i.jsx(c("CometPressable.react"),{"aria-label":b,children:g,linkProps:{url:f},overlayRadius:50,testid:void 0})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.backgroundColor,f=a.buildURL,g=a.connectBottom,h=a.connectTop,q=a.outgoing,r=a.renderContent;a=a.shouldDisableOnOutgoing;a=a===void 0?!1:a;e=e!=null?e:"var(--wash)";f=f!=null?f:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var s=b.attachmentType,t=d("MWChatEphemeralMediaTemporarySeenState").isSeenThisSession(d("I64").to_string(b.threadKey),b.attachmentFbid),u=b.ephemeralMediaState;u=u!=null?d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&t?"seen":"expired":"expired";var v=u==="expired"||u==="seen"||q,w=null;switch(d("LSIntEnum").toNumber(s)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:w=v?m:j;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:w=v?n:k;break;default:w=v?o:l;break}return i.jsx(p,{ariaLabel:w,attachment:b,buildURL:f,initiallyUnread:t,outgoing:q,shouldDisableOnOutgoing:a,children:i.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:q,style:{backgroundColor:e},children:r(b,u,t,w)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEphemeralButton.react",["ix","BaseImage_DEPRECATED.react","MWPChatEphemeralButton.react","MWXIcon.react","MWXText.react","fbicon","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("fbicon")._(h("656360"),20);function k(){var a=c("useCurrentDisplayMode")();return i.jsx(c("BaseImage_DEPRECATED.react"),{className:"x1b0d499",src:j.src,style:{filter:a==="dark"?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)"}})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop;a=a.outgoing;return i.jsx(c("MWPChatEphemeralButton.react"),{attachment:b,connectBottom:d,connectTop:e,outgoing:a,renderContent:function(a,b,d,e){a=b==="expired"?"disabled":"primary";d=b==="unseen"?i.jsx(k,{}):b==="expired"?i.jsx(c("MWXIcon.react"),{color:"disabled",icon:j}):i.jsx(c("MWXIcon.react"),{color:"primary",icon:j});return i.jsx("div",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:i.jsxs(c("MWXText.react"),{color:a,type:"bodyLink3",children:[d,i.jsx("span",{className:"x1i64zmx xjmsjum",children:e})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return h.jsx(c("CometPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return d("I64").to_string(b())}var h=c("gkx")("1016");function i(a,b){if(h){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?d("I64").to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:d("I64").to_string(b.thread.threadKey),thread_type:d("I64").to_int32(b.thread.threadType)}})}}function e(a){return i("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("MWFilePressableHooks.bs",["MWFileViewerLogger","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadId,a.messageId).take(1)},[b,a],f.id+":26")}function j(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a.threadId).take(1)},[b,a],f.id+":37")}function a(a,b,c,e,f){var g=i(a),k=j(a);return h(function(h){c==null?void 0:c(h);h={attachment:g,attachmentID:b,entryPoint:e,messageID:a,sessionId:f,thread:k};return d("MWFileViewerLogger").logFileViewerDirectDownload(h)},[k,b,g,f,e,a,c])}g.useOnPressHandler=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFilePressableHooks.bs","MWFileViewerLogger","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,j=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&j!=null?h.jsx(i,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:j,xstyle:a}):h.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:j,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function i(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,i=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();i=d("MWFilePressableHooks.bs").useOnPressHandler(i,b,g,f,k);return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:h.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:i,url:j,xstyle:a})})}i.displayName=i.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFDSChatHeaderDetailsSubtitleMutedIcon.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerDisclosureContainer.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return h.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?i.root_new_layout_for_horizontal_buttons:i.root,children:h.jsx("div",{style:c("gkx")("6189")?i.inner_new_layout_for_horizontal_buttons:i.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerGroupMessageRequestInfoText.react",["fbt","CometPressable.react","JSResourceForInteraction","MWComposerDisclosureContainer.react","MWIsXacGroupThread.bs","MWLSThread","MWThreadKey.react","MWVerticalRhythm","MWXText.react","MessageRequestsLog","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=c("JSResourceForInteraction")("MWChatDeclineGroupMessageRequestDialog.react").__setRef("MWChatComposerGroupMessageRequestInfoText.react");function a(a){var b=a.onDeleteConversation;a=a.onLeaveGroup;var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=d("MWLSThread").useThreadExn(e);e=d("MWIsXacGroupThread.bs").check(f);j(function(){d("MessageRequestsLog").logMessageRequestInfoShown(f)},[f]);var g=k(null),m={onDeleteConversation:b,onLeaveGroup:a};b=c("useMWXLazyDialog")(l);var n=b[0],o=function(){return n(m)};return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[e?i.jsxs(i.Fragment,{children:[i.jsx(c("MWXText.react"),{color:"secondary",type:"entityHeaderMeta3",children:h._("__JHASH__Zo8nGcr-Wbu__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:8})]}):null,i.jsxs(c("MWXText.react"),{color:"secondary",type:"body4",children:[e?h._("__JHASH__dGW95F1FSGX__JHASH__"):h._("__JHASH__8Xn13sU52xi__JHASH__"),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometPressable.react"),{onPress:function(){d("MessageRequestsLog").logDenialOptionsTapped(f);return o()},overlayDisabled:!0,ref:g,testid:void 0,children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__3yIVRKHeTer__JHASH__")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MDSTextPairing.react","MWXText.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var b=c("useCometRouterState")();b=b!=null?c("getTopMostRoute")(b):null;b=(b=b==null?void 0:b.tracePolicy)!=null?b:null;b=b!==null?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1;var d=c("CurrentUser").getName();d=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",i.jsx(c("MWXText.react"),{type:"meta2",children:d}))]);return b||a?i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xkrivgy xat24cr x1gryazu xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d}),level:4,textAlign:"center"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContactDetails.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a.name}function b(a){if(a==null)return;var b=a.firstName;if(b!=null)return b;else return a.name}function c(a){if(a!=null)return a.secondaryName}f.getName=a;f.getShortName=b;f.getSecondaryName=c}),66);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("__JHASH__U0QsQTXo_Q6__JHASH__",[h._param("FBFullName",a)])}function b(a){return h._("__JHASH__Wrmwnynng2F__JHASH__",[h._param("name",a)])}function c(a){return h._("__JHASH__9ycmorSoeEo__JHASH__",[h._param("FBShortName",a)])}g.getFBUserInfoTextMessage=a;g.getDefaultInfoTextFooter=b;g.getDeclineUserDialogText=c}),98);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometPressable.react","I64","JSResourceForInteraction","MDSTextPairing.react","MWComposerDisclosureContainer.react","MWContactDetails.bs","MWMessageRequestSharedTexts.bs","MWVerticalRhythm","MWXText.react","MessageRequestsLog","ReQL","ReQLSuspense","isStringNullOrEmpty","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=c("JSResourceForInteraction")("MWChatDeclineUserMessageRequestDialog.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs");function a(a){var b=a.onDeleteConversation,e=a.thread;a=d("I64").to_string(e.threadKey);var g=a,m=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("contacts")).getKeyRange(d("I64").of_string(g))},[g,m],f.id+":52");var n=d("MWContactDetails.bs").getName(a);n=n!=null?n:h._("__JHASH__AaE4hJExM0x__JHASH__");var o=d("MWContactDetails.bs").getShortName(a);o=o!=null?o:h._("__JHASH__AaE4hJExM0x__JHASH__");a=d("MWContactDetails.bs").getSecondaryName(a);a=c("isStringNullOrEmpty")(a)?void 0:a;var p=a!=null?i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__CEpoRXODTMn__JHASH__")}):null,q=a!=null?n!==a?h._("__JHASH__tV1eV-071mI__JHASH__",[h._param("IGDisplayName",n),h._param("IGUserName",a)]):h._("__JHASH__U6KCI1_eCqE__JHASH__",[h._param("IGUserName",a)]):d("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(n),r=a!=null?n!==a?h._("__JHASH__aglenjVPdnH__JHASH__",[h._param("name",n),h._param("username",a)]):h._("__JHASH__OwGh52eXtzq__JHASH__",[h._param("username",a)]):d("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(n),s=k(null);j(function(){d("MessageRequestsLog").logMessageRequestInfoShown(e)},[e]);var t={onDeleteConversation:b,otherUserFbid:g,otherUserName:n.toString(),otherUserSecondaryName:a,otherUserShortName:o};b=c("useMWXLazyDialog")(l);var u=b[0],v=function(){return u(t)};return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:q}),headline:p,level:4,textAlign:"center"}),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometPressable.react"),{onPress:function(){d("MessageRequestsLog").logDenialOptionsTapped(e);return v()},overlayDisabled:!0,ref:s,testid:void 0,children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:r})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),d=b[0],e=function(){a.onClose()};return h.jsx(c("TetraButton.react"),{label:a.label,onPress:function(){a.setPWDismissTime(),a.onPress(),d({flowCallbacks:{onClose:e}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getThreadBannerQuery(b,a)},[b,a],f.id+":31"),g=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(b,a)},[b,a],f.id+":36");return{banner:e,pwSettings:g}}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","Int64Hooks","MWThreadKey.react","useMWLSProactiveWarningTables"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useMWLSProactiveWarningTables")(),g=f.banner,h=f.pwSettings,i=b!=null&&d("I64").equal((f=b.proactiveWarningDismissTime)!=null?f:d("I64").zero,d("I64").zero);return d("Int64Hooks").useMemoInt64(function(){if(h==null||g==null)return;var b=h.context,c=h.entryPoint,f=h.storyLocation,j=h.suspectId,k=h.tag,l=g.bannerId,m=g.cta1Title,n=g.cta2Title,o=g.heading,p=g.titleSectionOne;if(!((Boolean(a)||i)&&d("I64").equal(l,d("I64").of_string("7"))))return;if(j!=null&&b!=null&&f!=null&&c!=null&&k!=null&&o!=null&&n!=null&&m!=null&&p!=null)return{context:b,cta1Title:m,cta2Title:n,description:p,falco_event_data:{data:{entry_point:d("I64").to_int32(c),feedback_tags:[k],surface:d("I64").to_int32(f)},impersonatedUser:{id:0},otherUser:{id:d("I64").to_int32(j)},reportedUser:{id:0},thread:{id:d("I64").to_string(e),type:1}},header:o,threadKey:e}},[e,g,h,i,a])}g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTime","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","TetraButton.react","promiseDone","react","stylex","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k={button:{width:"x5sxuk9",$$css:!0},buttonsContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",marginTop:"x14vqqas",width:"xh8yej3",$$css:!0},root:{borderTop:"xzg4506",color:"xi81zsa",marginTop:"x14vqqas",paddingTop:"xyinxu5",paddingEnd:"xho0xa1",paddingBottom:"xxbrewl",paddingStart:"x1vobaek",$$css:!0}};function a(a){var b=a.fallback,e=a.onClose;a=a.thread;var f=c("useMWProactiveWarningPayload")(void 0,a),g=c("useReStore")(),l=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();j(function(){f!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},[f]);if(f==null)return b;a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",f.header)]);b=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",f.description)]);var m=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:f.context,label:f.cta1Title,onClose:e,onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},setPWDismissTime:function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(l,c("LSFactory")(a))},"readwrite"),e,e)}})}),n=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("TetraButton.react"),{label:h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",f.cta2Title)]),onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}}),c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(f.threadKey,c("LSFactory")(a))},"readwrite"),e,e)},reduceEmphasis:!1,size:"medium",type:"secondary"})});b=i.jsxs(i.Fragment,{children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),headline:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:a}),level:4,textAlign:"center"}),i.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3",children:[m,n]})]});return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fallback,d=a.onClose;a=a.thread;return h.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:b,onClose:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnavailableComposer.bs",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);a=h._("__JHASH__FoZB3MxTOU9__JHASH__");return i.jsxs("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:[i.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJoinChannelComposerPlaceholder.react",["fbt","$InternalEnum","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonGlimmer:{borderTopStartRadius:"xi112ho",borderTopEndRadius:"x17zwfj4",borderBottomEndRadius:"x585lrc",borderBottomStartRadius:"x1403ito",height:"x10w6t97",$$css:!0},root:{borderTop:"xzg4506",$$css:!0}},k=b("$InternalEnum").Mirrored(["Broadcast","Social"]);function a(a){var b=a.channelType;a=function(){switch(b){case k.Broadcast:return h._("__JHASH__LGuHuzgqd6L__JHASH__");case k.Social:return h._("__JHASH__8LwBLF7_aVr__JHASH__")}}();return i.jsxs(c("MDSColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:16,xstyle:j.root,children:[i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("MWXText.react"),{align:"center",type:"meta3",children:a})}),i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.buttonGlimmer})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChannelType=k;g.MWJoinChannelComposerPlaceholder=a}),98);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("useMWEncryptedBackupsIssueRangeQueryDeferred",["react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery.bs").__setRef("useMWEncryptedBackupsIssueRangeQueryDeferred");function a(){var a=c("useReStore")();return h(function(b,c,d,e){i.onReady(function(f){return f.runQuery(a,b,c,d,e)})},[a])}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellWrapper.react",["CometPlaceholder.react","MWChatEncryptedBackupsRingIndeterminateIcon.react","cr:6740","cr:6814","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:6814"))!=null?e:b("cr:6740");function a(a){a=a.children;return i!=null?h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWChatEncryptedBackupsRingIndeterminateIcon.react"),{}),children:h.jsx(i,{children:a})}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWForwardMessage",["MAWBridgeSendAndReceive","MAWCreateOneToOneThread","MAWGetEphemeralSettings","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWThreadId","MAWTimedJob","MWThread_DEPRECATED.bs","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("MAWThreadId").isSecureThreadId(a,b)),f=!1;e||(yield d("MAWCreateOneToOneThread").call(a,b),f=!0);return d("MAWMiActOnActThreadReady").onActThreadReady(a,b,"MAWForwardMessage",function(a,b,d){return c(b,d,f)})});return i.apply(this,arguments)}function a(a,b,e,f,g){var i=d("MWThread_DEPRECATED.bs").toThreadKey(b);c("promiseDone")(h(a,i,function(a,b,c){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}).then(function(a){if(a!=null)return d("MAWGetEphemeralSettings").getEphemeralSetting(b,i).then(function(e){return d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers.forwardMsg(b,a,(e=e)!=null?e:void 0,void 0,c,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},{s2sInstanceKey:g,source:f}))})})}))}g.maybeCreateNewThreadAndCallback=h;g.forwardMessage=a}),98);
__d("MAWForwardMessageFromSecureThread.react",["I64","LSFactory","LSHotEmojiSize","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSOptimisticSendMessageV2","LSOptimisticSendXMAMessageForwardFromSecureThread","LSShape","LSVec","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","MWChatThreadId","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWThread_DEPRECATED.bs","MessagePowerUp","MessagingAttachmentType","OfflineThreadingId","Promise","ReQL","asyncToGeneratorRuntime","cr:2472","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return{action_url:void 0,attachment_fbid:b,attachment_index:d("I64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:b,original_file_hash:void 0,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(c),playable_url_mime_type:c.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function i(a,b,c,e){var f;return{action_url:(f=b==null?void 0:b.actionUrl)!=null?f:b==null?void 0:b.nativeUrl,attachment_fbid:c,attachment_index:d("I64").zero,attachment_type:a.attachmentType,cta1_title:a.cta1Title,cta2_title:a.cta2Title,cta3_title:a.cta3Title,description_text:a.descriptionText,filename:a.filename,filesize:a.filesize,has_media:!1,has_xma:!0,image_url:void 0,mini_preview:void 0,offline_attachment_id:c,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:URL.createObjectURL(e),playable_url_mime_type:e.type,preview_height:void 0,preview_url:URL.createObjectURL(e),preview_url_mime_type:e.type,preview_width:void 0,source_text:a.sourceText,subtitle_text:a.subtitleText,title_text:a.titleText,xma_layout_type:a.xmaLayoutType,xmas_template_type:a.xmasTemplateType}}function j(a,e,f,g,h,i,j,k){k=c("LSFactory")(k);return c("LSOptimisticSendXMAMessageForwardFromSecureThread")(a,e,f,(a=g)!=null?a:void 0,h,j,c("LSVec").ofArray([d("LSShape").ofRecord(i)]),k).then(function(){return b("Promise").resolve()})}function k(a,b){return a==null||b==null?void 0:{amplitudes:b.split(",").map(parseFloat),sampling_freq:a}}function l(a,e,f,g,h,i,j,l,m){var n=c("LSFactory")(l);return c("LSLocalApplyOptimisticMessageWithAttachments")(j,h,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0,i,c("LSVec").ofArray([d("LSShape").ofRecord(e)]),void 0,n).then(function(a){var c=a[0];a[1];return l.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!1,messageId:void 0,offlineThreadingId:c,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:d("I64").of_string(c),threadAttributionSource:m,threadKey:h}).then(function(){return b("Promise").resolve(c)})}).then(function(a){var f=e.attachment_fbid;return c("LSInsertNewMediaSend")(f,a,d("I64").zero,e.attachment_type,!1,!1,!1,!1,n).then(function(){return b("Promise").resolve([a,f])})}).then(function(g){var h=g[0],i=g[1];g=function(b,e){c("promiseDone")(a.runInTransaction(function(a){var b=c("LSFactory")(a);return c("LSMarkSubJobCompletedV2")(i,d("I64").of_float(e),void 0,void 0,void 0,b).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(b,h)})},"readwrite"))};d("MWPComposerMediaUploadUtil").startUpload(void 0,g,void 0,d("I64").equal(e.attachment_type,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)),[f],[i],void 0,void 0,k(e.sampling_frequency_hz,e.waveform_data),void 0);return b("Promise").resolve()})}function a(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,m,n,o){var p=d("MWChatThreadId").getMessagingThreadType(e),q=d("MWThread_DEPRECATED.bs").toThreadKey(e);if(m!=null){var r=m.attachmentType;if(!(d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))||d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))||d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))||d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))))throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_product");var s=null;if(!d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))){s=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(m.attachmentFbid,10))}));if(s==null)return}yield a.runInTransaction(function(e){switch(!0){case d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)):if(s==null)throw c("unrecoverableViolation")("Blob can not be null for MessagingAttachmentType.AUDIO","messenger_web_product");var t=new File([s],"mediaForwardedFromSecureThread",{type:s.type}),u=d("OfflineThreadingId").createOfflineThreadingID();u=d("MWPComposerMediaUploadUtil").getAudioAttachment(u,t,d("I64").to_int32((u=m.playableDurationMs)!=null?u:d("I64").zero)/1e3,k(m.samplingFrequencyHz!=null?d("I64").to_int32(m.samplingFrequencyHz):void 0,m.waveformData));return l(a,u,t,p,q,g,n,e,o);case d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)):return d("ReQL").firstAsync(d("ReQL").fromTableDescending(e.table("attachment_ctas")).getKeyRange((u=m.defaultCtaId)!=null?u:d("I64").zero)).then(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{infoType:"preview",xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(m.attachmentFbid,10))}).then(function(c){return b("Promise").resolve([a,c])})}).then(function(c){var h=c[0];c=c[1];if(c==null)return;c=new File([c],"xmaForwardedFromSecureThread",{type:c.type});var a=d("OfflineThreadingId").createOfflineThreadingID();h=i(m,h,a,c);a=f.text;c=b("cr:2472")==null||a==null?a:b("cr:2472").unvault(a);return j(n,q,p,c,g,h,o,e)});case d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)):case d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)):case d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)):case d("I64").equal(r,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):if(s==null)throw c("unrecoverableViolation")("Blob can not be null for MessagingAttachmentType.AUDIO","messenger_web_product");u=new File([s],(t=m.filename)!=null?t:"mediaForwardedFromSecureThread",{type:s.type});t=d("OfflineThreadingId").createOfflineThreadingID();t=h(m,t,u);return l(a,t,u,p,q,g,n,e,o);default:throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_product")}},"readwrite")}else{e=f.text;if(e==null)throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_product");var t=b("cr:2472")==null?e:b("cr:2472").unvault(e),u=t==="\ud83d\udc4d"&&f.hotEmojiSize!=null&&d("I64").equal(f.hotEmojiSize,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL)),v=u?d("I64").of_string("369239263222822"):void 0;yield a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2")(n,q,p,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),u?void 0:t,void 0,d("LSShape").ofRecord({calculate_denormalizations:!1,is_forwarded:g,mark_read:!1,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),source:o,sticker_id:v}),c("LSFactory")(a))},"readwrite")}});return m.apply(this,arguments)}g.forwardMessage=a}),98);
__d("MAWInformTreatmentTypeTransform",["WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"MEDIA_LABEL":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL;case"POST_COVER":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_COVER;case"POST_LABEL":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL;case"WARNING_SCREENS":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING_SCREENS;default:return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE}}g["default"]=a}),98);
__d("MAWShareAttachment",["fbt","CometRelay","ConstUriUtils","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWCreateOneToOneThreadWithStringFBID","MAWExternalId","MAWGetEphemeralSettings","MAWImagePreProcess","MAWInformTreatmentTypeTransform","MAWJids","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWShareAttachment_LinkPreviewQuery.graphql","MAWTimedJob","MWQPLMarkers","Promise","QPLUserFlow","ReQL","ReQLSuspense","WAArmadilloXMA.pb","WAJids","WAJobOrchestratorTypes","asyncToGeneratorRuntime","err","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSDatabaseSingleton")),e=d("I64").of_string(a.targetID);return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("MAWJids").toUserJid(d("I64").to_string(a.contactId))}),f.id+":73")});return k.apply(this,arguments)}function l(a){return!Boolean(a)?b("Promise").resolve():window.fetch(a).then(function(a){return a.blob()})["catch"](function(){c("FBLogger")("messenger_e2ee_web").mustfix("Error fetching url in xma share");return b("Promise").resolve()})}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_BEGIN);e=d("ConstUriUtils").getUri(e);if(e==null)return{};e=(e=e.setSubDomain("www"))==null?void 0:e.toString();if(e==null)return{};f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_QUERY_BEGIN);a=(yield d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWShareAttachment_LinkPreviewQuery.graphql"),{url:e}).toPromise()["catch"](function(a){g(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_QUERY_DATA_FOR_XMA_SHARE,{}),c("FBLogger")("messenger_e2ee_web").mustfix("Failed execute MAWShareAttachment_LinkPreviewQuery for MAWShareAttachent")}));f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_QUERY_COMPLETE);a=a==null?void 0:a.post_reshare_xma;if(a==null){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.MISSING_XMA_DATA);return{}}if(a==="private"){var j=new Blob([],{type:"image/jpeg"});f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.RETURN_PRIVATE_XMA_DATA);return{defaultCTA:{actionUrl:e,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:e,title:h._("__JHASH__Xv8OyXI6-mU__JHASH__").toString()},overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:j}}var k;try{k=JSON.parse(a)}catch(a){g(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_PARSE_JSON_FOR_XMA_SHARE,{});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch blob xma data for MAWShareAttachent")}j=k;a=j.action_url;var m=j.ctas,n=j.default_cta_title,o=j.favicon_url,p=j.image_url,q=j.preview_url,r=j.subtitle_text;j=j.title_text;o=(yield b("Promise").all([o,p,q].map(function(a){return l(a)}))["catch"](function(a){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_BLOB_FOR_XMA_SHARE);c("FBLogger")("messenger_e2ee_web").mustfix("Failed to fetch blob xma data for MAWShareAttachent");return[void 0,void 0,void 0]}));p=o[0];q=o[1];o=o[2];m=m;var s=m==null?void 0:m[0];a=(a=(a=a)!=null?a:s==null?void 0:s.action_url)!=null?a:e;e={actionUrl:a,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(e=s==null?void 0:s.native_url)!=null?e:a,title:(s=n)!=null?s:void 0};f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.RETURN_PUBLIC_XMA_DATA);return{ctas:m==null?void 0:m.map(function(a){var b;return{actionUrl:(b=a.action_url)!=null?b:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(b=a.native_url)!=null?b:void 0,title:(b=a.title)!=null?b:void 0}}),defaultCTA:e,favicon_blob:(a=p)!=null?a:void 0,image_blob:(n=q)!=null?n:void 0,preview_blob:(s=o)!=null?s:void 0,subtitle_text:(m=r)!=null?m:void 0,title_text:(e=j)!=null?e:void 0}});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i,j,k,l,m,n,o,p,q){a!=null&&(e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE),yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(a)})));a=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(f,q));e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.CREATED_THREAD_FOR_XMA_SHARE);return f!=null?d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{ephemeralSetting:a==null?void 0:a,offlineAttachmentId:g.shareID,s2sInstanceKey:p,s2sUserFlowQPLEvent:c("qpl")._(25313175,"1551"),source:d("LSIntEnum").ofNumber((q=o)!=null?q:c("LSMessagingThreadAttributionType").UNKNOWN),xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},associatedMsgContent:(e=g.message)!=null?e:void 0,associatedMsgContentExternalId:g.message==null?void 0:d("MAWExternalId").generateExternalId(),chatJid:f,faviconFile:h,previewFile:i,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:{ctas:j,defaultCTA:k,overlayIconGlyph:(a=l)!=null?a:c("MAWInformTreatmentTypeTransform")((p=g.messagingInformTreatmentInfo)==null?void 0:p.treatmentType),overlayTitle:(q=(o=g.messagingInformTreatmentInfo)==null?void 0:o.messagingInformTreatmentName)!=null?q:void 0,subtitleText:(e=m)!=null?e:void 0,titleText:(f=n)!=null?f:void 0},xmaMsgExternalId:d("MAWExternalId").generateExternalId()})):b("Promise").resolve()});return p.apply(this,arguments)}function a(a,b,c,d,e){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){if(e.url===null)return;var i=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),a,{instanceKey:h})},k=function(a,b){b===void 0&&(b={}),c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),a,{annotations:b,instanceKey:h})};a=(yield m(a,(a=e.url)!=null?a:"",i,k));var l=a.ctas,n=a.defaultCTA,p=a.favicon_blob;a.image_blob;var q=a.overlayIconGlyph,r=a.preview_blob,s=a.subtitle_text,t=a.title_text;i(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_SUCCESS);a=r==null?void 0:new File([r],"preview",{type:r.type});r=p==null?void 0:new File([p],"favicon",{type:p.type});p=q===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?b("Promise").resolve({height:0,width:0}):a!=null?d("MAWImagePreProcess").getImageSpec(a):b("Promise").resolve();var u=r!=null?d("MAWImagePreProcess").getImageSpec(r):b("Promise").resolve();p=(yield b("Promise").all([p,u]));u=p[0];p=p[1];i(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_FAVICON_SPEC_READY);var v=a==null||u==null?void 0:{file:a,height:u.height,width:u.width},w=r==null||p==null?void 0:{file:r,height:p.height,width:p.width};if(v==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_DOES_NOT_EXIST);throw c("err")("Preview must exist in the XMA Send Path")}if(f!=null)if(f.isTargetE2E===!0){var x=d("I64").of_string_opt(e.targetID);if(x==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch threadKey for MAW XMA Attachment Share")}return c("LSDatabaseSingleton").then(function(a){return d("MAWMiActOnActThreadReady").onActThreadReady(a,x,"fetch-existing-chatJid",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,m){b=m;if(b==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE,{bool:{createNewThread:!1}});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch chatJid for MAW XMA Attachment Share")}f!=null&&f.typeName==="User"?m=[d("MAWJids").toUserJid(e.targetID)]:m=(yield j(e));return o(m,i,b,e,w,v,l,n,q,s,t,g,h,a)});return function(b,c,d){return a.apply(this,arguments)}}())})}else if(f.targetType==="USER")return c("LSDatabaseSingleton").then(function(a){return d("MAWCreateOneToOneThreadWithStringFBID").call(a,f.targetID)}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a==null?void 0:a.jid;if(a==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE,{bool:{createNewThread:!0}});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch chatJid for MAW XMA Attachment Share")}var b=[d("WAJids").interpretAsUserJid(a)].filter(Boolean);i(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE);yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(b)}));return o(b,i,a,e,w,v,l,n,q,s,t,g,h)});return function(b){return a.apply(this,arguments)}}())});return q.apply(this,arguments)}g.fetchBlob=l;g.fetchXMAData=m;g.shareSecureAttachment=a}),98);
__d("MAWFowardMessageFromOpenThread",["I64","LSIntEnum","MAWExternalId","MAWForwardMessage","MAWGetEphemeralSettings","MAWImagePreProcess","MAWJobDefinitions","MAWSecureComposerUtils","MAWShareAttachment","MAWUIJob","MAWVideoUtils","MWThread_DEPRECATED.bs","MessagingAttachmentType","Promise","ReQL","WAArmadilloXMA.pb","WAJobOrchestratorTypes","asyncToGeneratorRuntime","gkx","promiseDone","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){return b("Promise").all([d("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a),c.arrayBuffer(),d("MAWImagePreProcess").getImageSpec(c)]).then(function(a){var c=a[0],d=a[1],e=a[2];a=a[3];return b("Promise").resolve({args:{imageSpec:c,thumbnailUrlAndSpec:{duration:void 0,height:a.height,jpegThumbnail:e,width:a.width}},file:d,type:"image"})})}function i(a){return d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(function(c){return b("Promise").resolve({args:{thumbnailUrlAndSpec:c},file:a,type:"video"})})}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("MAWShareAttachment").fetchBlob(a));b=a==null?void 0:new File([a],b,{type:a.type});a=b!=null?yield d("MAWImagePreProcess").getImageSpec(b):null;return b!=null&&a!=null?{file:b,height:a.height,width:a.width}:void 0});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("attachment_ctas")).getKeyRange(a)));return c==null||b==null&&c.actionUrl==null?null:{actionUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,title:(c=b)!=null?c:void 0}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=a.actionUrl,f=a.attachmentCta1Id,g=a.attachmentCta2Id,h=a.attachmentCta3Id,i=a.cta1Title,k=a.cta2Title,m=a.cta3Title,n=a.defaultCtaId,o=a.defaultCtaTitle,p=a.faviconUrl,q=a.headerImageUrl,r=a.headerTitle,s=a.maxSubtitleNumOfLines,t=a.maxTitleNumOfLines,u=a.previewUrl,v=a.subtitleText;a=a.titleText;p=(yield b("Promise").all([[p,"favicon"],[q,"headerImage"],[u,"preview"]].map(function(a){return j(a[0],a[1])})));q=p[0];u=p[1];p=p[2];var w;if(n!=null){n=(yield l(n,o,c));w=(n=n)!=null?n:{actionUrl:(n=e)!=null?n:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(n=e)!=null?n:void 0,title:(e=o)!=null?e:void 0}}n=[];if(f!=null){o=(yield l(f,i,c));o!=null&&n.push(o)}if(g!=null){e=(yield l(g,k,c));e!=null&&n.push(e)}if(h!=null){f=(yield l(h,m,c));f!=null&&n.push(f)}g={ctas:n,defaultCTA:w,headerTitle:r,maxSubtitleNumOfLines:d("I64").to_int32((i=s)!=null?i:d("I64").zero),maxTitleNumOfLines:d("I64").to_int32((o=t)!=null?o:d("I64").zero),overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,subtitleText:v,titleText:a};return{faviconFileArgs:q,headerFileArgs:u,previewFileArgs:p,xmaArgs:g}});return o.apply(this,arguments)}function p(a){var e=a.attachmentType,f=a.filename,g=a.playableDurationMs,j=a.playableUrl,k=a.playableUrlMimeType,l=a.previewUrl,m=a.previewUrlMimeType;if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))){if(j==null)throw c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product");var n=d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));if(l!=null){a=n?l+"&":j;var o=n?l+"&":l;return b("Promise").all([window.fetch(a).then(function(a){return a.blob()}),window.fetch(o).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:n?m:k});a=new File([a],"previewForwardedFromOpenThread",{type:m});if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return h(b,a);if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return i(b);if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h(b,a);throw c("unrecoverableViolation")("shouldn't have this error in forward message from open thread","messenger_web_product")})}a=n?j+"&":j;return window.fetch(a).then(function(a){return a.blob()}).then(function(a){if(n&&k==="video/mp4")throw c("unrecoverableViolation")("If you see this error, there is only mp4 url for gif","messenger_web_product");a=new File([a],(a=f)!=null?a:"mediaForwardedFromOpenThread",{type:k});if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return d("MAWSecureComposerUtils").imagePreprocess(a,!1);if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return i(a);if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)))return d("MAWSecureComposerUtils").documentFilePreprocess(a);if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return b("Promise").all([d("MAWImagePreProcess").getJpegThumbnailInfo(a,400),d("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a)]).then(function(a){var c=a[0],d=a[1];a=a[2];return b("Promise").resolve({args:{imageSpec:d,thumbnailUrlAndSpec:c},file:a,type:"image"})});throw c("unrecoverableViolation")("shouldn't have this error in forward message from open thread","messenger_web_product")})}if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))){if(j!=null)return window.fetch(j+"&").then(function(a){return a.blob()}).then(function(a){var c;a=new File([a],"mediaForwardedFromOpenThread",{type:k});return b("Promise").resolve({args:{durations:d("I64").to_int32((c=g)!=null?c:d("I64").zero)/1e3,isPtt:!0},file:a,type:"audio"})});throw c("unrecoverableViolation")("If you see this error, there is no playableUrl for this audio attachment","messenger_web_product")}if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))){if(j==null&&l==null)throw c("unrecoverableViolation")("If you see this error, there is no url for this sticker","messenger_web_product");return j!=null?l!=null?b("Promise").all([window.fetch(j).then(function(a){return a.blob()}),window.fetch(l).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:k});a=new File([a],"previewForwardedFromOpenThread",{type:m});return h(b,a)}):window.fetch(j).then(function(a){return a.blob()}).then(function(a){a=new File([a],"mediaForwardedFromOpenThread",{type:k});return h(a,a)}):window.fetch(l).then(function(a){return a.blob()}).then(function(a){return d("MAWSecureComposerUtils").imagePreprocess(new File([a],"previewForwardedFromOpenThread",{type:m}),!0)})}throw c("unrecoverableViolation")("We do not support forwarding other media types","messenger_web_product")}function a(a,e,f,g,h,i,j,k){var l=d("MWThread_DEPRECATED.bs").toThreadKey(e);c("promiseDone")(d("MAWForwardMessage").maybeCreateNewThreadAndCallback(a,l,function(e,f,m){e=d("MAWGetEphemeralSettings").getEphemeralSetting(f,l);var o=m;return e.then(function(e){if(i!=null){if(i.attachmentFbid==="369239263222822"||i.attachmentFbid==="369239343222814"||i.attachmentFbid==="369239383222810"){var l;return d("MAWUIJob").UIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("sendMsg",{args:{content:"\ud83d\udc4d",ephemeralSetting:(l=e)!=null?l:void 0,isFirstMsg:o,isForwarded:h,s2sInstanceKey:k,source:j,specialTextSize:1},chatJid:f,externalId:d("MAWExternalId").generateExternalId(),scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}))}return d("I64").equal(i.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?n(i,a).then(function(a){var b,g=a.faviconFileArgs,h=a.headerFileArgs,i=a.previewFileArgs;a=a.xmaArgs;return d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{ephemeralSetting:(b=e)!=null?b:void 0,isFirstMsg:o,isForwarded:!0,s2sInstanceKey:k,s2sUserFlowQPLEvent:c("qpl")._(25313175,"1551"),xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},chatJid:f,faviconFile:g,headerFile:h,previewFile:i,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:a,xmaMsgExternalId:d("MAWExternalId").generateExternalId()}))}):p(i).then(function(a){switch(a.type){case"image":var g,i=a.args;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(g=e)!=null?g:void 0,height:i.imageSpec.height,isFirstMsg:o,isForwarded:h,jpegThumbnail:i.thumbnailUrlAndSpec.jpegThumbnail,jpegThumbnailHeight:i.thumbnailUrlAndSpec.height,jpegThumbnailWidth:i.thumbnailUrlAndSpec.width,s2sInstanceKey:k,source:j,width:i.imageSpec.width},chatJid:f,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"video":g=a.args;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:g.thumbnailUrlAndSpec.duration,ephemeralSetting:(i=e)!=null?i:void 0,height:g.thumbnailUrlAndSpec.height,isFirstMsg:o,isForwarded:h,jpegThumbnail:g.thumbnailUrlAndSpec.jpegThumbnail,jpegThumbnailHeight:g.thumbnailUrlAndSpec.height,jpegThumbnailWidth:g.thumbnailUrlAndSpec.width,s2sInstanceKey:k,source:j,width:g.thumbnailUrlAndSpec.width},chatJid:f,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"audio":i=a.args;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:Math.round(i.durations),ephemeralSetting:(g=e)!=null?g:void 0,isFirstMsg:o,isForwarded:h,isPtt:i.isPtt,s2sInstanceKey:k,source:j},chatJid:f,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"document":if(c("gkx")("9045")){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(g=e)!=null?g:void 0,filename:a.args.filename,isFirstMsg:o,isForwarded:h,s2sInstanceKey:k,source:j},chatJid:f,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}))}else throw c("unrecoverableViolation")("Forwarding secure doc messages is not supported on web yet","messenger_web_product");break}return b("Promise").resolve()})}l=g.text;if(l!=null){return d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMsg",{args:{content:g.text,ephemeralSetting:(l=e)!=null?l:void 0,isFirstMsg:o,isForwarded:h,s2sInstanceKey:k,source:j},chatJid:f,externalId:d("MAWExternalId").generateExternalId(),scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}))}throw c("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")})}))}g.forwardMessage=a}),98);
__d("MWGroupMembershipListItem.bs",["I64","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h={BroadcastChannelParticipant:"broadcastChannelParticipantType",CommunityMember:"communityMemberType",ParticipantAndContact:"participantAndContactType",ServerSearchResult:"serverSearchResultType"};function a(a){if(a.type===h.ParticipantAndContact)return a.participant.isAdmin;if(a.type===h.CommunityMember)return a.communityMember.isAdmin;return a.type===h.BroadcastChannelParticipant?a.participant.isAdmin:!1}function b(a){if(a.type===h.ParticipantAndContact)return a.participant.isModerator;return a.type===h.CommunityMember?a.communityMember.isModerator:!1}function e(a){return a.type===h.CommunityMember?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a.communityMember):!1}function f(a){if(a.type===h.ParticipantAndContact)return a.contact.id;if(a.type===h.CommunityMember)return a.communityMember.contactId;return a.type===h.BroadcastChannelParticipant?a.participant.contactId:d("I64").of_string(a.serverSearchResult.resultId)}g.MWGroupMembershipMemberTypes=h;g.isAdmin=a;g.isModerator=b;g.isHost=e;g.contactId=f}),98);
__d("MWGroupMembershipListItemWrapper",["MWGroupMembershipListItem.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.tag){case"ParticipantAndContact":return{contact:a.value[1],participant:a.value[0],type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact};case"CommunityMember":return{communityMember:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember};case"ServerSearchResult":return{serverSearchResult:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult};case"BroadcastChannelParticipant":return{participant:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.BroadcastChannelParticipant}}}g.tToRE=a}),98);
__d("MWLSGroupMembershipMemberCellProfilePhoto.react",["fbt","IntlVariations","MWXProfilePhoto.react","MWXText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.linkProps,d=a.name,e=a.profilePictureUrl;a=a.showTooltip;b=i.jsx(c("MWXProfilePhoto.react"),{alt:d,"aria-label":h._("__JHASH__5FWHZ8StuMQ__JHASH__",[h._name("name",d,c("IntlVariations").GENDER_UNKNOWN)]),linkProps:b,shape:"circle",size:36,source:{uri:e}});return a?i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:i.jsx(c("MWXText.react"),{type:"body3",children:h._("__JHASH__gvt-u-jxLjT__JHASH__",[h._name("name",d,c("IntlVariations").GENDER_UNKNOWN)])}),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSGroupMembershipMemberCell.react",["fbt","ix","CometMiddotSeparator.react","GenderConst","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSGroupParticipantJoinState","LSIntEnum","LSWhatsAppConnectStatus","MAWThreadCutover","MWCMThreadTypes.react","MWGroupMembershipListItem.bs","MWInboxRouteBuilder","MWLSContactTypeExactUtils","MWLSGroupMembershipMemberCellProfilePhoto.react","MWXIcon.react","MWXLazyPopoverTrigger.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","fbicon","getFBTSafeGenderFromGenderConst","getLSMediaContactProfilePictureUrl","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=h._("__JHASH__3WTOYPxVm2l__JHASH__"),m=h._("__JHASH__J1b76x4xKfs__JHASH__"),n=h._("__JHASH__d3jtAkHct5c__JHASH__");function o(a,b){return k(function(){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!=="")return[j.jsx(j.Fragment,{children:a.serverSearchResult.contextLine})];var e=b.filter(function(a){return a!=null});return e.length>0?j.jsx(c("CometMiddotSeparator.react"),{children:e}):null},[a,b])}function p(a){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.contactTypeExact,h=b.gender,i=b.name,j=b.secondaryName,k=b.waConnectStatus,l=e.groupParticipantJoinState,m=e.isSuperAdmin;e=e.subscribeSource;return{gender:c("LSContactGenderToGenderConst")(h),isBlocked:!d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:d("I64").equal(l,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED)),isSuperAdmin:m===!0,name:i,nonWaAddressable:d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(b),secondaryName:j!=null&&d("MWLSContactTypeExactUtils").isIgContact(g)?j:null,subscribeSource:(h=e)!=null?h:null}}if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;l=f.isBlocked;m=f.name;i=f.nickname;k=f.profilePictureUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(b=l)!=null?b:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(g=i)!=null?g:m,nonWaAddressable:!1,profilePictureUrl:(j=k)!=null?j:"<PLACEHOLDER>",secondaryName:i!=null?m:null,subscribeSource:null}}if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.BroadcastChannelParticipant){e=a.participant;h=e.isBlocked;f=e.name;l=e.nickname;b=e.profilePictureUrl;g=e.profilePictureUrlFallback;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(k=h)!=null?k:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(j=l)!=null?j:f,nonWaAddressable:!1,profilePictureUrl:(m=(i=b)!=null?i:g)!=null?m:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}e=a.serverSearchResult;h=e.displayName;k=e.profilePicUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:!d("I64").equal(e.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:!1,isSuperAdmin:!1,name:h,nonWaAddressable:!1,profilePictureUrl:(l=k)!=null?l:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}function q(a,b,c,e,f,g){var i,j,k;i=(i=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?i:!1;j=(j=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?j:!1;k=(k=d("MWGroupMembershipListItem.bs").isHost(a))!=null?k:!1;a=p(a);var o=a.isInvitedByViewer,q=a.isSuperAdmin,r=a.nonWaAddressable;a=a.subscribeSource;if(b&&r&&!o)return h._("__JHASH__YJ7dDY2F-1___JHASH__").toString();if(b&&!r&&o)return h._("__JHASH__XW-fqo6HqSP__JHASH__").toString();if(a!=null&&q)return c?l:a;if(i&&e)return l;if(j&&g)return m;return k&&f?n:null}function a(a){var b=a.canMessageUser,e=a.folder,f=a.isMAWParticipantSuperAdmin,g=a.isSecure,k=a.membershipListItem,l=a.onClose,m=a.showAdminIndicator,n=a.showHostIndicator;n=n===void 0?!1:n;var r=a.showInvitedByViewerOnly;r=r===void 0?!1:r;var s=a.showModeratorIndicator;a=a.thread;var t=d("I64").to_string(d("MWGroupMembershipListItem.bs").contactId(k)),u=d("MAWThreadCutover").useGetCutoverSecureThreadKey(t),v=u!=null?d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:u}):d("MWInboxRouteBuilder").buildURL({thread_key:t});u=p(k);var w=u.gender,x=u.isBlocked,y=u.isInvitedByViewer,z=u.isSuperAdmin,A=u.name,B=u.profilePictureUrl,C=u.secondaryName;u=u.subscribeSource;var D=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),E=o(k,[C,q(k,g,D,m,n,s),x?h._("__JHASH__iywW1hlnypb__JHASH__"):null,u!=null&&!z&&!D?u:null]),F=g&&y&&!r;return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{folder:e,isMAWParticipantSuperAdmin:f,membershipListItem:k,onClose:l,onCloseDialog:l,thread:a},popoverResource:c("JSResourceForInteraction")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMemberCell.react"),popoverType:"menu",preloadTrigger:"button",children:function(a,e,f,g,k,m,n){return j.jsx(c("MWXListCell.react"),{addOnEnd:j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",A,c("getFBTSafeGenderFromGenderConst")(w))]),color:"primary",icon:d("fbicon")._(i("484388"),24),onHoverIn:g,onHoverOut:function(){return k()},onPress:function(){return e()},onPressIn:m,ref:a,testid:void 0}),addOnEndVerticalAlign:"center",addOnStart:j.jsx(c("MWLSGroupMembershipMemberCellProfilePhoto.react"),{linkProps:b?{onNavigate:l,url:v}:void 0,name:A,profilePictureUrl:B,showTooltip:b}),content:E!=null?j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{color:F?"disabled":"secondary",type:"body4",children:E}),headline:j.jsx(c("MWXText.react"),{color:F?"disabled":"primary",type:"headline4",children:A}),level:4}):j.jsx(c("MWXText.react"),{align:"start",numberOfLines:1,type:"headline4",children:A}),size:"medium",testid:void 0},t)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.bs",["fbt","I64","Int64Hooks","LSGroupParticipantJoinState","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReadyDeferred","MWDialogTextPairing.react","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberCell.react","MWPActor.react","cr:6416","emptyFunction","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var e=a.folder,f=a.participantsAndContacts,g=a.showAdmodIndicator,k=a.showHostsOnly,l=a.showAdmodsOnly,m=a.showInvitedByViewerOnly,n=a.thread,o=a.isLoading,p=a.onClose,q=p===void 0?c("emptyFunction"):p;p=a.doSortParticipants;a=p===void 0?!0:p;var r=c("useReStore")();p=j(c("emptyFunction"));var s=p[0],t=p[1],u=d("MWPActor.react").isAPPlus();p=l?f.filter(function(a){var b;b=(b=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?a:!1;return b||a}):m?f.filter(function(a){a=a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").MEMBER);return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED))}):k?f.filter(function(a){return(a=d("MWGroupMembershipListItem.bs").isHost(a))!=null?a:!1}):f;l=a?p.slice(0).sort(function(a,b){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);return a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult?a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName):0}):p;var v=d("LSMessagingThreadTypeUtil").isSecure(n.threadType);d("Int64Hooks").useEffectInt64(function(){if(b("cr:6416")!=null&&v){var a=b("cr:6416").sendAndReceive;c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(r,n.threadKey,"MWLSGroupMembershipMemberList.bs",function(b,c,d){return a("backend","getGroupSuperAdmin",{threadId:c}).then(function(a){return t(a)})}))}},[r,v,n.threadKey]);return l.length===0&&k&&o===!1?i.jsx("div",{className:"x6s0dn4 xamitd3 x78zum5 x1iyjqo2 xl56j7k x1jxqc7s xdzyupr",children:i.jsx(c("MWDialogTextPairing.react"),{body:h._("__JHASH__M-jFobtfz3M__JHASH__"),bodyColor:"secondary",headline:h._("__JHASH__7DQH5InZyqq__JHASH__"),textAlign:"center"})}):i.jsx("div",{className:"x16dsc37",children:l.map(function(a){var b=d("MWGroupMembershipListItem.bs").contactId(a);return i.jsx(c("MWLSGroupMembershipMemberCell.react"),{canMessageUser:!u,folder:e,isMAWParticipantSuperAdmin:v&&s!=null?s===d("I64").to_string(b):!1,isSecure:v,membershipListItem:a,onClose:q,showAdminIndicator:g,showHostIndicator:g,showInvitedByViewerOnly:m,showModeratorIndicator:g,thread:n},d("I64").to_string(b))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){if(b("cr:4919")!=null)return i.jsx("span",{className:"x1n2onr6 x1atx4j1",children:i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function j(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}j.displayName=j.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=j}),98);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWMemberListGlimmer.react",["MWXGlimmer.react","MWXListCell.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={nameGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"x1oux285",$$css:!0},profileGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",width:"x14qfxbe",$$css:!0}};function a(a){a=a.rowCount;a=a===void 0?3:a;return new Array(a).fill("").map(function(a,b){return h.jsx(c("MWXListCell.react"),{addOnStart:h.jsx(c("MWXGlimmer.react"),{index:0,xstyle:i.profileGlimmer}),content:h.jsx(c("MWXGlimmer.react"),{index:1,xstyle:i.nameGlimmer}),size:"medium"},b)})}g["default"]=a}),98);
__d("MWParticipantsForBroadcastChannelUtils",["Int64Hooks","LSClearDiscoverableChatsParticipantsAndRanges","LSFactory","LSFetchDiscoverableChatParticipants","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&c("promiseDone")(e.runInTransaction(function(e){return c("LSFetchDiscoverableChatParticipants")(a.threadKey,"",d("LSIntEnum").ofNumber(b),"",c("LSFactory")(e))},"readwrite"))},[e,b,a.threadKey,a.threadType])}function b(){var a=c("useReStore")();return h(function(){return a.runInTransaction(function(a){return c("LSClearDiscoverableChatsParticipantsAndRanges")(c("LSFactory")(a))},"readwrite")},[a])}function e(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("discoverable_chat_participants_ranges_v2__generated")).getKeyRange(a)},[b,a],f.id+":73")}g.useFetchBroadcastChannelMembers=a;g.useClearBroadcastChannelParticipantsList=b;g.useMWParticipantsForBroadcastChannelRanges=e}),98);
__d("MWCMInboxInfoMemberList.react",["fbt","ix","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSListCellPressable.react","MWGroupMembershipListItemWrapper","MWLSGroupMembershipMemberList.bs","MWMemberListGlimmer.react","MWPBumpEntityKey","MWParticipantsForBroadcastChannelUtils","MWXIcon.react","MWXText.react","ReQL","ReQLSuspense","fbicon","pageID","promiseDone","react","useCommunityMembers","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect,l=c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWCMInboxInfoMemberList.react"),m="inbox_info_member_list_"+c("pageID"),n=d("I64").of_int32(7);function a(a){var b=a.folder,e=a.thread,g=c("useReStore")(),o=(a=b==null?void 0:b.fbGroupId)!=null?a:e.threadKey;d("useCommunityMembers").useFetchCommunityMembers({fbGroupId:o,requestId:m,source:n,thread:e});var p=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communitySource")).getKeyRange(o,n,m).take(15)},[g,o],f.id+":81");d("MWParticipantsForBroadcastChannelUtils").useFetchBroadcastChannelMembers(e,0);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("discoverable_chat_participants")).getKeyRange(e.threadKey).take(15)},[g,e.threadKey],f.id+":93");var q=d("useCommunityMembers").useClearMemberList(),r=d("MWParticipantsForBroadcastChannelUtils").useClearBroadcastChannelParticipantsList(),s=d("I64").to_string(e.threadKey),t=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType);t=t?a.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"BroadcastChannelParticipant",value:a})}):p.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"CommunityMember",value:a})});k(function(){c("promiseDone")(q(m));c("promiseDone")(r());return function(){c("promiseDone")(q(m)),c("promiseDone")(r())}},[s,q,r]);k(function(){p.length>0&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","community_members_loaded")},[p.length]);var u={folder:b};a=c("useMWXLazyDialog")(l);var v=a[0],w=function(){return v(u)};return t.length===0?j.jsx(c("MWMemberListGlimmer.react"),{}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWLSGroupMembershipMemberList.bs"),{doSortParticipants:!1,participantsAndContacts:t,showAdmodIndicator:!0,showAdmodsOnly:!1,showHostsOnly:!1,showInvitedByViewerOnly:!1,thread:e}),j.jsx(c("MDSListCellPressable.react"),{addOnStart:j.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:j.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("485094"),24)})}),content:j.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__BN54OIlz3MA__JHASH__")}),onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","see_all"),w()},size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSArrowLeftSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;return h.jsx("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsxs("g",{fill:a,fillRule:"nonzero",children:[h.jsx("path",{d:"M10.957 6.457a1 1 0 0 0-1.414-1.414l-6.25 6.25a1 1 0 0 0 0 1.414l6.25 6.25a1 1 0 0 0 1.414-1.414L5.414 12l5.543-5.543Z"}),h.jsx("path",{d:"M20 11H4.625a1 1 0 0 0 0 2H20a1 1 0 1 0 0-2Z"})]}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSArrowRightSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;return h.jsx("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsxs("g",{fill:a,fillRule:"nonzero",children:[h.jsx("path",{d:"M13.043 17.543a1 1 0 0 0 1.414 1.414l6.25-6.25a1 1 0 0 0 0-1.414l-6.25-6.25a1 1 0 0 0-1.414 1.414L18.586 12l-5.543 5.543Z"}),h.jsx("path",{d:"M4 13h15.375a1 1 0 1 0 0-2H4a1 1 0 0 0 0 2Z"})]}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSCrossSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;return h.jsx("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsxs("g",{fill:a,fillRule:"nonzero",children:[h.jsx("path",{d:"m3.543 4.957 15.5 15.5a1 1 0 0 0 1.414-1.414l-15.5-15.5a1 1 0 0 0-1.414 1.414Z"}),h.jsx("path",{d:"m19.043 3.543-15.5 15.5a1 1 0 0 0 1.414 1.414l15.5-15.5a1 1 0 0 0-1.414-1.414Z"})]}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatPresenceStatus",["I64","PresenceStatusContext","getOrRequestMWChatPresenceStatusForContactId","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useState;function a(a){var b=h(c("PresenceStatusContext")),e=d("I64").to_string(a);a=j(c("getOrRequestMWChatPresenceStatusForContactId")(b,e));var f=a[0],g=a[1];i(function(){return b.addListener(function(){return g(function(){return c("getOrRequestMWChatPresenceStatusForContactId")(b,e)})})},[b,e]);return f}g["default"]=a}),98);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","I64","LSIntEnum","MAWGating","MWPActor.react","ReQL","ReQLSuspense","react","useMWChatHasActiveContact","useMWChatPresenceStatus","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){a=a.contactId;return!d("I64").equal(a,e)}).map(function(a){a=a.contactId;return a})},[e,b,a],f.id+":58");return g}var l=function(){return null},m=function(a){return a};function n(a){var b=a.contactId,d=a.renderNullState;a=a.renderWrapper;b=c("useMWChatPresenceStatus")(b);var e=(b==null?void 0:b.status)===2;b=(b==null?void 0:b.last_active_time)!=null&&b.last_active_time!==0?b.last_active_time*1e3:void 0;if(e)return a(j);return b!=null?a(h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(b),format:"minimized"}))])):d()}function o(a){var b=a.renderNullState,c=a.renderWrapper;a=a.threadKey;a=k(a);if(a.length!==1)return b();a=a[0];return i.jsx(n,{contactId:a,renderNullState:b,renderWrapper:c})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.renderNullState,c=a.renderWrapper;a=a.threadKey;a=k(a);a=d("useMWChatHasActiveContact").useMWChatHasActiveContact(a);if(a)return c(j);else return b()}function a(a){var b=a.renderNullState;b=b===void 0?l:b;var c=a.renderWrapper;c=c===void 0?m:c;var e=a.threadKey;a=a.threadType;if(d("I64").equal(a,d("LSIntEnum").ofNumber(1))||d("I64").equal(a,d("LSIntEnum").ofNumber(15))&&d("MAWGating").isArmadillo())return i.jsx(o,{renderNullState:b,renderWrapper:c,threadKey:e});else if(d("I64").equal(a,d("LSIntEnum").ofNumber(2))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))&&d("MAWGating").isArmadillo())return i.jsx(p,{renderNullState:b,renderWrapper:c,threadKey:e});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),b);if(!b)return null;if(e!=null)return h.jsx("span",{className:"xurb0ha",children:e});return a!=null?h.jsx("span",{className:"xurb0ha",children:h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerificationBadge.bs",["I64","LSContactVerificationBadge.react","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon,e=a.size,g=a.thread,i=c("useReStore")(),j=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(i.table("participants")).getKeyRange(g.threadKey).filter(function(a){return!d("I64").equal(a.contactId,j)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(a.contactId),f.id+":48");return[a,b]}).take(2)},[i,g.threadKey,j],f.id+":39");var k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(j)},[i,j],f.id+":58"),l=a.length;if(l!==1){if(l!==0)return null;if(k==null)return null;l=k}else{k=a[0];a=k[1];if(a==null)return null;l=a}return h.jsx(c("LSContactVerificationBadge.react"),{contact:l,icon:(k=b)!=null?k:void 0,size:(a=e)!=null?a:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetails.react",["fbt","CometMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSPresenceStatusText.bs","LSRtcCallState","LSThreadTitle.react","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleMutedIcon.react","MWLSContactTypeExactUtils","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils.bs","ReQL","ReQLSuspense","cr:112","cr:4703","react","useMWChatCalculateIsMutedFromExpireTime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={align:{verticalAlign:"xxymvpz",$$css:!0},container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},middot:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",$$css:!0}};function a(a){var e=a.colorOverride,g=a.hexColor,k=a.thread;a=a.threadNameSize;var l=c("useReStore")(),m=k.memberCount,n=k.muteCallsExpireTimeMs,o=k.muteExpireTimeMs,p=k.ongoingCallState,q=k.threadKey,r=k.threadType,s=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("contacts")).getKeyRange(q).filter(function(a){a=a.contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)})},[l,q],f.id+":97"),t=(s==null?void 0:s.secondaryName)!=null&&(s==null?void 0:s.secondaryName)!==""!==""?s.secondaryName:null;s=d("MWCMThreadTypes.react").isJoinedCMThread(r);var u=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(r);n=d("MessengerMuteUtils.bs").calcMuteUntilMs({muteCallsExpireTimeMs:n,muteExpireTimeMs:o,threadType:r});var v=c("useMWChatCalculateIsMutedFromExpireTime")(n);o=!d("I64").equal(p,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));n=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(r);p=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(r);var w=i.jsx("div",{className:"x1k2j06m x10ogl3i",children:i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:i.jsx(c("CometMiddot.react"),{})})}),x=i.jsx(c("LSThreadTitle.react"),{thread:k});return i.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:g==null?{}:{"--primary-text":g},children:[i.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:i.jsx(c("MWXText.react"),{align:"center",color:e,isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:i.jsxs("span",{className:"xxymvpz",children:[x,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:!p&&i.jsx(c("LSVerificationBadge.bs"),{size:"small",thread:k})})]})})}),n&&b("cr:112")?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:i.jsx(b("cr:112"),{memberCount:m!=null?d("I64").to_int32(m):0})})]}):u?b("cr:4703")!=null&&m!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:i.jsx(b("cr:4703"),{count:d("I64").to_int32(m)})})]}):null:s?i.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{renderWrapper:function(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a})})]})},thread:k}):o?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsxs(c("MWSeparatorContainer.react"),{separator:w,xstyle:j.item,children:[t!=null?i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:t}):null,i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h._("__JHASH__vQgw_4Xpge6__JHASH__")}),v?i.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})]}):i.jsx(c("LSPresenceStatusText.bs"),{renderNullState:function(){return i.jsxs(c("MWSeparatorContainer.react"),{beforeContent:i.jsx(c("MWVerticalRhythm"),{height:6}),separator:w,xstyle:j.item,children:[t!=null?i.jsxs(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:[" ",t," "]}):null,v?i.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsxs(c("MWSeparatorContainer.react"),{separator:w,xstyle:j.item,children:[t!==null?i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:t}):null,i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a}),v?i.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})]})},threadKey:q,threadType:r})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactLink.react",["CometPressable.react","CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","getLSContactHref","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={expanding:{display:"x78zum5",$$css:!0}};function a(a){var b=a.children,e=a.contact,f=a.isText;f=f===void 0?!0:f;var g=a.label;a=a.testid;a=e.blockedByViewerStatus;var j=e.contactTypeExact,k=e.id;e=e.secondaryName;a=c("getLSContactHref")({blockedByViewerStatus:a,contactTypeExact:j,id:k,secondaryName:e});k=d("MWLSContactTypeExactUtils").isIgContact(j);e=!c("CurrentEnvironment").facebookdotcom||k?"_blank":void 0;return f?h.jsx(c("MWXLink.react"),{href:a,label:g,target:e,testid:void 0,children:b}):h.jsx(c("CometPressable.react"),{expanding:!0,label:g,linkProps:{target:e,url:a},overlayRadius:6,testid:void 0,xstyle:i.expanding,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetailsPressable.react",["CometPressable.react","JSResourceForInteraction","LSContactLink.react","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWPActor.react","ReQLSuspense","queryMWLSOtherParticipantContact","react","useCommunityFolder","useMWAriaLabelForThread","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={title:{maxWidth:"x193iq5w",$$css:!0}};function k(a){var b=a.children;a=a.thread;var d=a.parentThreadKey,e=a.threadKey,f=a.threadName;a=a.threadType;var g=i(null),k=c("useCommunityFolder")({parentThreadKey:d});d=c("useMWAriaLabelForThread")({threadKey:e,threadName:f,threadType:a});e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWInboxHeaderDetailsPressable.react"));var l=e[0];return h.jsx(c("CometPressable.react"),{"aria-label":d,onPress:function(){return l({folder:k})},overlayDisabled:!0,ref:g,xstyle:j.title,children:b})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.children;a=a.thread;var e=a.threadKey,g=a.threadType,i=c("useReStore")(),j=d("MWPActor.react").useActor(),k=d("ReQLSuspense").useFirst(function(){return c("queryMWLSOtherParticipantContact")(i,e,g,j)},[i,j,e,g],f.id+":89");a=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(8),a);return k!=null&&a?h.jsx(c("LSContactLink.react"),{contact:k,isText:!1,label:k.name,children:b}):b}function a(a){var b=a.children;a=a.thread;if(d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a.threadSubtype))return b;if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return h.jsx(l,{thread:a,children:b});var c=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(26),a);return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&c?h.jsx(k,{thread:a,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetailsContainer.react",["CometPlaceholder.react","MWInboxHeaderDetails.react","MWInboxHeaderDetailsPressable.react","MWThreadPicture.react","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={detailsContainer:{paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.badgeSize;b=b===void 0?10:b;var d=a.colorOverride,e=a.hexColor,f=a.isContainerPressable;f=f===void 0?!0:f;var g=a.photoSize;g=g===void 0?40:g;var j=a.thread;a=a.threadNameSize;a=a===void 0?"headlineEmphasized3":a;b=h.jsx(c("MWXRowItem.react"),{children:h.jsx(c("MWThreadPicture.react"),{badgeSize:b,photoSize:g,thread:j,withAltText:!1})});g=h.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:i.detailsContainer,children:h.jsx(c("MWInboxHeaderDetails.react"),{colorOverride:d,hexColor:e,thread:j,threadNameSize:a})});return h.jsx(c("MWXRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:f?h.jsxs(c("MWInboxHeaderDetailsPressable.react"),{thread:j,children:[b,g]}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWInboxHeaderDetailsPressable.react"),{thread:j,children:b}),g]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWStartRTCCallUtils",["MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","MessengerDesktopLocalServerRequest","ODS","Promise","gkx","promiseDone","qex","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useCallback,i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=k(!1),b=a[0],e=a[1],f=j(!1);i(function(){if(f.current)return;f.current=!0;if(c("gkx")("1987549")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;if(c("qex")._("45")!==!0)return;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}function e(a){var e=j(c("uuidv4")()).current;return h(function(f,g,h){var i="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");l({funnelSessionId:e});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(i,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function l(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g.useShouldTryWithMessengerDesktop=a;g.useStartDesktopCall=e;g.logCallAttemptViaLocalhost=l}),98);
__d("MWV2ChatRTCButtonsJoinExistingChat.react",["fbt","CometPressable.react","I64","LSIntEnum","LSRtcCallState","MWChatRTCButtonIcons.react","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.fill,e=a.ongoingCallState,f=a.overlayDisabled,g=a.size,j=a.startAudioCall;a=a.startVideoCall;if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return null;var k=d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?h._("__JHASH__Jezj_QnZwHq__JHASH__"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"";return i.jsx(c("MWXTooltip.react"),{align:"middle",position:c("gkx")("571")?"below":"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,onPress:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?j:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?a:c("emptyFunction"),overlayDisabled:f,overlayRadius:"50%",testid:void 0,children:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?i.jsx(d("MWChatRTCButtonIcons.react").AudioIcon,{fill:b,size:g}):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?i.jsx(d("MWChatRTCButtonIcons.react").VideoIcon,{fill:b,size:g}):null})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2StartGroupCall",["Actor","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","Promise","RTCCallState.bs","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","react","useMWXLazyDialog","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,e,f,g){var l=a.ongoingCallState,m=a.threadKey,n=a.threadType,o=c("useReStore")(),p=c("useRTWebCometStartCallCallback")();a=d("Actor").useActor();var q=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("RestrictedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"));var r=a[0],s=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;e();a=(a=d("LSMessagingThreadTypeUtil").isGroup(n))!=null?a:!1;var h=d("ReQL").firstAsync(d("ReQL").fromTableAscending(o.table("mi_act_mapping_table")).getKeyRange(m).map(function(a){return a.jid})),s=d("ReQL").toArrayAsync(i(o,m)),t=d("ReQL").firstAsync(j(o,m,q)),u=d("ReQL").firstAsync(k(o,m));h=(yield b("Promise").all([h,t,u,s]));t=h[0];u=h[1];s=h[2];h=h[3];a=a&&h.length>0&&c("gkx")("735");var v={existingCall:s!=null?{call_state:d("RTCCallState.bs").ofLsRtcCallState(l,n),initiator_fbid:null,server_info_data:s}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(n),mediaType:f,thread:{e2eeThreadID:t!=null?d("I64").to_string(t):void 0,id:d("I64").to_string(m),secureOneToOneThreadPeerId:u!=null&&d("I64").equal(n,d("LSIntEnum").ofNumber(15))?d("I64").to_string(u):void 0,type:d("I64").to_int32(n)},trigger:g};return a?r({onContinue:function(){return p(v)},restrictedUsers:h}):p(v)}),[f,q,o,e,r,p,l,m,n,g]);return h(function(){return c("promiseDone")(s())},[s])}var i=function(a,b){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).take(20),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a})},j=function(a,b,c){return d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).filter(function(a){return!d("I64").equal(a.contactId,d("I64").of_string(c))}).map(function(a){return a.contactId})},k=function(a,b){return d("ReQL").fromTableAscending(a.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})};g["default"]=a}),98);
__d("MWV2ChatRTCButtons.react",["fbt","CometPressable.react","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset","MAWGating","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.react","MWPActor.react","MWStartRTCCallUtils","MWV2ChatRTCButtonsJoinExistingChat.react","MWXTooltip.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","MessengerWebUXLogger","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","emptyFunction","gkx","promiseDone","react","useIsReadOnlyFeatureLimitedWithThreadType","useMWChatHasActiveContact","useMWV2StartGroupCall","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useRef;function l(a,e,f){var g=k(c("uuidv4")()).current;return j(function(h){var i=d("I64").to_string(a),j=e==="video"?1:0;i="/call?threadid="+i+"&isvideocall="+j+"&funnel_id="+g;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");d("MWStartRTCCallUtils").logCallAttemptViaLocalhost({funnelSessionId:g});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(i,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function m(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,e)}).take(1)},[e,b,a],f.id+":129");return d("useMWChatHasActiveContact").useMWChatHasActiveContact(g.map(function(a){return a.contactId}))}function n(a,b){var e=c("useReStore")(),g=d("MWPActor.react").useActor(),h=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a).take(2).filter(function(a){return!d("I64").equal(a.contactId,g)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(a.contactId),f.id+":164")})},[e,a,g],f.id+":154"),i,j=!1;if(h.length!==1)i=!1;else{var k,l,m=h[0];i=m!=null?d("I64").equal(m.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1;k=m!=null?(k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(0),m))!=null?k:!0:!0;l=m!=null?(l=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(1),m))!=null?l:!0:!0;j=b&&m!=null&&m.blockedSinceTimestampMs==null&&!i&&(!k||!l)}if(!i)return[!j,!j];return c("gkx")("1710932")?[h.every(function(a){return a==null?!0:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(17),a)}),h.every(function(a){return a==null?!0:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(16),a)})]:[!1,!1]}function o(a){var b=a.folderName,e=a.threadKey,g=a.threadType,h=c("useReStore")(),i=d("MWPActor.react").useActor(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(h.table("messages_ranges_v2__generated")).getKeyRange(e)},[h,e],f.id+":255")!=null,k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("participants")).getKeyRange(e,i)},[h,e,i],f.id+":263")!=null,l=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(25),a);a=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(24),a);var m=d("LSMessagingThreadTypeUtil").isSecure(g),o=c("useIsReadOnlyFeatureLimitedWithThreadType")(g)&&(!m||d("MAWGating").isFeatureLimitEnabled()),p=n(e,m),q=p[0];p=p[1];if(m&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("5709")))return[!1,!1];m=(d("I64").equal(g,d("LSIntEnum").ofNumber(2))||d("I64").equal(g,d("LSIntEnum").ofNumber(16)))&&k||d("I64").equal(g,d("LSIntEnum").ofNumber(1))||d("I64").equal(g,d("LSIntEnum").ofNumber(15))?[l,a]:[!1,!1];k=d("MWChatIsMessageRequest.bs").fn(b);g=!k&&j&&!o;return g?[q&&m[0],p&&m[1]]:[!1,!1]}function p(a){var b=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled;a=a.testid;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:c("gkx")("571")?"below":"above",tooltip:d,children:i.jsx(c("CometPressable.react"),{"aria-label":d,onPress:e,overlayDisabled:f,overlayRadius:"50%",testid:void 0,children:b})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.fill,e=a.overlayDisabled,f=a.size,g=a.startAudioCall,j=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();a=function(a){g(a),j==null?void 0:j({eventName:"start_audio_call"})};return i.jsx(p,{icon:i.jsx(d("MWChatRTCButtonIcons.react").AudioIcon,{fill:b,size:f}),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:a,overlayDisabled:e,testid:void 0})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.fill,e=a.isActive,f=a.overlayDisabled,g=a.size,j=a.startVideoCall,k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(p,{icon:i.jsx(d("MWChatRTCButtonIcons.react").VideoIcon,{fill:b,showPresence:e,size:g}),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){k==null?void 0:k({eventName:"start_video_chat"}),j(a)},overlayDisabled:f,testid:void 0})}r.displayName=r.name+" [from "+f.id+"]";function s(a){return a}function a(a){var b=a.audioCallingSurface,e=a.fill,f=a.logAudio;f=f===void 0?c("emptyFunction"):f;var g=a.logVideo;g=g===void 0?c("emptyFunction"):g;var h=a.overlayDisabled;h=h===void 0?!1:h;var j=a.renderContainer;j=j===void 0?s:j;var k=a.size;k=k===void 0?"26px":k;var n=a.thread;a=a.videoCallingSurface;var p=n.ongoingCallState,t=n.threadKey,u=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),v=m(t),w=o(n),x=w[0];w=w[1];g=c("useMWV2StartGroupCall")(n,g,"video",a);a=c("useMWV2StartGroupCall")(n,f,"audio",b);n=l(t,"video",g);f=l(t,"audio",a);b=u?n:g;t=u?f:a;if(!(x||w))return null;return!d("I64").equal(p,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL))?j(i.jsx(c("MWV2ChatRTCButtonsJoinExistingChat.react"),{fill:e,ongoingCallState:p,overlayDisabled:h,size:k,startAudioCall:t,startVideoCall:b})):i.jsxs(i.Fragment,{children:[x?j(i.jsx(q,{fill:e,overlayDisabled:h,size:k,startAudioCall:t})):null,w?j(i.jsx(r,{fill:e,isActive:v,overlayDisabled:h,size:k,startVideoCall:b})):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatRTCButtonsAudio=q;g.MWV2ChatRTCButtons=a}),98);
__d("MWV2ChatTabHeaderRTCButtons.react",["MWV2ChatRTCButtons.react","ODS","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeaderRTCButtons.react");function a(a){var b=a.color;a=a.thread;var c=i(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return a.logClick({component:"audio_button",surface:"chat_tab"})})},[]),e=i(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","video"),j.onReady(function(a){return a.logClick({component:"video_button",surface:"chat_tab"})})},[]);return h.jsx(d("MWV2ChatRTCButtons.react").MWV2ChatRTCButtons,{audioCallingSurface:"comet_chattab_audio_button",fill:b,logAudio:c,logVideo:e,thread:a,videoCallingSurface:"comet_chattab_video_button"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","CometPressable.react","MWXTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color;a=a.onPress;var d=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:b,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.color,d=a.size;d=d===void 0?"10px":d;a=a.xstyle;return h.jsx("svg",{"aria-hidden":"true",className:c("stylex")(a),height:d,viewBox:"0 0 18 10",width:d,children:h.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:b,fillRule:"evenodd"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["JSResourceForInteraction","MWXLazyPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.children,f=a.pushPage,g=a.tab;a=a.thread;var i=a.threadKey,j=a.threadType,k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLogger();return h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:h.jsx(c("MWXLazyPopoverTrigger.react"),{onVisibilityChange:function(a){b("cr:2580")&&a&&(b("cr:2580")({threadKey:i,threadType:j},"open_thread_settings_menu","popup_chat_box"),k==null?void 0:k({eventName:"thread_settings_menu_impression",threadKey:i,threadType:j}))},popoverProps:{onClose:c("emptyFunction"),pushPage:f,tab:g,thread:a},popoverResource:c("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsPopoverTrigger.react"),position:"start",preloadTrigger:"button",children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMIssueCommunityMemberListFetch",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","pageID","promiseDone","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.parentThreadKey,e=a.threadKey,f=c("useReStore")();a=c("useCommunityFolder")({parentThreadKey:b});var g=(b=a==null?void 0:a.fbGroupId)!=null?b:e;return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(f.runInTransaction(function(a){return c("LSIssueCommunityMemberListFetch")(g,c("LSVec").ofArray([d("LSIntEnum").ofNumber(0)]),!1,!1,"","",d("LSIntEnum").ofNumber(7),e,void 0,c("LSVec").ofArray([]),void 0,c("pageID"),c("LSFactory")(a))},"readwrite"))},[f,g,e])}g["default"]=a}),98);
__d("useMWV2HeaderSettingsPopover",["fbt","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MessengerWebUXLogger","ODS","useMWCMIssueCommunityMemberListFetch"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=c("useMWCMIssueCommunityMemberListFetch")(a),e=a.threadKey,f=a.threadType,g=d("MWCMThreadTypes.react").isJoinedCMThread(f);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var i=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return{showDialog:function(a){a(),g&&b(),i==null?void 0:i({eventName:"open_thread_settings_menu",threadKey:e,threadType:f}),d("ODS").bumpEntityKey(3185,"mwchat_header","settings")},tooltip:a?h._("__JHASH__J1KJGjGSRI0__JHASH__"):h._("__JHASH__FjEOIpwxx5G__JHASH__")}}g["default"]=a}),98);
__d("MWV2HeaderSettingsButton.react",["CometPressable.react","MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXTooltip.react","react","useMWV2HeaderSettingsPopover"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{marginStart:"x1i64zmx",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function a(a){var b=a.children,d=a.iconColor,e=a.pushPage,f=a.tab;a=a.thread;var g=c("useMWV2HeaderSettingsPopover")(a),j=g.showDialog,k=g.tooltip;return h.jsx(c("MWV2HeaderSettingsPopoverTrigger.react"),{pushPage:e,tab:f,thread:a,children:function(a,e,f,g,l,m,n){return h.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:h.jsx(c("CometPressable.react"),{"aria-label":k,onHoverIn:g,onHoverOut:l,onPress:function(){return j(e)},onPressIn:m,overlayRadius:5,ref:a,testid:void 0,xstyle:i.settingsButton,children:h.jsx(c("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:h.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:i.rowItem,children:[b,h.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{color:d,xstyle:i.icon})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ChatTabHeaderColors",["I64","LSMessagingThreadTypeUtil","MWPThreadThemeGradientUtils","MWV2IsTabFocusedContext.react","cr:6795","useCurrentDisplayMode","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.lastActivityTimestampMs,f=a.lastReadWatermarkTimestampMs;a=a.threadType;var g=c("useCurrentDisplayMode")(),h=c("useMWPThreadTheme")(),i=d("MWV2IsTabFocusedContext.react").useIsTabFocused();h=d("MWPThreadThemeGradientUtils").getTopGradientColor(h);e=d("I64").gt(e,f);f=e&&!i;e=b("cr:6795")==null?void 0:b("cr:6795")();if(e!=null&&!f){var j;return[(j=e.buttonColor)!=null?j:h,void 0,e.backgroundColor,e.textColor]}j=d("LSMessagingThreadTypeUtil").isSecure(a)&&g==="dark"&&i;e=f||j?"var(--always-white)":i?h:"var(--disabled-icon)";a=f?h:void 0;g=f||j?"white":void 0;return[e,g,a,void 0]}g["default"]=a}),98);
__d("MWV2ChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","MAWThreadCutover","MWChatStateActions","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.react","MWV2ChatTabHeaderRTCButtons.react","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWV2HeaderSettingsButton.react","MWXTooltipGroup.react","cr:6643","react","useMWV2ChatTabHeaderColors","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.pushPage,f=a.renderThreadDetails,g=a.tab;a=a.thread;var i=d("MWChatStateV2.bs").useDispatch(),j=c("useMWV2CloseTab")(a==null?void 0:a.threadKey,g),k=c("useMWV2ChatTabHeaderColors")(a),l=k[0],m=k[1],n=k[2];k=k[3];var o=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey);o||d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a.threadSubtype)?o=h.jsx(c("MWInboxHeaderDetailsContainer.react"),{colorOverride:m,hexColor:k,isContainerPressable:!1,photoSize:32,thread:a,threadNameSize:"headlineEmphasized4"}):o=f!=null?f(l):h.jsx(c("MWV2HeaderSettingsButton.react"),{iconColor:l,pushPage:e,tab:g,thread:a,children:h.jsx(c("MWInboxHeaderDetailsContainer.react"),{colorOverride:m,hexColor:k,isContainerPressable:!1,photoSize:32,thread:a,threadNameSize:"headlineEmphasized4"})});return h.jsx(c("MWV2HeaderContainer.react"),{backgroundColor:n,endContent:h.jsx(c("MWXTooltipGroup.react"),{children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[h.jsx(c("MWV2ChatTabHeaderRTCButtons.react"),{color:l,thread:a}),h.jsx(c("MWV2HeaderMinimizeButton.react"),{color:l,onPress:function(){return i(d("MWChatStateActions").minimizeTab(Date.now(),g.tabId))}}),b("cr:6643")!=null?h.jsx(b("cr:6643"),{color:l,thread:a}):null,h.jsx(c("MWV2HeaderCloseButton.react"),{color:l,onPress:j,testid:void 0})]})}),startContent:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWV2ChatTabHeader.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function k(a,b){return i(function(d){a(function(a){var e=a.onReturn;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b}),children:h.jsx(j,{onReturn:function(){e()},tab:b,threadKey:d})})})},[a,b])}function l(a){var b=a.children,c=a.pushPage;a=a.tab;c=k(c,a);return h.jsx(d("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:c,children:b})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.children,d=a.tab,e=a.thread;return h.jsx("div",{className:"xgqcy7u x1lq5wgf x2c8kfy x17adc0v xhvchuf x1jx94hy x1rgmuzj xbbk1sx",children:h.jsx(c("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:h.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:d}),fitContentWidth:!0,children:function(a){return h.jsx(l,{pushPage:a,tab:d,children:h.jsxs(c("MWV2TabContainer"),{style:{boxShadow:"none",margin:0},tab:d,threadKey:e.threadKey,children:[h.jsx(c("MWV2ChatTabHeader.react"),{pushPage:a,tab:d,thread:e}),b]})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCircleButtonWithChildren.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;var i={button:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",width:"x14qfxbe",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}};function a(a,b){var d=a.ariaExpanded,e=a.disabled;e=e===void 0?!1:e;var f=a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaExpanded","disabled","label"]);return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{"aria-expanded":d,"aria-label":f,disabled:e,overlayRadius:"50%",ref:b,xstyle:function(a){return[i.button,a.pressed?i.pressed:!1]}}))}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("MWInboxHeaderButton.bs",["MWCircleButtonWithChildren.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;function a(a,b){var d=a.disabled;d=d===void 0?!1:d;var e=a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","label"]);return h.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:e,children:h.jsx(c("MWCircleButtonWithChildren.react"),babelHelpers["extends"]({},a,{disabled:d,label:e,ref:b}))})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("MWXSubthreadIcons.react",["Locale","cr:4863","cr:5612","cr:5641","cr:5726","cr:5731","cr:5732","cr:5734","cr:5737","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){a=a.color;if(b("cr:5737")!=null)return h.jsx(b("cr:5737"),{fill:a,size:28});return b("cr:5731")!=null?h.jsx(b("cr:5731"),{fill:a}):null};e=function(a){a=a.color;var d=c("Locale").isRTL()?b("cr:5734"):b("cr:5732"),e=c("Locale").isRTL()?b("cr:5726"):b("cr:5612");if(d!=null)return h.jsx(d,{fill:a,size:28});return e!=null?h.jsx(e,{fill:a}):null};f=function(a){a=a.color;if(b("cr:4863")!=null)return h.jsx(b("cr:4863"),{fill:a,size:28});return b("cr:5641")!=null?h.jsx(b("cr:5641"),{fill:a}):null};g.HeaderCrossIcon=a;g.HeaderBackIcon=e;g.HeaderSettingsButton=f}),98);
__d("MWCMSubthreadHeader.react",["fbt","CometPressable.react","CometTextWithEntities.react","JSResourceForInteraction","MWChatTextTransform","MWInboxHeaderButton.bs","MWPThreadThemeGradientUtils","MWV2HeaderSettingsButtonChevron.react","MWVerticalRhythm","MWXLazyPopoverTrigger.react","MWXRow.react","MWXRowItem.react","MWXSubthreadIcons.react","MWXText.react","MWXTooltip.react","emptyFunction","gkx","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("gkx")("571"),k={align:{verticalAlign:"xxymvpz",$$css:!0},backButtonChatTab:{marginEnd:"xw3qccf",marginStart:"x17adc0v",marginTop:"x1gslohp",$$css:!0},chevronIcon:{marginStart:"x1i64zmx",marginTop:"x1xmf6yo",$$css:!0},container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},iconContainer:{alignItems:"x6s0dn4",display:"x3nfvp2",height:"x1fgtraw",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xgd8bvy",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",width:"x187nhsf",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",maxWidth:"x1ncir08",$$css:!0}},l=h._("__JHASH__nTUxHa9SlKj__JHASH__");function a(a){var b=a.buttonColor,e=a.closeSidePanelOnBack,f=a.hexTextColor,g=a.isChatTab,m=g===void 0?!1:g;g=a.onPressBack;var n=a.subtitle,o=a.textColor,p=a.thread;a=a.title;var q=c("useMWPThreadTheme")(),r=d("MWPThreadThemeGradientUtils").getTopGradientColor(q);q=e===!0?i.jsx(d("MWXSubthreadIcons.react").HeaderCrossIcon,{color:(q=b)!=null?q:r}):i.jsx(d("MWXSubthreadIcons.react").HeaderBackIcon,{color:(q=b)!=null?q:r});e=e===!0?h._("__JHASH__gaxHiFwvIGk__JHASH__"):h._("__JHASH__wSyF3E_Fmrl__JHASH__");var s=i.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:i.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:f==null?{}:{"--primary-text":f},children:[i.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:i.jsx(c("MWXText.react"),{align:"center",color:o,isSemanticHeading:!0,numberOfLines:1,type:m?"headlineEmphasized4":j?"headlineEmphasized5":"headlineEmphasized3",children:i.jsx("span",{className:c("stylex")(m?k.align:null),children:typeof a==="string"?i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms}):a})})}),n!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:i.jsx(c("MWXText.react"),{align:"center",color:o,numberOfLines:1,type:"meta3",children:n})})]}):null]})});return i.jsxs(c("MWXRow.react"),{paddingHorizontal:m?0:12,paddingVertical:m?0:j?10:16,children:[i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:g,overlayOffset:2,overlayRadius:"50%",xstyle:m?k.backButtonChatTab:null,children:q})})}),!m||p==null?s:null,p!=null&&i.jsx(c("MWXRowItem.react"),{xstyle:m?k.rowItemChatTab:k.rowItem,children:i.jsx(c("MWXLazyPopoverTrigger.react"),{align:m?"middle":"end",popoverProps:{onClose:c("emptyFunction"),onDelete:g,thread:p},popoverResource:c("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(a,e,f,g,h,j,n){return m?i.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:l,children:i.jsxs(c("CometPressable.react"),{onHoverIn:g,onHoverOut:h,onPress:function(){e()},onPressIn:j,overlayOffset:8,overlayRadius:10,ref:a,xstyle:k.settingsButton,children:[s,i.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{color:(f=b)!=null?f:r,xstyle:k.chevronIcon})]})}):i.jsx(c("MWInboxHeaderButton.bs"),{label:l,onHoverIn:g,onHoverOut:h,onPress:function(){e()},onPressIn:j,children:i.jsx("div",{className:"x6s0dn4 x3nfvp2 x1fgtraw xl56j7k x1n2onr6 xgd8bvy",ref:a,children:i.jsx(d("MWXSubthreadIcons.react").HeaderSettingsButton,{color:(n=b)!=null?n:r})})})}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;return h.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,isSubthread:!0,children:h.jsx(d("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:h.jsx(d("MWChatFocusComposerContext").Provider,{children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2});f["default"]=a}),66);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.altText,d=a.head;a=a.xstyle;return d.imageSrc===""?h.jsx(c("MDSGlimmer.react"),{index:1,xstyle:i.profilePlaceholder}):h.jsx("img",{alt:b,className:c("stylex")(i.image,a),"data-testid":void 0,height:"14px",src:d.imageSrc,width:"14px"})}a.displayName=a.name+" [from "+f.id+"]";var i={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",userSelect:"x87ps6o",verticalAlign:"x11njtxf",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWTheme.react",["I64","cr:4199","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.useContext,l=i.useEffect,m=i.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function n(a){return"#"+a.slice(2)}function o(a){a=d("I64").to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var p=j({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4199")});function q(){return k(p).theme}function r(){var a=k(p),b=a.clearTheme;l(function(){return b},[b]);return[a.setTheme,b]}function s(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=m(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return h.jsx(p.Provider,{value:a,children:b})}s.displayName=s.name+" [from "+f.id+"]";function t(a){return a.type==="gradient"}g.defaultTheme=b("cr:4199");g.lighten=a;g.top=e;g.aRGBtoHex=n;g.intToHex=o;g.useTheme=q;g.usePreview=r;g.MWThemeProvider=s;g.isGradient=t}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={line:{backgroundColor:"x1iuwi03",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=h._("__JHASH__dAK4xN4bf5e__JHASH__");return i.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:j.line,children:i.jsx(i.Fragment,{})}),i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:a})}),i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:j.line,children:i.jsx(i.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPContactContext.react",["react","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo,k=e.useRef,l=h.createContext({authorName:void 0,contact:void 0,nickname:void 0}),m=h.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return i(l)}function b(){return i(m)}function c(a){var b=a.children,c=a.contact,d=a.nickname,e=function(){var a;if(d!=null)a=d;else if(c!=null){var b=c.firstName;a=b!=null?b:c.name}else a=void 0;return a}();a=j(function(){return{authorName:e,contact:c,nickname:d}},[d,e,c]);var f=n(c),g=j(function(){return{authorName:e,contact:f,nickname:d}},[d,e,f]);return h.jsx(l.Provider,{value:a,children:h.jsx(m.Provider,{value:g,children:b})})}c.displayName=c.name+" [from "+f.id+"]";function n(a){var b=k();a=a?{capabilities:a.capabilities,capabilities2:a.capabilities2,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MWPMessageHasAttachment","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function j(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function k(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function l(a,b,e){var g=c("useReStore")(),l=a.messageId,m=a.threadKey,n=c("MWPMessageHasAttachment")(a),o=d("ReQLSuspense").useFirst(function(){if(n)return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(m,l);else return d("ReQL").empty()},[g,l,m,n],f.id+":63");return i(function(){if(b)if(o!=null)if(j(o))return h._("__JHASH___8ZpqsY3Jrg__JHASH__");else if(k(o))return h._("__JHASH__INRUrq18hhv__JHASH__");else if(d("I64").equal(o.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__Z71bv2q5yoA__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else if(o!=null)if(e!=null)if(j(o))return h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(k(o))return h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if(d("I64").equal(o.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(j(o))return h._("__JHASH__QhCmPJ-QbeG__JHASH__");else if(k(o))return h._("__JHASH__vFSMWshNg-J__JHASH__");else if(d("I64").equal(o.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__U5_TMTE9DWx__JHASH__");else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__")},[b,o,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();return l(a,b,c[0])}g.useTitle=a}),98);
__d("MWForwardedContent.react",["MDSForwardSvgIcon.react","MWPForwardedContent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:[h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadCapabilitiesContext",["Int64Hooks","LSThreadBitOffset","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(function(a){return!1});function a(a){var b=a.children,c=a.customCapabilityCheck;a=a.thread;var e=a.capabilities,f=a.capabilities2,g=a.capabilities3,i=a.threadType;a=d("Int64Hooks").useCallbackInt64(function(a){var b={capabilities:e,capabilities2:f,capabilities3:g,threadType:i};return d("LSThreadBitOffset").has(a,b)},[e,f,g,i]);return h.jsx(j.Provider,{value:(c=c)!=null?c:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.Provider=a;g.useMWPThreadCapabilitiesContext=b}),98);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","I64","LSIntEnum","LSMediaUrl.bs","MWPThreadCapabilitiesContext","MessagingAttachmentType","cr:956","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,i=a.children,j=a.linkProps_,k=a.onHoverIn,l=a.onPress,m=a.overlayDisabled;m=m===void 0?!1:m;var n=a.testid;n=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=c("gkx")("1581")&&a(d("LSIntEnum").ofNumber(46));var o=d("I64").equal(g.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)),p=d("I64").equal(g.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)),q=o?"Image":p?"Video":"Media";return b("cr:956")!=null&&(o||p)&&a?h.jsx(b("cr:956"),{ariaLabel:f,linkProps:j,mediaType:q,onPress:l,overlayDisabled:m,testid:void 0,type:p?"video":"image",url:d("LSMediaUrl.bs").Attachment.previewUrl(g),xstyle:n,children:i}):h.jsx(c("CometPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:j,onHoverIn:k,onPress:function(){return l()},overlayDisabled:m,testid:void 0,xstyle:n,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:d("I64").to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[h.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),h.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7474290349253937"}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6074085189361957"}),null);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6286286258107098"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24034034989543679"}),null);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("MWRollcallContribuitionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return h.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:h.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:h.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContribuitionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onClose;return j.jsxs(c("MWRollcallContribuitionsDialogContainer.react"),{onClose:a,children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.rollcallTitle})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),j.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:j.jsxs(c("MDSColumnItem.react"),{children:[j.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:k.contributionHeader,children:[j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.profilePicture})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.profileName})})]}),j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var k={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),98);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","I64","LSIntEnum","MWChatAttachmentMediaPreview.react","MWChatEphemeralButton.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply","MWPMessageListAttachment.react","MWPSolidMessageBubble.react","MWV2ChatBubble.react","MWV2ChatFileV2.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","RavenMessagingState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={file:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,j=g===void 0?!1:g,k=a.message,l=a.navigateToRouteForMediaViewer,m=a.outgoing,n=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var o=g==="ChatTab"?180:void 0;return h.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:k,renderAudioAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,isReply:c("MWPMessageIsReply")(k),outgoing:m})},renderEmphasisRing:f?function(a,b){return h.jsx(d("MWV2ChatBubble.react").EmphasisRing,{hasXMA:a,isBeforeXMA:!1,isOutgoing:m,shouldConnectBottom:!1,shouldConnectTop:e,children:b})}:void 0,renderEphemeralMediaAttachment:function(a){var f=a.ephemeralMediaState;if(f!=null)if(d("I64").equal(f,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(c("MWChatAttachmentMediaPreview.react"),{attachment:a});else return h.jsx(c("MWChatEphemeralButton.react"),{attachment:a,connectBottom:b,connectTop:e,outgoing:m});else return null},renderFileAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:m,style:{backgroundColor:"var(--comment-background)"},xstyle:i.file,children:h.jsx(c("MWV2ChatFileV2.bs"),{attachment:a})})},renderImageAttachment:function(c,b,a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:k,navigateToRouteForMediaViewer:l,outgoing:m})},renderImageGrid:function(a){return h.jsx(c("MWV2ChatImagesGrid.bs"),{attachments:a})},renderStickerAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:a})},renderUnsupportedAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:m,style:{backgroundColor:"var(--comment-background)"},children:h.jsx(c("MWV2UnsupportedAttachment.react"),{attachment:a})})},renderVideoAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:k,navigateToRouteForMediaViewer:l,outgoing:m})},renderXMAAttachment:function(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:n})},children:h.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:o,connectBottom:b,connectTop:e,hasText:j,outgoing:m,xstyle:n})})}})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRange","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetch","LSVerifyContactRowExists","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=9;function m(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a)},[b,a],f.id+":53"),g=k(function(){var a=new Map();for(var b=e,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g==null?void 0:g.profileName;h!=null&&a.set(d("I64").to_string(g.ownerId),h)}return a},[e]);return g}function a(a){var b=a.messageId,c=a.reactions;a=a.threadKey;var e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),f=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a);return f?i.jsx(o,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a}):i.jsx(n,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var e=a.messageId,g=a.parentThreadKey,n=a.reactions,o=a.threadKey,p=c("useReStore")(),q=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.table("reactions")).getKeyRange(o,e),d("ReQL").fromTableAscending(p.table("contacts")))},[p,o,e],f.id+":115"),r=m(g);j(function(){c("promiseDone")(p.runInTransaction(function(a){return b("Promise").all(q.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExists")(e.id,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a));else return b("Promise").resolve()}))},"readwrite"))},[p,q]);a=k(function(){var a=new Map(q.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[d("I64").to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=n.map(function(b){b=d("I64").to_string(b.actorId);if(r.has(b))return r.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,l);if(e>l){e=e-l;b.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[r,n,q]);g=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:g})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.messageId,g=a.parentThreadKey,k=a.threadKey,n=c("useReStore")();j(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(n.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(k,e,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[n,k,e]);var o=m(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(n.table("reactions_v2_details")).getKeyRange(k,e).map(function(a){var b;return(b=o.get(d("I64").to_string(a.reactorId)))!=null?b:a.fullName})},[n,o,k,e],f.id+":248");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(n.table("reactions_v2")).getKeyRange(k,e)},[n,k,e],f.id+":261");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var q=d("MWPActor.react").useActor(),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.table("contacts")).getKeyRange(q)},[n,q],f.id+":280");g=g?g.map(function(a){return d("I64").to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(r==null?void 0:r.id)!=null?o.get(d("I64").to_string(r.id)):null)!=null?b:r==null?void 0:r.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&r&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._("__JHASH__GTBXwO8BaZr__JHASH__");r=a.slice(0,l);if(a.length>l){g=a.length-l;r.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]))}b=r.length===0?p:r.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:b})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsReactionDialogEnabled",["LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(184),a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWMessageReactionsContainer.react",["I64","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emoji:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.emojis,f=a.message,g=a.reactions,k=a.reactionsV2,l=a.renderEmojis;a=a.threadKey;f=f.messageId;k=k!=null?k.map(function(a){return d("I64").to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;var m=c("useIsReactionDialogEnabled")(a);k=k>1?k:b;var n=k>1;b=e.map(function(a,b){var f=n||b!==e.length-1,g=d("MWChatReactionsUtils.bs").isHeart(a[0]);return h.jsx("div",{className:c("stylex")(i.emoji,m?i.emojiWithCursor:!1,f?i.emojiMargin:!1),children:h.jsx("div",{className:c("stylex")(g?i.scaleHeartEmoji:!1),children:l?l(a,16,"messenger_reaction_emoji_"+a[0]):h.jsx(c("MWChatReactionEmoji.bs"),{emoji:a,size:16,testid:void 0})})},String(b))});b=h.jsxs("div",{className:"x6s0dn4 x2bj2ny x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x10vwrwz x78zum5 xl56j7k x4p5aij x19um543 x1j85h84 x1m6msm xp4054r",role:"none",children:[b,n?h.jsx(j,{reactionCount:k}):null]});return m?h.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:h.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:f,reactions:g,threadKey:a}),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.reactionCount;a=c("intlSummarizeNumber")(a);var b=a.length;return h.jsx("div",{className:"xi81zsa x1ncwhqj x14ju556 xdhweic x150jy0e x1e558r4 x2b8uid",role:"none",style:{width:b+"ch"},children:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.createElement,i=c.useContext;d={current:function(){}};c={current:function(){}};var j={current:function(){}},k={current:function(){}};d={forwardMessage:d,openReactionsMenu:c,removeMessage:j,replyToMessage:k};var l=e(d);function a(){return i(l)}function b(a){var b=a.children;a=a.value;return h(l.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.useMessageRowActionsContext=a;g.MWV2MessageRowActionsContextProvider=b}),98);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWChatReactionsActionContainer.react",["JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.bs","MWXLazyPopoverTrigger.react","MWXPopoverLoadingState.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useState,l={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}};function a(a){var b=a.align;b=b===void 0?"middle":b;var e=a.alwaysShowEmojiPicker;e=e===void 0?!1:e;var f=a.children,g=a.closeActionsMenu,m=a.disableCustomReactions;m=m===void 0?!1:m;var n=a.hasReactionsV2,o=a.isBroadcastThread,p=a.isSecure;p=p===void 0?!1:p;var q=a.messageID,r=a.onVisibilityChange,s=a.reactionsPopoverResource,t=a.selectedReactions,u=a.sendReaction,v=j(d("MWV2MessageRowIsRowFocusedContext.bs").context);s=(a=s)!=null?a:c("JSResourceForInteraction")("MWChatReactionsMenu.react").__setRef("MWChatReactionsActionContainer.react");a=k(!1);var w=a[0],x=a[1],y=t!=null&&t.length>0&&t[0]||void 0;a=e||w;e=i(function(a){var b=y!=null&&n!==!0&&y===a;u(a,b);return g()},[y,n,u,g]);w=i(function(a){a||x(!1),r(a),v.setFocused(a)},[v,r]);return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:b==="end_"?"end":b,fallback:h.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:l.popoverLoading}),onVisibilityChange:w,popoverProps:{closeActionsMenu:g,disableCustomReactions:m,isBroadcastThread:o,isSecure:p,messageID:q,onClose:c("emptyFunction"),onSelect:e,selectedReactions:t,setShowEmojiPicker:x,showEmojiPicker:a},popoverResource:s,popoverType:a?"dialog":"menu",position:a?"below":"above",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.size;b=b===void 0?16:b;a=a.viewBox;a=a===void 0?"0 0 16 16":a;return i.jsxs("svg",{fill:"none",height:b,viewBox:a,width:b,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:h._("__JHASH__Wo2O5nlXhKT__JHASH__")}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatReactionsAction.react",["fbt","CometPressable.react","MWChatColors.bs","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWV2MessageRowActionsContext.bs","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","useIsMultiReactionEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});function a(a){var b=h._("__JHASH__czR8vxcW0mN__JHASH__"),e=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext(),f=e.openReactionsMenu,g=j(function(a){if(c("gkx")("3417")){f.current=c("emptyFunction");return}},[f]);k(function(){return g},[g]);e=a.messageID;e=d("MWChatMessageId").getThreadId(e);var m=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(e);return i.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},a,{children:function(a,e,g,h,j,k){g=function(){e(),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};f.current=g;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:b,children:i.jsx(c("CometPressable.react"),{"aria-label":b,expanding:!0,onHoverIn:h,onHoverOut:j,onPress:g,onPressIn:k,overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon),children:m?i.jsx(c("MWMessageReactionIcon.react"),{size:22,viewBox:"-4 -2 22 22"}):l})})})})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?"":b[0].join("")}).filter(function(a){return a!==""})}a={useSelectedReaction:function(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey],f.id+":34");if(g!=null)return g.reaction},useSelectedReactionsV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor&&d("I64").gt(a.count,d("I64").zero)}).map(function(a){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":59");return[a==null?void 0:a.reactionLiteral,a==null?void 0:a.reactionLiteralVariant16].filter(Boolean)})},[b,a.threadKey,a.messageId],f.id+":50").flat();e=h(e);return e},useSelectedReactionV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey],f.id+":78");return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(e.reactionFbid).map(function(a){return a.reactionLiteral}):d("ReQL").empty()},[b,e],f.id+":86")}};g.MWV2MessageReactionHooks=a}),98);
__d("MWV2MessageReactionButton.react",["I64","LSMessagingThreadTypeUtil","MAWGating","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsAction.react","MWV2MessageReactionHooks","ReQL","ReQLSuspense","react","useIsReactionsV2Enabled","useIsReadOnlyFeatureLimitedWithThreadType","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.closeActionsMenu,e=a.message,g=a.onReactionsSendLogger,k=a.reactionsPopoverResource,l=a.setReactionsMenuOpen;a=a.thread;var m=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(e),n=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e),o=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),p=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,o,"reaction_tray"),q=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType);q=(!o||d("MAWGating").isFeatureLimitEnabled())&&q;var r=d("I64").to_string(a.threadKey),s=d("I64").to_string(e.timestampMs),t=j(function(){return d("MWChatMessageId").makeSent(r,e.messageId,s)},[r,e.messageId,s]),u=i(function(a,b){g&&g();return p(e.messageId,b?void 0:a,b?"remove_reaction":"reaction")},[p,e.messageId]),v=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType);a=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey);var w=c("useReStore")(),x=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(w.table("reaction_v2_types"))},[w],f.id+":102")!=null;if(q||a&&!x)return null;else{return h.jsx(c("MWChatReactionsAction.react"),{closeActionsMenu:b,disableCustomReactions:a&&v,hasReactionsV2:a,isBroadcastThread:v,isSecure:o,messageID:t,onVisibilityChange:l,reactionsPopoverResource:k,selectedReactions:a?(q=n)!=null?q:void 0:m!=null?[m]:void 0,sendReaction:u})}}g["default"]=a}),98);
__d("MWSearchPluginUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=(a=a==null?void 0:(a=a.split("?")[1])==null?void 0:a.split("&"))!=null?a:[];if(a.length===0)return null;var b=[],c=[],d=[],e="",f="",g="";a.forEach(function(a){a=a.split("=");var h=a[0];a=a[1];a=decodeURIComponent(a);h.includes("source_titles")&&b.push(a.replaceAll("+"," "));h.includes("source_sub_titles")&&c.push(a.replaceAll("+"," "));h.includes("source_urls")&&d.push(a);h==="source_query"&&(e=a.replaceAll("+"," "));h==="source_query_url"&&(f=a);h==="header"&&(g=a)});return{header:g,source_query:e,source_query_url:f,source_sub_titles:c,source_titles:b,source_urls:d}}f.useSearchPluginSources=a}),66);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CometPressable.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXText.react","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={mustacheContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},root:{marginStart:"x16n37ib",$$css:!0}};function a(a){var b=a.attachment;a=a.dialogResource;var e=b.attachmentCta1Id;b=b.attachmentCta2Id;e=c("useMWPGetAttachmentCTA")(e);b=c("useMWPGetAttachmentCTA")(b);var f=d("MWSearchPluginUtils").useSearchPluginSources(b==null?void 0:b.nativeUrl),g=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));a=c("useMWXLazyDialog")(a);var j=a[0];a=g?"highlight":"blueLink";g=g?"bodyLink4":"body4";return h.jsxs(c("BaseView.react"),{xstyle:i.root,children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),h.jsxs("div",{className:"x78zum5 x1q0g3np",children:[h.jsx(c("CometPressable.react"),{linkProps:{url:e==null?void 0:e.actionUrl},overlayDisabled:!0,children:h.jsx(c("MWXText.react"),{color:a,type:g,children:e!=null&&e.title})}),h.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"}),h.jsx(c("CometPressable.react"),{onPress:function(){f!=null&&j({sources:f})},overlayDisabled:!0,children:h.jsx(c("MWXText.react"),{color:a,type:g,children:b!=null&&b.title})})]}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").Children,j={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=i.toArray(b).filter(Boolean);return b.length===0?null:h.jsxs("div",{className:c("stylex")(j.container,a),role:"none",children:[b.map(function(a,b){return h.jsx("div",{className:c("stylex")(j.items,d),role:"none",children:a},""+b)}),e?null:h.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction.bs").get(e);f=d("MWChatInteraction.bs").get(f);e=(e=e)!=null?e:f;if(e==null)return h.jsx("div",{className:c("stylex")(a),children:b});else return h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._("__JHASH__hknrqEeMk6h__JHASH__");return a&&i.jsxs(i.Fragment,{children:[b!=null&&i.jsx("span",{className:"x1sdyfia",children:b}),i.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,g=c("useReStore")();e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("threads"),["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":28"))!=null?e:{};var h=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(h!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(h)))return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("MWPMessageReactions.react",["fbt","CometPressable.react","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetch","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils.bs","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.bs","ReQL","ReQLSuspense","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.useCallback,l=j.useContext,m=j.useDeferredValue,n=j.useMemo,o=j.useRef;function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=m(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils.bs").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:d("MWChatReactionsUtils.bs").heartType1,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":86"));return a}function b(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e)},[b,g,e],f.id+":111");return a}function e(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e).filter(function(a){return d("I64").gt(a.count,d("I64").zero)})},[b,g,e],f.id+":127");return a}function p(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function q(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function r(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress,j=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var r=a===void 0?!1:a,s=g.messageId,t=g.threadKey;a=l(d("MWV2MessageRowIsRowFocusedContext.bs").context);var u=a.setFocused,v=a.setIsDialogOpened,w=c("useReStore")(),x=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(t);a=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(t);var y=a?d("useIsMultiReactionEnabled").MAX_REACTION_COUNT:3,z=c("useIsReactionDialogEnabled")(t),A=o(new Map()),B=k(function(){x&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(w,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(t,g.messageId,void 0,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){return A.current.forEach(function(a){return a()})}))},[w,x,g.messageId,t]),C=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(w.table("reactions_v2")).getKeyRange(t,s).filter(function(a){return d("I64").gt(a.count,d("I64").zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(w.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":219");b=r?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:d("I64").to_int32(a.count),reactionLiteral:b})})},[w,t,s,r],f.id+":213");d("MWReactionUtils").useSortReactionsForBroadcastChat(C,t);y=m!=null&&x?q(Array.from(new Set(C.map(function(a){return(a=a.reactionLiteral)!=null?a:""}))).slice(0,y)):q(Array.from(new Set(j.map(function(a){a=a.reaction;return a}))).slice(0,y));m=m!=null&&x?d("I64").to_int32(C.reduce(function(a,b){return d("I64").add(a,d("I64").of_int32(b.count))},d("I64").zero)):j.length;C=p(y,m);var D=o(null),E=n(function(){return e!=null?e:x?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,x]),F=n(function(){return{message:g,onLoadComplete:function(a){A.current.set(a,a);return function(){A.current["delete"](a)}},thread:{threadKey:t}}},[g,t]),G=k(function(){v(function(){return!1}),u(function(){return!0})},[u,v]);E=c("useMWXLazyDialog")(E);var H=E[0],I=k(function(a){v(function(){return!0}),H(babelHelpers["extends"]({},F,{initialTab:a}),G),h==null?void 0:h(),B()},[F,G,h,v,H,B]);return a||!z?b(y,m,j,g,t,I):i.jsx(c("CometPressable.react"),{"aria-label":C,onPress:function(){return I()},overlayDisabled:!0,ref:D,children:b(y,m,j,g,t,I)})}r.displayName=r.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=r}),98);
__d("MWPMessageS2SLoggingWrapper",["CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.statusType;var g=["Sent","Delivered","Error"].includes(a),i=null;if(g){i=(g=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(e)))!=null?g:d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(f))}return i!=null?h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:i,pageletName:"Message-s2s",xstyle:!1,children:[h.jsx(c("CometHeroFailTrigger.react"),{description:"Message returned from server with error status",fail:a==="Error"}),b]}):h.jsx("div",{children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessageDropdownButton.react",["fbt","ix","JSResourceForInteraction","MWXLazyPopoverTrigger.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden;a=a.message;return!b&&j.jsx("div",{className:"x1a87ojn x10l6tqk xwa60dl",children:j.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{message:a},popoverResource:k,children:function(a,b){return j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),color:"secondary",icon:d("fbicon")._(i("484386"),16),onPress:b,ref:a})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useId;function a(a){var b=i(),d=i(),e=i(),f=i();return h.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[h.jsx("g",{filter:"url(#"+b+")",children:h.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),h.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),h.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),h.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),h.jsxs("defs",{children:[h.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[h.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),h.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),h.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[h.jsx("stop",{stopColor:"#969495"}),h.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),h.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[h.jsx("stop",{stopColor:"#666666"}),h.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),h.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[h.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),h.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=j(!1),e=d[0],f=d[1],g=i(a);d=b?k.mountAnimationOutgoing:k.mountAnimationIncoming;h(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:k.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0},relative:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,j=f.shouldShow;f=f.unmountAnimation;return!j||b?h.jsx(h.Fragment,{children:d}):d&&h.jsxs("div",{className:"x1n2onr6",children:[h.jsx("div",{className:c("stylex")([i.container,a?i.alignEnd:i.alignStart,e?g:f]),children:h.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":25");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(){return b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX")};function a(a){var b=a.isLastMessage,d=a.isOutgoing,e=a.isPinnedMessageList;a=a.message;var f=a.textHasLinks;a=c("useMWIsXMARoom")(a);d=!d&&(f||a)&&b&&!e;return!d?null:h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("useIsRollcallEnabled",["MWCMIsAnyCMThread","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread").useThread(a,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});return a===!0&&c("gkx")("6957")}g["default"]=a}),98);
__d("MWJumpToMessageLogger.bs",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction.bs").set(b,g);e!=null&&(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",d("I64").to_string(f));return a.onComplete(function(){delete d("MWChatInteraction.bs").interactions[b]})}g.startHeroInteractionTrace=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j=e.useMemo,k=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var l=d(e);function a(a){a=a.children;var b=k(),c=b[0],d=b[1];b=j(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(l)}g.MWPVisibleMessageContext=l;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger.bs","MWPVisibleMessageContext.react","MWVersion.bs","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=c("useLSMessagingInitiatingSource")(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return h(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger.bs").startHeroInteractionTrace(g,b,f,d("MWVersion.bs").v2)})},[a,e,g,f])}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.react",["CometPressable.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,j=a.outgoing,k=a.renderAttachment,l=a.renderExpiredMessage,m=a.renderGIF,n=a.renderMedia,o=a.renderPost,p=a.renderRemovedMessage,q=a.renderRollcallContribution,r=a.renderSticker,s=a.renderStory,t=a.renderTextMessage,u=a.renderUnavailableMessage;a=a.renderVideo;var v=g.replyAttachmentId,w=g.replyAttachmentType,x=g.replyMessageText;w!=null&&(!e||g.replyStatus!=null&&!d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED)))?(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=h.jsx(s,{isSecureMessage:f,message:g,outgoing:j}):v!=null?d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))?q!=null?e=h.jsx(q,{message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=h.jsx(a,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF))?m!=null?e=h.jsx(m,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))?r!=null?e=h.jsx(r,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").LINK))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))?e=h.jsx(k,{message:g,outgoing:j}):o!=null?e=h.jsx(o,{message:g,outgoing:j}):e=(c("recoverableViolation")("Unknown attachment type: "+d("I64").to_string(w),"messenger_comet"),null):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&r!=null?e=h.jsx(r,{message:g,outgoing:j}):e=null:v!=null?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED))?p!=null?e=h.jsx(p,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").EXPIRED))?l!=null?e=h.jsx(l,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?u!=null?e=h.jsx(u,{outgoing:j}):e=null:x!=null&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?x!==""?e=h.jsx(t,{message:g,outgoing:j,text:x}):e=h.jsx(k,{message:g,outgoing:j}):e=null;s=h.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var y=g.replySourceTimestampMs,z=g.replySourceId,A=c("useMWJumpToMessage")("Pinned");q=w!=null&&(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION)));var B=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();a=c("useIsRollcallEnabled")(g.threadKey);if(z!=null&&y!=null&&b){m=function(){A(z,y)};if(q&&a){var C=d("I64").of_string((o=g.replyAttachmentExtra)!=null?o:"0"),D=g.threadKey,E=(r=g.replySourceId)!=null?r:null;m=function(){B(C,D,E)}}return h.jsx(c("CometPressable.react"),{onPress:m,overlayDisabled:!0,xstyle:function(){return[i.pressable]},children:s})}else return s}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWPSolidMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xi81zsa",fontSize:"x1nxh6w3",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.xstyle;a=a===void 0?!1:a;return i.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:!0,connectTop:!1,outgoing:d,precedesXMA:!1,style:{backgroundColor:"var(--mwp-reply-background-color)"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),"data-testid":void 0,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.bs","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,j.jsx("span",{className:"x1lliihq x1i64zmx",children:j.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","LSIntEnum","MWLSThreadDisplayContext","MWPStableImage.react","MWPThreadCapabilitiesContext","cr:956","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.isSticker;f=f===void 0?!1:f;var g=a.outgoing,j=a.src;a=a.width;var k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();k=k==="ChatTab";var l=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();l=c("gkx")("1581")&&l(d("LSIntEnum").ofNumber(46));g=f?!1:g?i.outgoing:i.incoming;e=h.jsx(d("MWPStableImage.react").MWPStableImage,{alt:"",className:c("stylex")(i.root,f&&i.rootHasSticker,g),height:e!=null?d("I64").to_float(e):void 0,maxHeight:100,maxWidth:k?180:300,src:j,width:a!=null?d("I64").to_float(a):void 0});return b("cr:956")!=null&&l&&!f?h.jsx(b("cr:956"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:j,xstyle:[i.root,g],children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function k(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:d("I64").zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a))},[k,g],f.id+":48"),m;l!=null&&(b("cr:6426")==null||!e?m=d("LSMediaUrl.bs").Attachment.previewUrl(l):m=b("cr:6426").getAttachmentBlobNonOptional(l.attachmentFbid));if(m!=null&&m!=="")return i.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:m,width:g.replyMediaPreviewWidth});else return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.italic,children:h._("__JHASH__kPmtZiB6viN__JHASH__")})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometIcon.react","CometPlaceholder.react","I64","IconSource","MWRepliesImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:6426","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},postBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"x18aeczl",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",height:"xpyat2d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"x1exxlbk",$$css:!0},storyBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1wkxgih",justifyContent:"xl56j7k",opacity:"x197sbye",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function l(a){var e=a.isSecureMessage,g=a.message;a=a.outgoing;var l=h._("__JHASH__bznTdd53oJN__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=g.replyAttachmentId,b=g.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a)):d("ReQL").empty()},[m,g],f.id+":86"),o=n!=null&&n.hasXma&&e&&n.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(n!=null&&n.hasXma&&e){var p;p=(p=n.defaultCtaType)!=null?p:""}else p="";var q=new(c("IconSource"))("FB",i("1423124"),28);if(o)if(p==="xma_montage_share")return j.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:q})})});else return j.jsx("div",{className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:q})})});o=b("cr:6426")!=null&&e?function(a){return n!=null&&n.hasXma?a.replyAttachmentId!=null?b("cr:6426").getInfoUrlXMA(n,"preview"):void 0:a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):void 0}:c("getLSMediaMessageReplyMediaUrl");p=o(g);return p!=null&&p!==""?j.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:p,width:g.replyMediaPreviewWidth}):j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:k.italic,children:l})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,{isSecureMessage:b,message:d,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRollcallContribution.react",["fbt","CometBlurredBackgroundImage.react","CometImageCover.react","CometPlaceholder.react","I64","MWV2ReplyTo.bs","ReQL","ReQLSuspense","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=213,k=213,l={blurredImage:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b,e=a.message;a=a.outgoing;var g=h._("__JHASH__-iobVkYmlUt__JHASH__"),m=c("useReStore")(),n=d("I64").of_string((b=e.replyAttachmentExtra)!=null?b:"0");b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("roll_calls")).getKeyRange(n)},[m,n],f.id+":71");b=(b=b==null?void 0:b.isBlurred)!=null?b:!0;var o=c("getLSMediaMessageReplyMediaUrl")(e),p=e.replyMediaPreviewHeight!=null?d("I64").to_float(e.replyMediaPreviewHeight):0;e=e.replyMediaPreviewWidth!=null?d("I64").to_float(e.replyMediaPreviewWidth):0;var q=Math.min(1,j/p),r=Math.min(1,k/e);p=Math.round(p*Math.min(q,r));e=Math.round(e*Math.min(q,r));return!c("isStringNullOrEmpty")(o)?b?i.jsx("div",{style:{height:p,width:e},children:i.jsx(c("CometBlurredBackgroundImage.react"),{src:o,xstyle:[l.blurredImage,a&&l.outgoing]})}):i.jsx("div",{className:c("stylex")([l.unblurredImageContainer,a&&l.outgoing]),style:{height:p,width:e},children:i.jsx(c("CometImageCover.react"),{alt:"",src:o})}):i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:l.italic,children:g})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","MWV2Sticker.react","ReQL","ReQLSuspense","cr:2472","cr:3200","cr:6426","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e,g=a.isSecureMessage;g=g===void 0?!1:g;var k=a.message;a=a.outgoing;var l=h._("__JHASH__13yhS1gywbZ__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(k.threadKey,b,d("I64").to_string(a)):d("ReQL").empty()},[m,k],f.id+":65");e=(e=k.replyMessageText)!=null?e:"";e=(b("cr:2472")!=null?b("cr:2472").unvault(e):e)==="\ud83d\udc4d";if(e)if(b("cr:3200")==null)return null;else return i.jsx(b("cr:3200"),{xstyle:j.replyHotLikeSticker});e=c("getLSMediaMessageReplyMediaUrl")(k);if(e!=null&&n==null)return i.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,outgoing:a,src:e,width:k.replyMediaPreviewWidth});if(n==null)return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.italic,children:l});b("cr:6426")==null||!g?e=function(a){return d("LSMediaUrl.bs").Attachment.previewUrl(a)}:e=function(a){return b("cr:6426").getAttachmentBlobNonOptional(a.attachmentFbid)};return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWV2Sticker.react"),{attachment:n,getPreviewUrl:e,scale:.6,xstyle:j.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","CometPressable.react","I64","MWRepliesImage.react","XCometStoriesControllerRouteBuilder","cr:6426","getLSMediaMessageReplyMediaUrl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:6426")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):null}:c("getLSMediaMessageReplyMediaUrl");e=e(f);return e==null?null:i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:i.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesText.react",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform","MWV2ReplyTo.bs","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var e=a.outgoing,f=a.text;a=i(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").replyRenderer]}},[]);var g=i(function(){return d("MWChatTextFormatting").getFormattingRanges(f)},[f]),j=b("cr:2472")==null?f:b("cr:2472").unvault(f);return h.jsx(c("MWV2ReplyTo.bs"),{outgoing:e,children:h.jsx("div",{className:"xi81zsa x126k92a",children:h.jsx(c("CometTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:g,renderers:a,text:j,transforms:d("MWChatTextTransform").epdTextTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__3TzRhHHRgwV__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesVideo.react",["fbt","ix","CometImage.react","CometPlaceholder.react","I64","LSMediaUrl.bs","MWLSThreadDisplayContext","MWPStableImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0},playButtonContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{position:"x1n2onr6",$$css:!0}};function l(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="ChatTab";var m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:d("I64").zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a))},[m,g],f.id+":73"),o;n!=null&&(b("cr:6426")==null||!e?o=d("LSMediaUrl.bs").Attachment.previewUrl(n):o=b("cr:6426").getAttachmentBlobNonOptional(n.attachmentFbid));if(o==null)return j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:k.italic,children:h._("__JHASH__7WGJ1daCkBD__JHASH__")});e=g.replyMediaPreviewHeight!=null?d("I64").to_float(g.replyMediaPreviewHeight):void 0;a=g.replyMediaPreviewWidth!=null?d("I64").to_float(g.replyMediaPreviewWidth):void 0;var p=100;l=l?180:300;(n==null?void 0:n.previewUrlMimeType)!=null?n=j.jsx(d("MWPStableImage.react").MWPStableImage,{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e,maxHeight:p,maxWidth:l,src:o,width:a}):n=j.jsx("video",{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e!=null&&e>p?"100%":e,src:o,style:{maxHeight:p,maxWidth:l},width:a!=null&&a>l?"100%":a});return j.jsxs("div",{className:"x1n2onr6",children:[n,j.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3",children:j.jsx(c("CometImage.react"),{src:i("354763")})})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliedMessage.bs",["MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return h.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:b,message:d,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderVideo:c("MWRepliesVideo.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("I64").equal(a.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var e=c("useMWPIsMessagePinned")(a),f=d("MWPMessageAuthor.react").useAuthorName();f=f[0];var g=d("Actor").useActor();g=g[0];g=g===d("I64").to_string(a.senderId);var i=c("useMWIsReplyToAuthor")(a);return!e||g||i?a.replySnippet:b?h._("__JHASH__lpeJtmI6peT__JHASH__").toString():h._("__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",f)]).toString()}g["default"]=a}),98);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","MWEditedEyebrow.react","MWPEditMessageUtil","react","useMWReplySnippetContent"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",color:"x12scifz",display:"x78zum5",fontSize:"x1pg5gke",paddingBottom:"xg8j3zb",paddingTop:"x1nn3v0j",$$css:!0},separator:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},text:{paddingStart:"x1h0ha7o",$$css:!0}};function j(a){a=a.replySourceType;if(a==null)return null;if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY)))return h.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16});else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16});return null}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.message;a=a.outgoing;a=c("useMWReplySnippetContent")(b,a);if(a==null||a.trim().length===0)return null;var e=d("MWPEditMessageUtil").isEditedMessage(b);return h.jsxs("div",{className:"x6s0dn4 x12scifz x78zum5 x1pg5gke xg8j3zb x1nn3v0j","data-testid":void 0,children:[h.jsx(j,{replySourceType:b==null?void 0:b.replySourceTypeV2}),h.jsx("div",{className:"x1h0ha7o",children:a}),e&&h.jsx(c("MWEditedEyebrow.react"),{hasSeparator:!0,xstyle:i.separator})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatText.bs",["MWPMessageListText.react","MWPVisibleMessageContext.react","MWV2ChatTextParserUtils.bs","cr:2472","react","useMWTextRenderers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,e,f,g,b,c):[]}function k(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d|0}});else return[]}function l(a){var e=c("useReStore")(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return i(function(){var c=a.text!=null&&a.text!==""?a.text:void 0;if(c==null)return[];if(d("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(c))return[];c=b("cr:2472")==null?c:b("cr:2472").unvault(c);var f=j(e,a,c);f=f.concat(d("MWV2ChatTextParserUtils.bs").findRanges(c));return f.concat(k(g==null?void 0:g,c,a.messageId))},[a,e,g])}function a(a){var d=a.isSecureMessage,e=a.message;a=a.outgoing;var f=l(e),g=c("useMWTextRenderers")(d),i=e.text;d=b("cr:2472")==null?e.text:d?i!=null?b("cr:2472").unvaultOrThrow(i):e.text:i!=null?b("cr:2472").unvault(i):e.text;return h.jsx(c("MWPMessageListText.react"),{message:e,outgoing:a,ranges:f,renderers:g,text:d})}a.displayName=a.name+" [from "+f.id+"]";g.useRanges=l;g.MWV2ChatText=a}),98);
__d("MWStatusText.react",["MWPThreadThemeGradientUtils","MWXText.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignLeft:{paddingStart:"xtt4iyq",$$css:!0},alignRight:{paddingEnd:"x1sxyh0",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0}};function a(a){var b=a.alignLeft;b=b===void 0?!1:b;var e=a.error,f=a.text;a=a.xstyle;var g=c("useMWPThreadTheme")();return h.jsx("span",{className:c("stylex")(b?i.alignLeft:i.alignRight,d("MWPThreadThemeGradientUtils").isGradient(g)&&i.mask,a),role:"none",children:h.jsx(c("MWXText.react"),{align:b===!0?"start":"end",color:e===!0?"negative":"secondary",testid:void 0,type:"meta4",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometImageCover.react","CometPressable.react","I64","JSResourceForInteraction","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWXIcon.react","MWXLazyPopoverTrigger.react","MWXTooltip.react","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),k={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},noProfilePhoto:{width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,f=a.isCMAdmin,g=f===void 0?!1:f,h=a.isGroupThread;f=a.isLastMessageInGroup;var l=a.message;a=a.nickname;if(!f)return i.jsx("div",{className:"xgd8bvy"});if(l.takedownState!=null)f=i.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:j,children:i.jsx(c("MWXIcon.react"),{alt:j,icon:d("SVGIcon").legacySVGIcon(function(){return i.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&c("getLSMediaContactProfilePictureUrl")(e)!==""){var m;a=a!=null?a+" ("+e.name+")":e.name;var n=(m=d("LSContactBitOffset").has(d("I64").of_int32(77),e))!=null?m:!1;m=(m=d("LSContactBitOffset").has(d("I64").of_int32(84),e))!=null?m:!1;var o=i.jsx(c("CometImageCover.react"),{alt:e.name,src:c("getLSMediaContactProfilePictureUrl")(e),style:{borderRadius:"50%"}});f=i.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:a,children:c("qex")._("384")&&!m?i.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{message:l},popoverResource:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoContent.react"),position:"above",children:function(a,b,d,e,f,j){return h&&(!n||g)?i.jsx(c("CometPressable.react"),{onHoverIn:e,onHoverOut:f,onPress:function(){return b()},onPressIn:j,overlayRadius:"50%",ref:a,xstyle:k.profile,children:o}):o}}):o})}else f=i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.glimmer});return i.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isCMAdmin;e=e===void 0?!1:e;var f=a.isGroupThread,g=a.isLastMessageInGroup;a=a.message;var i=d("MWPContactContext.react").useMWPContactStableContext(),j=i.contact;i=i.nickname;return h.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:j,isCMAdmin:e,isGroupThread:f,isLastMessageInGroup:g,message:a,nickname:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","MercuryTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(b)))])}),i.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:h._("__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRow.react",["CometErrorBoundary.react","CometMiddot.react","CometPlaceholder.react","CometPressable.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatGutterItem.bs","MWChatMessageUnreadIndicator.react","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWForwardedContent.react","MWLSThread","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageListAttachmentContainer.react","MWMessageReactionsContainer.react","MWMessageRowActions.react","MWMessageSearchPluginMustache.react","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPMessageFooter.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils.bs","MWPMessagePinnedText.react","MWPMessageReactions.react","MWPMessageRowCalculateStatus.react","MWPMessageS2SLoggingWrapper","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWRepliedMessage.bs","MWReplySnippet.react","MWV2ChatAdminMessage.react","MWV2ChatBubble.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.bs","MWV2ChatUnsentMessage.react","MWV2MessageEndOfGroupContent.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.react","MWV2ReplyError.bs","MWXText.react","QE2Logger","ReQL","asyncToGeneratorRuntime","cr:120","cr:4443","deferredLoadComponent","gkx","justknobx","promiseDone","qex","react","requireDeferredForDisplay","stylex","useIsMultiReactionEnabled","useMWIsReplyToAuthor","useMWPGetAttachments","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.startTransition,j=a.useCallback,k=a.useId,l=a.useMemo,m=a.useState,n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRow.react")),o={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x1i5r0r9",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j","@supports(max-width: min(100%, 500px))_maxWidth":"x8ibpz6",$$css:!0},alignEnd:{alignItems:"xuk3077",$$css:!0},emptyGutter:{width:"x51ohtg",$$css:!0},emptyGutterForTextReceipts:{width:"x1xc55vz",$$css:!0},gutter:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xw4jnvo",$$css:!0},multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0},reply:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},replyMargin:{marginBottom:"x1q5jw98",minHeight:"xvnwnnf",$$css:!0}},p=e(function(a){var e=a.hasClickState,f=e===void 0?!1:e,g=a.hasMessageEmphasisRing;e=a.isFirstMessageInGroup;var i=a.isLastMessageInGroup,j=a.isSearchPluginAttachment,k=j===void 0?!1:j,l=a.isSecureMessage,m=a.message,n=a.navigateToRouteForMediaViewer,o=a.nextMessage,p=a.offlineAttachmentId,q=a.outgoing,r=a.prevMessage,s=a.reactions,t=a.reactionsV2,u=a.renderAttachment;j=a.threadType;a=c("MWClickedMessageContext.react").useHook();var v=a.clickedMessageId,w=a.fetchMessageSeenCount,x=a.hasError,y=a.setClickedMessageId,z=c("useReStore")(),A=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(j),B=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(m.threadKey),C=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(z.table("threads")).getKeyRange(m.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(z.table("community_folders")).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:m.messageId},community_id:d("I64").to_string(b.folderId),event:"render_seen_count",group_id:d("I64").to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:d("I64").to_string(a.threadKey)});if(v===m.messageId&&!x)return y(null);else return w(m.threadKey,m.messageId,b)})())},[z,v,m.messageId,m.threadKey,x,y,w]);return h.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:e,isLastMessageInGroup:i,isSearchPluginAttachment:k,message:m,nextMessage:o,outgoing:q,prevMessage:r,reactions:s,reactionsV2:t,renderAttachment:function(a,b,d){if(k)return null;return u!=null&&l?u(m,r,o,q):h.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:b,connectTop:a,hasEmphasisRing:g,hasText:d,message:m,navigateToRouteForMediaViewer:n,outgoing:q})},renderEmoji:function(){return h.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:g,isSecureMessage:l,message:m})},renderMessageBubble:function(a,b,c,e){return h.jsx(d("MWV2ChatBubble.react").ChatBubble,{connectBottom:c,connectTop:b,hasEmphasisRing:g,message:m,outgoing:q,precedesXMA:e,children:h.jsx(d("MWV2ChatText.bs").MWV2ChatText,{isSecureMessage:l,message:m,outgoing:q})})},renderMessageContainer:function(a,d){var e;e=h.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:m.messageId,optimisticMessageId:(e=p)!=null?e:m.offlineThreadingId,xstyle:f?[!1]:d,children:A&&b("cr:120")?h.jsx(b("cr:120"),{message:m,children:a}):h.jsx(c("MWV2MessageTimestampTooltip.react"),{message:m,children:a})});if(f)return h.jsx(c("CometPressable.react"),{onPress:C,overlayDisabled:!0,xstyle:d,children:e});else return e},renderMessageFooter:function(){if(B)return null;var a=t!=null&&t.length>0;return h.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:q,children:!a&&s.length<1?null:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:m,outgoing:q,reactions:s,reactionsV2:a?t:void 0,children:function(b,d,e,f,g){return h.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?t:void 0,threadKey:g})}})})},renderUnsentMessage:function(){return h.jsx(c("MWV2MessageTimestampTooltip.react"),{message:m,children:h.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:l,message:m,outgoing:q})})}})});function q(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var b=c("gkx")("571")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}f=e(function(a){var e=a.displayMode;e=e===void 0?"standard":e;var f=a.domElementRef,g=a.fbGroupId,l=a.hasMessageEmphasisRing,r=a.isCMAdmin,s=r===void 0?!1:r,t=a.isModal,u=a.isSecureMessage,v=a.message,w=a.navigateToRouteForMediaViewer,x=a.nextMessage,y=a.prevMessage,z=a.renderAttachment;r=a.shouldRenderUnreadIndicator;var A=a.stopHoveringRef,B=a.threadType;a=a.useReactionsV2;var C=a===void 0?!1:a,D=e==="pinnedMessages";a=d("MWPActor.react").useActor();e=c("MWClickedMessageContext.react").useHook();var aa=e.clickedMessageId,E=D||d("MWPMessageParsingUtils.bs").isStartOfGroup(v,y),F=D||d("MWPMessageParsingUtils.bs").isEndOfGroup(v,x),G=c("MWCMIsAnyCMThread")(B),H=d("MWCMThreadTypes.react").isBroadcastThread(B);e=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(B);var I=d("LSMessagingThreadTypeUtil").isGroup(B),J=d("LSMessagingThreadTypeUtil").isSecure(B),K=Boolean(d("MWLSThread").useThread(v.threadKey,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(140),a)})),L=!1;if(J){var M;L=(M=c("qex")._("891"))!=null?M:!1;d("QE2Logger").logExposureForUser("messenger_armadillo_web_message_states")}else L=c("justknobx")._("1250");var N=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v.threadKey);M=!v.isUnsent&&K;var O=M&&!e,P=!D&&d("I64").equal(v.senderId,a),Q=x==null,R=d("MWPMessageReactions.react").useReactions(v),S=d("MWPMessageReactions.react").useReactionsV2(v),ba=N&&S.some(function(a){return d("I64").to_int32(a.count)>0});K=m(!1);var T=K[0],U=K[1];M=m(!1);var V=M[0],W=M[1],ca=j(function(a){return i(function(){return W(a)})},[W,i]),da=j(function(a){return i(function(){return U(a)})},[U,i]),ea=k();a=m(!1);var X=a[0],fa=a[1],ga=!P,ha=ga&&I,Y=c("MWPMessageIsReply")(v),ia=(R.length>0||S.length>0)&&!N;K=c("useMWIsReplyToAuthor")(v);var ja=K||v.replySourceId==null?!1:v.replyMediaExpirationTimestampMs!=null?d("I64").gt(v.replyMediaExpirationTimestampMs,d("I64").zero):!0,ka=H&&c("gkx")("6159")||D||e||L,la=function(a){return h.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},ma=q();M=r===!0?h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null;var Z=c("useMWPGetAttachments")(v);a=Z.length>0;var $=a&&Z[0].cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&Z[0].cta2Type==="xma_gen_ai_search_plugin_response_sources";K=Z.length>0&&Z[0].xmaLayoutType!=null&&d("I64").equal(Z[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));e=Z.length>0&&Z[0].xmaLayoutType!=null&&d("I64").equal(Z[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SHARED_STACK));if(v.isAdminMessage){r=h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[h.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:v,nextMessage:x,prevMessage:y}),h.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:v,outgoing:P,xstyle:o.adminMessageAttachment})]});v.adminMsgCtaType==null?a=h.jsx(c("MWV2MessageRowSimple.react"),{children:r}):a=h.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:E?void 0:f,isDialogOpened:X,isFocused:T,isModal:t,message:v,messageDomID:ea,nextMessage:x,outgoing:P,prevMessage:y,setFocused:da,setHovered:ca,setIsDialogOpened:fa,stopHoveringRef:A,theme:ma,children:r})}else K||e?a=h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:v,outgoing:P,xstyle:o.adminMessageAttachment})})}):a=h.jsxs(h.Fragment,{children:[M,E&&!D?h.jsx(c("MWV2MessageStartOfGroupContent.bs"),{domElementRef:f,message:v,prevMessage:y}):null,h.jsx(c("MWPMessageRowCalculateStatus.react"),{isBroadcastThread:H,isLargeGroup:!1,isSecureGroupThread:J&&I,message:v,nextMessage:x,children:function(a){var b;return h.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:E?void 0:f,isDialogOpened:X,isFocused:T,isModal:t,message:v,messageDomID:ea,nextMessage:x,outgoing:P,prevMessage:y,setFocused:da,setHovered:ca,setIsDialogOpened:fa,stopHoveringRef:A,theme:ma,children:[h.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:D,fbGroupId:g,isAnyCMThread:G,isFirstMessageInGroup:E,isGroupThread:I,message:v,outgoing:P,renderForwardSnippet:function(){return h.jsx(c("MWForwardedContent.react"),{message:v,outgoing:P})},renderPinnedText:function(a,b){return D?null:h.jsx(c("MWPMessagePinnedText.react"),{divider:b&&h.jsx(c("CometMiddot.react"),{}),message:v})},renderReplySnippet:function(){return h.jsx(c("MWReplySnippet.react"),{message:v,outgoing:P})},renderTextWrapper:function(a){return h.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:D?la:void 0}),h.jsxs(h.Fragment,{children:[E&&!ha?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,Y&&h.jsx("div",{className:c("stylex")(o.reply,P?o.alignEnd:!1,ja?o.replyMargin:!1),role:"none",children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(c("MWV2ReplyError.bs"),{outgoing:P})},children:D?h.jsx(c("MWRepliedMessage.bs"),{isSecureMessage:u,message:v,outgoing:P}):h.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:v,outgoing:P,children:h.jsx(c("MWRepliedMessage.bs"),{isSecureMessage:u,message:v,outgoing:P})})})})}),h.jsx(c("MWPMessageS2SLoggingWrapper"),{messageId:v.messageId,optimisticMessageId:(b=Z==null?void 0:(b=Z[0])==null?void 0:b.offlineAttachmentId)!=null?b:v.offlineThreadingId,statusType:a.type,children:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:ia,message:v,outgoing:P,renderGutterItem:function(){return ka?h.jsx("div",{className:c("stylex")(L?o.emptyGutterForTextReceipts:o.emptyGutter),role:"none"}):h.jsx(c("MWChatGutterItem.bs"),{errorMessage:v.subscriptErrorMessage!=null&&G?v.subscriptErrorMessage:void 0,incoming:!1,status:a,xstyle:o.gutter})},renderMessageActions:function(){return D?h.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!V&&!T,message:v}):h.jsx(c("MWMessageRowActions.react"),{ariaHidden:t===!1,focused:T||X||t,hasReactions:ia,hovered:V,message:v,outgoing:P,shouldHideHoverMenuReact:ba})},renderMultiReactions:function(){if(v.isUnsent)return null;var a=S!=null&&S.length>0;return!N||!a?null:h.jsx("div",{className:c("stylex")(o.multiReactContainer,P?o.multiReactContainerOutgoing:!1),children:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:v,outgoing:P,reactions:R,reactionsV2:S,children:function(a,b,d,e,f,g){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(n,{emojis:a,message:e,onOpenDialog:g,outgoing:P,reactionsV2:S})})}})})},renderProfile:function(){return h.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:I?!t:!0,isCMAdmin:s,isGroupThread:I,isLastMessageInGroup:F,message:v})},children:h.jsxs(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(c("MWV2ChatErrorBubble.react"),{isReply:Y})},children:[D?h.jsx(p,{hasClickState:O,hasMessageEmphasisRing:l,isFirstMessageInGroup:E,isLastMessageInGroup:F,isSearchPluginAttachment:$,isSecureMessage:u,message:v,nextMessage:x,offlineAttachmentId:Z&&Z.length>0?Z[0].offlineAttachmentId:null,outgoing:P,prevMessage:y,reactions:R,reactionsV2:C?S:void 0,renderAttachment:z,threadType:B}):h.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:Y,message:v,outgoing:P,children:h.jsx(p,{hasClickState:O,hasMessageEmphasisRing:l,isFirstMessageInGroup:E,isLastMessageInGroup:F,isSearchPluginAttachment:$,isSecureMessage:u,message:v,navigateToRouteForMediaViewer:w,nextMessage:x,offlineAttachmentId:Z&&Z.length>0?Z[0].offlineAttachmentId:null,outgoing:P,prevMessage:y,reactions:R,reactionsV2:C?S:void 0,renderAttachment:z,threadType:B})}),$&&h.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:Z[0],dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRow.react")})]})})}),h.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:Q,isOutgoing:P,isPinnedMessageList:D,message:v}),h.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:x}),O&&aa===v.messageId?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):F&&!L?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):F&&!Q?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null]}),D?null:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:v,nextMessage:x,showContent:O||d("MWMessageDeliveryStatus").isAlwaysShownStatus(a)&&L,children:function(){return h.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:O&&ga,hasTextBasedMessageReceipts:L,isLastMessage:Q,isOutgoing:P,isTextOnly:H,message:v,status:a})}})]})}})]});return h.jsxs(h.Fragment,{children:[a,b("cr:4443")==null?null:h.jsx(b("cr:4443"),{})]})});g.useTheme=q;g.MWMessageRow=f}),98);
__d("MWCollapsibleAdminMessages.react",["fbt","MWMessageRow.react","MWPMessageListColumn.react","MWV2MessageActionsVisibility.bs","MWXLink.react","MWXText.react","ODS","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef(),e=a.messages,f=babelHelpers.objectWithoutPropertiesLoose(a,["messages"]);a=j(!1);var g=a[0],l=a[1];return i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[i.jsx(c("MWXLink.react"),{color:"primary",onClick:function(){d("ODS").bumpEntityKey(3303,"collapsible_admin_messages",g?"hide_messages":"show_messages"),l(function(a){return!a})},role:"button",children:i.jsx(c("MWXText.react"),{type:"bodyLink4",children:i.jsx("div",{className:c("stylex")(g?k.expanded:k.collapsed),children:g?h._("__JHASH__k2cKnwAsyRP__JHASH__"):h._("__JHASH__ZpmrUMcuTWA__JHASH__",[h._param("number of admin udpates",e.length)])})})}),g?e.map(function(a,c){return i.createElement(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},f,{key:a.messageId,message:a,nextMessage:e[c+1],prevMessage:e[c-1],stopHoveringRef:b}))}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","CometPressable.react","CurrentUser","MWPColorUtils","MWXIcon.react","ODS","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function k(){var a=c("useMWPThreadTheme")();a=a.threadTheme;a=d("MWPColorUtils").int64ToHex(a.fallbackColor);return i.jsx("svg",{"aria-hidden":!0,fill:"none",height:"18",viewBox:"7 7 22 22",width:"18",children:i.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}k.displayName=k.name+" [from "+f.id+"]";k._isSVG=!0;function a(a){var b=a.onPress;return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(){b();var a=c("CurrentUser").getAppID();a=a==null?"unknown":a;d("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:j.circleButton,children:i.jsx(c("MWXIcon.react"),{icon:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useContext,j=b.useMemo,k=b.useRef,l=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=k(new Set()),c=j(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return h.jsx(l.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return i(l)}};g["default"]=d}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1500","cr:1501"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:1500"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x14yxtea",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","react","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=(f=b("cr:268"))!=null?f:c("emptyFunction");function k(a,b){var e=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),f=c("useMWInboxPassiveContext")(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),i=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0,j;if(b!==void 0){e=d("I64").gt(b.timestampMs,a.lastActivityTimestampMs)?b.timestampMs:a.lastActivityTimestampMs;j=d("I64").gt(e,a.lastReadWatermarkTimestampMs)}else j=!1;return h(function(){return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&i&&j},[i,j])}function l(a,b,c){var d=k(a,b);return h(function(){if(d())return c()},[d,c])}function m(a,c,d){i(function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&void e();return function(){return window.removeEventListener("focus",e)}},[d,a,c])}function a(a,b,c,d,e){b=l(a,b,c);j(a);m(d,e,b);return b}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSDbKeyComparer","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessageRenderingType","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2","MAWFetchMoreMessagesWhenEnabled","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","MWScrollUtils","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","ServerTime","cr:5053","emptyFunction","gkx","nullthrows","promiseDone","react","requestAnimationFrame","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore","useShallowEqualState","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,aa=e.useImperativeHandle,k=e.useRef,ba=e.useState,ca=(e=b("cr:5053"))!=null?e:c("emptyFunction"),l={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},da=d("I64").of_string("9999999999999");function m(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function ea(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function fa(a,b,d,e){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,d,e,c("LSFactory")(a))},"readwrite","ui"))}function ga(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function n(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.tl}:{gte:a.gte.tl}}function f(a){return a.lt!=null?{lt:a.lt.tl}:{lte:a.lte.tl}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.gt=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)g.gte=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)h.tl!==0&&(g.lte=h.tl);else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.lt=h.tl;else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return d("PromiseOrValue").map(j.next(a==null?void 0:a.tl),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d={hd:b,tl:a.value[0]},c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g={hd:b,tl:a},c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function o(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)}):d("ReQL").empty()},[b,a],f.id+":356")}function ha(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)}):d("ReQL").empty()},[b,a],f.id+":374")}function a(a,b){var e,g=a.entryPoint,p=a.onInitialLoadingCompleted,q=a.logScrollerMetadata,ia=a.onUserScroll,ja=a.renderFooter,r=a.renderHeader,s=a.renderHeaderContentSpacer,ka=a.renderJumpToMostRecentMessageButton,t=a.renderLoadingAnimation,la=a.renderRow,u=a.secondaryThread,v=a.thread,w=a.checkIsThreadManuallySetAsUnread,x=w===void 0?function(){return!1}:w;w=a.pageSize;var y=a.onScrollToBottom,ma=a.isSufficientContentLoadedAbove;a=a.triggerRenderingCompleteOnResize;var na=a===void 0?!1:a;function z(a,b,e,f){c("promiseDone")(a.runInTransaction(async function(a){var g=await a.table("messages_ranges_v2__generated").get(b);if(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))return;var h=e==null?null:await a.table("messages_ranges_v2__generated").get(e);if(e!=null&&(h==null||(f==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(f==="before")if(h==null||g.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil").isSecure(B);if(i){if(H!=null)return H(a,g.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(oa));if(i){if(H!=null)return H(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else if(h==null||g.hasMoreAfter){i=d("LSMessagingThreadTypeUtil").isSecure(B);if(i)if(c("gkx")("6884")){if(H!=null)return H(a,g.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(oa));if(i)if(c("gkx")("6884")){if(H!=null)return H(a,h.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}},"readwrite","ui"))}var A=v.threadKey,B=v.threadType;a=u||{};var C=a.threadKey,oa=a.threadType,D=c("useReStore")(),E=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(D.table("messages_ranges_v2__generated")).getKeyRange(A)},[D,A],f.id+":572"),F=d("ReQLSuspense").useFirst(function(){return C==null?d("ReQL").empty():d("ReQL").fromTableDescending(D.table("messages_ranges_v2__generated")).getKeyRange(C)},[D,C],f.id+":579"),G=c("useUnsafeRef_DEPRECATED")(new Map()),H=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages(B);a=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var pa=a.setVisibleMessage,I=a.visibleMessage;a=(a=I)!=null?a:{};var J=a.messageId,K=a.timestamp,L=d("ReQLSuspense").useFirst(function(){return J!=null&&K!=null?d("ReQL").fromTableAscending(D.table("messages")).getKeyRange(A,K,J):d("ReQL").empty()},[D,A,J,K],f.id+":602"),M=ea(d("ReQLSuspense").useFirst(function(){return K!=null?d("ReQL").fromTableDescending(D.table("messages_ranges_v2__generated")).getKeyRange(A).bounds({lte:{hd:K,tl:0}}):d("ReQL").empty()},[D,K,A],f.id+":614"),K);a=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:E,secondaryDisplayMessagesRange:F});var N=a[0],O=a[1];a=N.displayMessage;var P=N.displayMessagesRange;N=N.secondaryDisplayMessagesRange;d("Int64Hooks").useEffectInt64(function(){J==null||K==null?O(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:E})}):M==null?fa(D,A,J,B):M.minMessageId===J&&M.hasMoreBefore?z(D,d("ReQL").key(M.threadKey,M.minTimestampMs,M.minMessageId),null,"before"):M.maxMessageId===J&&M.hasMoreAfter?z(D,d("ReQL").key(M.threadKey,M.minTimestampMs,M.minMessageId),null,"after"):L!=null&&O(function(a){return babelHelpers.extends({},a,{displayMessage:L,displayMessagesRange:M})})},[D,L,J,M,E,A,B,K]);j(function(){F!=null&&O(function(a){return babelHelpers.extends({},a,{secondaryDisplayMessagesRange:F})})},[F,N]);j(function(){var a;a=(a=G.current.get(I==null?void 0:I.messageId))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[I]);var Q=o(P),R=ha(P),qa=o(N),S=ca({entryPoint:g,threadKey:A,threadType:B});g=ba(!0);var ra=g[0],sa=g[1],T=k(!1);g=i(function(){if(!na)return;if(p==null||T.current)return;p(!1);T.current=!0},[p,na]);var U=k(null);e=(e=U.current)!=null?e:{};var V=e.doesContentFillScroll,W=e.onCloseToBottom;j(function(){var a;if(p==null||T.current)return;if(P!=null&&!P.hasMoreBefore){p(!0);T.current=!0;return}q&&q((a=(a=U.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,P===E);if(V==null)return;if(V()){p(!1);T.current=!0;return}},[p,P,q,E,V]);j(function(){var a;a=(a=U.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(0,function(a){return sa(a)})},[]);j(function(){var a;a=(a=U.current)==null?void 0:a.onCloseToBottom;if(a!=null&&y!=null)return a(36,function(a){return y(a)})},[y]);var ta=P!=null?!P.hasMoreAfter:!1;e=i(function(){return new Promise(function(a){var b=U.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&ta)})})},[ta,U]);var ua=c("useMAWMarkThreadAsRead")(v),va=d("LSMessagingThreadTypeUtil").isSecure(B),X=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(v,R,d("Int64Hooks").useCallbackInt64(function(){S==null?void 0:S();if(va){ua();return}c("promiseDone")(D.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(A,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite","ui"))},[S,A,ua,va,D]),e,x);j(function(){if(W!=null)return W(0,function(a){a&&!x()&&X()})},[W,X,x]);e=d("Int64Hooks").useMemoInt64(function(){var a=D.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(v.threadType),e=D.table("messages").index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(v.threadKey).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!d("I64").equal(a,d("I64").of_int32(c("LSMessageRenderingType").HIDDEN))});return u==null?b!=null?d("ReQL").union(n(b.getKeyRange(A),0),n(e,1)):n(e,1):d("ReQL").union(n(a.getKeyRange(u.threadKey).filter(function(a){a=a.isCollapsed;return!a}),0),n(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[D,u==null?void 0:u.threadKey,v.threadKey,v.threadType]);var Y=P!=null&&d("I64").equal(P.maxTimestampMs,da),Z=P!=null&&d("I64").equal(P.minTimestampMs,d("I64").zero),wa=N!=null&&d("I64").equal(N.minTimestampMs,d("I64").zero);function xa(){P===E&&(U.current!=null&&U.current.scrollToBottom()),pa(function(){return void 0})}aa(b,function(){return{getScrollAreaElement:function(){var a;return(a=U.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){xa()})}});b=i(function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:la({domElementRef:ga(G.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.offlineThreadingId)},[G,la]);if(P==null||u!=null&&N==null||Q==null&&!Z||R==null&&!Y){if(d("I64").equal(v.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),r!=null?r():null]});var $=P==null?"displayMessagesRangeNull":u!=null&&N==null?"secondaryThreadRangeNull":Q==null&&!Z?"noMinMessage":R==null&&!Y?"noMaaxMessage":"other";return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+$,hold:!0}),t!=null?t():null]})}var ya=d("ReQL").key(P.threadKey,P.minTimestampMs,P.minMessageId),za=N==null?null:d("ReQL").key(N.threadKey,N.minTimestampMs,N.minMessageId);$=a==null?"bottom":{hd:1,tl:m(a)};a=Q==null||Z?qa==null||wa?null:{hd:0,tl:m(qa)}:{hd:1,tl:m(Q)};Z=R==null||Y?null:{hd:1,tl:m(R)};return h.jsxs(c("Box.react"),{xstyle:l.list,children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatLoadingMoreMessages",hold:P.isLoadingBefore||Boolean(N==null?void 0:N.isLoadingBefore)}),h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:a,lte:Z},data:e,hasReachedBottom:!P.hasMoreAfter,hasReachedTop:N==null?!P.hasMoreBefore:!(P.hasMoreBefore||N.hasMoreBefore),imperativeRef:U,initialAnchor:$,initialRenderComplete:g,isSufficientContentLoadedAbove:ma,onReachingBottom:function(){z(D,ya,za,"after"),X()},onReachingTop:function(){return z(D,ya,za,"before")},onUserScroll:ia,pageSize:w,renderFooter:ja,renderHeader:r,renderHeaderContentSpacer:s!=null?s:function(){return h.jsx(c("Box.react"),{xstyle:l.spacer})},renderItem:b,renderLoadingAnimation:t,xstyle:l.list})}),ka&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!ra||P.hasMoreAfter,children:ka(xa)})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g.default=b}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function j(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,c=a.children,e=a.modal,f=a.setModal,g=a.wrapX;g=g===void 0?!1:g;a=a.wrapY;a=a===void 0?!1:a;var k=i(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(j):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return h.jsx(d("MWV2MessageListIsRowModalContext.bs").MWV2MessageListIsRowModalContextProvider,{value:f,children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.bs").scopeQuery,stopOnFocusWithinPropagation:!1,children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[0],{allowModifiers:!0,disabled:e!=="",onNavigate:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,children:h.jsx("div",{"aria-label":b,className:"x63ui4o x18i3tt1 x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:c})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFirstUnreadMessage",["I64","MWPActor.react","ReQL","ReQLSuspense","gkx","useReStore","useServerTime","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=c("gkx")("7262"),g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=c("useServerTime")(),j=c("useStable")(function(){return d("I64").of_string(String(i.getTime()))}),k=c("useStable")(function(){return a.lastReadWatermarkTimestampMs}),l=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(g.table("messages")).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(k)}).filter(function(a){a=a.senderId;return d("I64").equal(a,h)}):d("ReQL").empty()},[e,g,a.threadKey,k,h],f.id+":42")==null,m=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableDescending(g.table("messages_ranges_v2__generated")).getKeyRange(a.threadKey):d("ReQL").empty()},[g,a.threadKey,e],f.id+":60"),n=d("ReQLSuspense").useArray(function(){return l&&m?d("ReQL").fromTableAscending(g.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(m.minTimestampMs,m.minMessageId),lte:d("ReQL").key(j,m.maxMessageId)}).bounds({gt:d("ReQL").key(k)}).take(2):d("ReQL").empty()},[l,m,g,a.threadKey,j,k],f.id+":70");return n.length<=1?null:m==null?void 0:((b=n[0])==null?void 0:b.messageId)===m.minMessageId?void 0:n[0]}g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function a(a){var b=d("MWPActor.react").useActor(),e=c("useReStore")(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"))).take(8)},[e,a.threadKey],f.id+":29");return i(function(){var c=a.threadName;if(c!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",c)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a])}g["default"]=a}),98);
__d("MWMessageList",["CometPlaceholder.react","I64","Int64Hooks","LSCommunityBitOffset","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageRow.react","MWMessageSendingContext.react","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.bs","cr:4242","gkx","react","useCommunityFolder","useFirstUnreadMessage","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.forwardRef,j=e.useEffect,k=e.useId,l=e.useState;function m(a){return d("MWV2ChatAdminMessage.react").isAdminMessage(a)&&a!=null&&(a.messageRenderingType==null||!d("I64").equal(a.messageRenderingType,d("I64").of_int32(c("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function n(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{})}n.displayName=n.name+" [from "+f.id+"]";function a(a,e){var f=a.entryPoint,g=a.renderFooter,i=a.renderHeader,o=a.thread,p=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef();a=l("");var q=a[0];a=a[1];var r=k(),s=d("LSMessagingThreadTypeUtil").isSecure(o.threadType),t=c("useMWPAriaLabelForMessageListGrid")(o),u=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),v=u.setVisibleMessage,w=u.visibleMessage,x=d("Int64Hooks").useMemoInt64(function(){return o.threadType},[o.threadType]),y=c("useCommunityFolder")(o),z=y!=null?d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(9),y):!1,A=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(o.threadKey),B=c("useFirstUnreadMessage")(o);u=l(!1);var C=u[0],D=u[1];d("Int64Hooks").useEffectInt64(function(){return v(void 0)},[o.threadKey,v]);j(function(){B&&!C&&v(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:B.messageId,source:"LastReadWatermark",timestamp:B.timestampMs}})},[B,v,C]);u=d("Int64Hooks").useCallbackInt64(function(){return h.jsxs(h.Fragment,{children:[h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:o.threadKey,threadType:x}),g&&g()]})},[g,o.threadKey]);var E=new Map();f=h.jsx(c("MWPBaseMessageList.react"),{entryPoint:f,onUserScroll:function(){return D(!0)},pageSize:c("gkx")("2233")?3:15,ref:e,renderFooter:u,renderHeader:i,renderJumpToMostRecentMessageButton:function(a){return h.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})},renderLoadingAnimation:n,renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage;a=a.prevMessage;var g=s?d("I64").equal(o.threadKey,e.threadKey):!1,i=(B==null?void 0:B.messageId)===e.messageId,j=!m(a)&&!m(f);if(c("MWCMIsAnyCMThread")(o.threadType)&&m(e)&&!j){E.set(e.messageId,e);j=m(a)&&!m(f);if(j){j=Array.from(E.values());E.clear();return h.jsx(c("MWCollapsibleAdminMessages.react"),{domElementRef:b,fbGroupId:y==null?void 0:y.fbGroupId,hasMessageEmphasisRing:w==null?!1:w.messageId===e.messageId&&(w.source==="Reply"||w.source==="Pinned"),isCMAdmin:z,isModal:q===e.messageId,isSecureMessage:g,messages:j,shouldRenderUnreadIndicator:i,threadType:x,useReactionsV2:A})}else return null}return h.jsx(d("MWMessageRow.react").MWMessageRow,{domElementRef:b,fbGroupId:y==null?void 0:y.fbGroupId,hasMessageEmphasisRing:w==null?!1:w.messageId===e.messageId&&(w.source==="Reply"||w.source==="Pinned"),isCMAdmin:z,isModal:q===e.messageId,isSecureMessage:g,message:e,nextMessage:f,prevMessage:a,shouldRenderUnreadIndicator:i,stopHoveringRef:p,threadType:x,useReactionsV2:A})},thread:o});return h.jsx(c("MWMessageSendingContext.react").Provider,{children:h.jsx(c("MWClickedMessageContext.react").Provider,{children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:o,children:h.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:t,modal:q,setModal:a,children:b("cr:4242")==null?f:h.jsx(b("cr:4242"),{id:r,children:f})})})})})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MWV2ComposerDisclosure.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset","LSThreadRemoveType","LSVec","MWChatComposerGroupMessageRequestInfoText.react","MWChatComposerVoiceIndicator.react","MWChatStateActions","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils","MWLSThreadDisplayContext","MWPActor.react","MessageRequestsLog","ReQL","ReQLSuspense","cr:2278","cr:4720","cr:4721","gkx","lazyLoadComponent","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=b("cr:2278")==null?function(a,b){return!1}:b("cr:2278").useIsOneOnOneMessageRequestV2;function l(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,c("LSVec").ofArray([e]),c("LSFactory")(b))},"readwrite"))},[e,b,a.threadKey])}var m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWComposerUserMessageRequestInfoText.bs").__setRef("MWV2ComposerDisclosure.react"));function n(a){var e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,n=c("useReStore")(),o=d("MWChatStateV2.bs").useDispatch();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="Inbox"?"large":"small";var p=l(g),q=g.threadType,r=g.threadKey,s=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSOptimisticRemoveThread")(r,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").DELETE_THREAD),c("LSFactory")(a))},"readwrite"),function(){return o(d("MWChatStateActions").closeTabByThreadKey(Date.now(),r))})},[r,n,o]),t=i(function(){d("MessageRequestsLog").logActionConfirmed(g,8);return s()},[s,g]),u=d("LSMessagingThreadTypeUtil").isSecure(q),v=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(21),g),w=d("MWPActor.react").useActor(),x=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.table("participants")).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(n.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,w)}):d("ReQL").empty()},[n,g.threadKey,g.threadType,w],f.id+":126"),y=j(function(){return u?k(g,x):!1},[g,x,u]);q=d("LSMessagingThreadTypeUtil").isGroup(q);var z=x!=null?d("MWLSContactTypeExactUtils").isIgContact(x[1].contactTypeExact):!1;return h.jsxs(h.Fragment,{children:[h.jsx(c("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:e}),y?h.jsx(m,{size:"large",thread:g}):!u&&v?q?b("cr:4720")==null?h.jsx(c("MWChatComposerGroupMessageRequestInfoText.react"),{onDeleteConversation:t,onLeaveGroup:function(){d("MessageRequestsLog").logActionConfirmed(g,10);return p()}}):h.jsx(b("cr:4720"),{onDeleteConversation:t,onLeaveGroup:function(){d("MessageRequestsLog").logActionConfirmed(g,10);return p()},thread:g}):b("cr:4721")==null?h.jsx(c("MWLSChatComposerUserMessageRequestInfoText.bs"),{onDeleteConversation:t,thread:g}):h.jsx(b("cr:4721"),{onDeleteConversation:t,thread:g}):!u&&z&&c("gkx")("1839788")?h.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:d("I64").lt(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),size:a}):null]})}function a(a){var b=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(n,{forceVoiceIndicatorShown_TEST_ONLY:(b=b)!=null?b:!1,thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ErrorComposer.bs",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"xcrg951 x1n2xptk x1a8lsjc xl521sm x9mfa4r x889kno",children:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:i.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeeded","MWThreadKey.react","promiseDone","useMWLSProactiveWarningTables","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),h=c("useMWLSProactiveWarningTables")(),i=h.banner;h=h.pwSettings;h=i!=null&&h!=null?d("I64").equal(i.bannerId,d("I64").of_string("7")):!1;a=a&&!h?e?!0:b!=null?d("I64").equal((i=b.proactiveWarningDismissTime)!=null?i:d("I64").zero,d("I64").zero):!1:!1;var j=b!=null&&a;d("Int64Hooks").useEffectInt64(function(){j&&c("promiseDone")(f.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeeded")(g,c("LSFactory")(a))},"readwrite"))},[g,a,j,f])}g["default"]=a}),98);
__d("MWPComposerGating.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MessengerThreadTakedownState","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","cr:6285","lazyLoadComponent","nullthrows","react","useCommunityFolder","useMAWOfflineQueueLoadingIndicator","useMWLSSprocFetchProactiveWarningIfNeeded","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.memo,k=e.useContext,l=e.useImperativeHandle,m=e.useMemo,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react"));function y(a){a=a.height;return i.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}y.displayName=y.name+" [from "+f.id+"]";var z=j(function(a){var b,e=a.renderComposer;a=a.thread;var f=a.cannotReplyReason==="viewer_not_subscribed",g=a.cannotReplyReason==="broadcast_chat_read_only",h=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED)),j=c("useCommunityFolder")(a);b=d("I64").to_int32((b=j==null?void 0:j.sendsBlockedUntil)!=null?b:d("I64").zero)*1e3;b=b<0||b>d("ServerTime").getMillis();var k=a.takedownState!=null&&d("I64").equal(a.takedownState,d("LSIntEnum").ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),l=(j==null?void 0:j.fbGroupUserParticipationApprovalStatus)!=null&&d("I64").equal(j.fbGroupUserParticipationApprovalStatus,d("LSIntEnum").ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),m=(j==null?void 0:j.fbGroupUserParticipationApprovalStatus)!=null&&d("I64").equal(j.fbGroupUserParticipationApprovalStatus,d("LSIntEnum").ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING));if(k)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:35}),children:i.jsx(v,{threadType:a.threadType})});else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType))return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast}),children:i.jsx(q,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast})});else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType))return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social}),children:i.jsx(q,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social})});else if(f)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:99}),children:i.jsx(n,{groupId:j==null?void 0:j.fbGroupId,thread:a})});else if(h)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:35}),children:i.jsx(s,{canPauseChat:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(154),a),shouldUseChannelTerminology:d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),threadKey:a.threadKey})});else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&g)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:55}),children:i.jsx(p,{isBroadcastChatsReactionsEnabled:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a)})});else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&g)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:48}),children:i.jsx(r,{})});else if(b)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:141}),children:i.jsx(o,{size:"small"})});else if(l)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:135}),children:i.jsx(t,{communityFolder:c("nullthrows")(j),thread:a})});else if(m)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:100}),children:i.jsx(u,{groupID:d("I64").to_string(c("nullthrows")(j==null?void 0:j.fbGroupId)),thread:a})});else if(a.cannotReplyReason!=null)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:35}),children:i.jsx(w,{})});else return i.jsxs(i.Fragment,{children:[d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType)?i.jsx(x,{thread:a}):null,i.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]})}),A=j(function(a){var b=a.isMessengerInbox,e=a.renderComposer;a=a.thread;e=i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]});var f=a.proactiveWarningDismissTime==null||d("I64").is_zero(a.proactiveWarningDismissTime),g=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=b?null:f&&!g?i.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null;c("useMWLSSprocFetchProactiveWarningIfNeeded")(b!=null,a,!1);f=c("useMWProactiveWarningPayload")(void 0,a);return b!=null&&f!=null?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(y,{height:35}),children:b}):e});function B(a){var e=a.configurations,g=a.isMessengerInbox,j=a.renderComposer,n=a.thread,o=c("useReStore")(),p=d("MWPActor.react").useActor(),q=d("I64").equal(p,n.threadKey),r=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(o.table("participants")).getKeyRange(n.threadKey),d("ReQL").fromTableAscending(o.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[o,n.threadKey,n.threadType],f.id+":412");a=m(function(){return r.find(function(a){return q||r.length===1&&d("I64").equal(a.id,p)||!d("I64").equal(a.id,p)})},[p,q,r]);var s=d("LSMessagingThreadTypeUtil").isSecure(n.threadType),t=c("useMAWOfflineQueueLoadingIndicator")(!1,n,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector),u=b("cr:6285")(n==null?void 0:n.threadKey);t=t&&!u;u=s&&t?i.jsxs("div",{id:"armadillo-loading-indicator-banner",children:[i.jsx("div",{className:"x78zum5 xoverlg xl56j7k xr1496l",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),i.jsx("div",{className:"x6s0dn4 x12scifz x1jchvi3 x117nqv4 x1hkbg2g xr1yuqi xkrivgy x4ii5y1 x1gryazu x1qs4qq1 x1n2onr6 x2b8uid x13faqbe",children:h._("__JHASH__7VvIEysTDk2__JHASH__").toString()})]}):null;var v=e.find(function(a){return a!=null});s=k(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);l(s,function(){return v!=null?{enabled:!1,handler:null}:null},[v]);return i.jsxs(i.Fragment,{children:[u!=null?u:null,v!=null?v:d("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)?a!=null?i.jsx(A,{isMessengerInbox:g,otherUser:a,renderComposer:j,thread:n}):d("I64").lt(n.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:i.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):i.jsx(z,{renderComposer:j,thread:n})]})}function a(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(c("MWV2ErrorComposer.bs"),{})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:i.jsx(B,{configurations:b,isMessengerInbox:(b=e)!=null?b:!1,renderComposer:f,thread:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicator","MWCMIsAnyCMThread","MWPActor.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(d("I64").equal(e,d("LSIntEnum").ofNumber(1))&&!d("I64").equal(b,f)){b=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts").index("blockedByViewerStatusId")).getKeyRange(d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!d("I64").equal(b.contactId,f)})));return b!=null}else return!c("MWCMIsAnyCMThread")(e)});return i.apply(this,arguments)}function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(g){if(!d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;var i=h(b,a.threadKey,a.threadType,e).then(function(e){if(e){f==null?void 0:f({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicator")(a.threadKey,d("LSMessagingThreadTypeUtil").isGroup(a.threadType),g,c("LSFactory")(b))},"readwrite")}});c("promiseDone")(i)},[a.authorityLevel,a.threadKey,a.threadType,b,e,f])}g["default"]=a}),98);
__d("useMWOnTypingStateChanged",["JSScheduler","MWChatViewerChatVisibilityHook","gkx","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=function(a){return void 0};function a(a){var b=c("useOnTypingStateChanged")(a),d=c("MWChatViewerChatVisibilityHook")();return h(function(){return d?c("gkx")("8385")?function(a){c("JSScheduler").scheduleLoggingPriCallback(function(){return b(a)})}:b:i},[b,d])}g["default"]=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}g.log=a}),98);
__d("MWMediaTraceHandler.bs",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:d("I64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return h(a,b).then(function(){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),d("I64").neg_one,void 0,d("I64").to_string(e)+","+d("I64").to_string(f),c("LSFactory")(a))})}g.logMediaSendStart=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("I64").to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWV2OpenComposer.react",["MWMediaManager.bs","MWPComposerEditor.react","MWPReplyContext.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWV2FileDropzone.react","WebUXLoggingSurfaceContextProvider","emptyFunction","react","useMWOnTypingStateChanged","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useImperativeHandle;function a(a){var b=a.isPreviewThread,e=a.thread,f=a.afterSendMessage;f=f===void 0?c("emptyFunction"):f;a=a.onSendEmptyMessage;a=a===void 0?c("emptyFunction"):a;var g=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext),k=i(d("MWPReplyContext.react").MWPReplyContext);k=k.reply;var l=d("MWMediaManager.bs").useMediaManager(e),m=l.handleFileRemove,n=l.handleFileSelect,o=l.mediaStaging,p=c("useMWV2OnSendOpenMessage")({afterSendMessage:f,skipUrlPreviewGen:!1,thread:e});l=c("useMWOnTypingStateChanged")(e);j(g,function(){return{enabled:!0,handler:n}},[n]);return h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:h.jsxs("div",{children:[k!=null?h.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:k.messageId,messageTimestamp:k.timestampMs,thread:e}):null,h.jsx(d("MWPComposerEditor.react").MWPComposerEditor,{isPreviewThread:b,mediaStaging:o,onSendEmptyMessage:a,onSendMessage:p,onTypingStateChanged:l,thread:e,children:function(a,b,c,f){return h.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:a,editorElementRef:c,hasStuffToSend:b,mediaStaging:o,onAttachmentRemoved:m,onAttachmentsAdded:n,onSendMessage:p,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:e})}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWBlockedComposerLogging","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a],f.id+":35"),g=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(128),a);if(g&&(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)||e!=null))return h.jsx(i,{reason:e!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a}),66);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.height;return h.jsx("div",{className:"xzg4506",style:{height:a.toString()+"px"}})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(i,{height:a}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MwbActorExperienceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3231");b=d("FalcoLoggerInternal").create("mwb_actor_experience_event",a);e=b;g["default"]=e}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MwbActorExperienceEventFalcoEvent","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function l(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType);a=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:d("LSIntEnum").toNumber(a)}function n(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}function a(a,b){var e=c("useReStore")(),g=d("MWPActor.react").useActor(),o=d("I64").equal(g,a.threadKey),p=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"))).filter(function(a){a[0];a=a[1];return o||!d("I64").equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[e,a.threadKey,a.threadType,g,o],f.id+":97"),q=m(p),r=l(a),s=d("I64").to_string(a.threadKey);j(function(){q!==c("LSContactReachabilityStatusType").REACHABLE&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:n(q),surface:r,thread_id:s}})},[s,q,r]);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&p!=null){var t=c("MWGetLSThreadReportingTokenFromThread")(a),u=!d("I64").equal(p.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(q!==c("LSContactReachabilityStatusType").REACHABLE){var v=h._("__JHASH__6xAG31n9hza__JHASH__");return i.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:i.jsx(k,{fbid:d("I64").to_string(p.id),isReachable:!1,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,reportingToken:void 0,thread:a,unreachableTitle:v})})}if(u)return i.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:i.jsx(k,{buttonsOverride:b,fbid:d("I64").to_string(p.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:t,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.react","MessagePowerUp","promiseDone","react","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=c("useLSMessagingSource")();return h(function(f,g,h){c("promiseDone")(a.runInTransaction(function(a){var i=d("LSThreadAttributionTypeUtil.bs").getSource(f,e);return c("LSOptimisticSendMessageV2")(b,f,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),g,g,d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:h,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),reply_source_type:d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:i}),c("LSFactory")(a))},"readwrite"))},[a,e,b])}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","ix","I64","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXLazyPopoverTrigger.react","fbicon","react","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.bs").__setRef("MWV2DisabledPageComposer.react");function a(a){a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var b=c("useMWV2DisabledPageComposerSendMenuItem")(),e=a.threadKey,f=function(a){var c=a.title;a=a.id;if(a!=null)return b(e,c,a)};return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){},onSelect:f,pageId:d("I64").to_string(a.threadKey)},popoverResource:k,children:function(a,b){return j.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou",ref:a,children:j.jsx(c("MWXButton.react"),{icon:d("fbicon")._(i("512876"),16),label:h._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return h.jsx(c("MWV2DisabledPageComposer.react"),{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MAWGating","lazyLoadComponent","react","useIsReadOnlyFeatureLimitedWithThreadType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPFeatureLimitsBlockedComposer.react").__setRef("useMWPFeatureLimitsBlockedComposerConfiguration"));function a(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType)&&(!b||d("MAWGating").isFeatureLimitEnabled());if(b)return h.jsx(i,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("useMWPNullComposerConfiguration",["I64","LSIntEnum","LSNullstateCTAType","LSThreadBitOffset","MWBlockedComposerLogging","MWPreloadedText","ReQL","ReQLSuspense","justknobx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function j(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}a=function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate")).getKeyRange(a.threadKey)},[b,a.threadKey],f.id+":47"),g=i(c("MWPreloadedText"));e=e!=null&&d("I64").equal(e.ctaType,d("I64").of_float(c("LSNullstateCTAType").GET_STARTED))&&!g.text;g=!d("I64").equal(a.lastActivityTimestampMs,d("I64").zero);var k=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(44),a),l=c("justknobx")._("926");if(e&&!g||!l&&k)return h.jsx(j,{reason:k?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,thread:a})};g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWPComposerPlaceholder.react","ReQL","ReQLSuspense","gkx","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),j=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":40");if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&j!=null){var k;k=c("gkx")("735")&&((k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),j))!=null?k:!1);if(k)return h.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:h.jsx(i,{fbid:d("I64").to_string(j.id),thread:a,threadKey:a.threadKey})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.bs","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),i=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":34");if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&i!=null){var j,k;j=(j=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(0),i))!=null?j:!0;k=(k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(1),i))!=null?k:!0;var l=d("I64").equal(i.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE));l=!l&&(!j||!k);if(i.blockedSinceTimestampMs==null&&l)return h.jsx(c("MWChatUnavailableComposer.bs"),{reason:j?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:6437","emptyFunction","react","useMWCutoverComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPFeatureLimitsBlockedComposerConfiguration","useMWPNullComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPUnavailableComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").memo;function j(a){return[c("useMWPNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPFeatureLimitsBlockedComposerConfiguration")(a),c("useMWCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPUnavailableComposerConfiguration")(a)]}function a(a){var e=a.afterSendMessage,f=a.isPreviewThread,g=a.onSendEmptyMessage;g=g===void 0?c("emptyFunction"):g;a=a.thread;var i=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);if(b("cr:6437")!=null&&i)return h.jsx(b("cr:6437"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a});else return h.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a})}var k=i(a);function e(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=j(f);return h.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:function(){return h.jsx(k,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=j(f);return h.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return h.jsx(k,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}l.displayName=l.name+" [from "+f.id+"]";g.MWChatComposerGating=e;g.MWInboxComposerGating=l}),98);
__d("MWV2ChatTabComposer.react",["I64","Int64Hooks","LSAddMessengerContact","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWChatStateActions","MWChatStateV2.bs","MWChatStateV2Types","MWComposerGating.react","MWPActor.react","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=a.afterSendMessage,e=a.isPreviewThread,f=a.secureThreadToggle,g=f===void 0?!1:f,k=a.tab,l=a.thread,m=c("useReStore")(),n=d("MWChatStateV2.bs").useDispatch(),o=j(),p=k.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?l.clientThreadKey:k.tabType.threadKeyDescriptor.clientThreadKey,q=d("MWPActor.react").useActor(),r=i(function(){var a=k.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return n(d("MWChatStateActions").lockInTab(Date.now(),k.tabId,{clientThreadKey:l.clientThreadKey,threadKey:l.threadKey,threadType:l.threadType}))},[n,k,l]);f=i(function(){if(!d("LSMessagingThreadTypeUtil").isGroup(l.threadType))return r()},[r,l]);a=d("Int64Hooks").useCallbackInt64(function(){b==null?void 0:b();r();p!=null&&!d("I64").equal(l.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(o.current=d("ReQL").fromTableAscending(m.table("threads").index("clientThreadKey")).getKeyRange(p).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){o.current==null?void 0:o.current();return n(d("MWChatStateActions").updateThreadKeyDescriptor(k.tabId,a.threadKey,a.clientThreadKey))}}));if((d("LSMessagingThreadTypeUtil").isSecure(l.threadType)||g)&&d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType)){c("promiseDone")(m.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(m.table("participants")).getKeyRange(l.threadKey).map(function(a){return a.contactId}).filter(function(a){return!d("I64").equal(a,q)})).then(function(b){if(b!=null)return c("LSAddMessengerContact")(b,c("LSFactory")(a))})},"readwrite"));return}},[b,r,p,l.authorityLevel,l.threadType,l.threadKey,g,m,n,k.tabId,q]);return h.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:a,isPreviewThread:e,onSendEmptyMessage:f,thread:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useC4GEngagementSurface",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b="messenger_inbox";switch(a){case"ChatTab":b="chats_tab";break}return b}g["default"]=a}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWCMIsAnyCMThread","MWCMIsCMSubthread","MWV2IsTabFocusedContext.react","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isSubthreadDisplayed,e=b===void 0?!1:b,f=a.threadKey,g=a.threadType,h=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i=c("useC4GEngagementSurface")();d("Int64Hooks").useEffectInt64(function(){h&&(c("MWCMIsAnyCMThread")(g)||c("MWCMIsCMSubthread")(g)&&e)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("MWCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:i,thread_id:d("I64").to_string(f)})},[f,g,h,i,e])}g["default"]=a}),98);
__d("useLogSubthreadSpentTime.react",["I64","Int64Hooks","MWCMLogTimeSpent","MWV2IsTabFocusedContext.react","ServerTime","react","useC4gEngagementImpressionLogging","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useRef,i=b.useState;function a(a){var b=a.loggingSurface,e=a.threadKey;a=a.threadType;var f=i(!1),g=f[0],j=f[1],k=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=h(!0);c("useC4gEngagementImpressionLogging")({isSubthreadDisplayed:g,threadKey:e,threadType:a});d("Int64Hooks").useEffectInt64(function(){k&&g&&(c("MWCMLogTimeSpent")("active",d("I64").to_string(e),b,d("ServerTime").getMillis()),l.current=!1);return function(){l.current||(c("MWCMLogTimeSpent")("inactive",d("I64").to_string(e),b,d("ServerTime").getMillis()),l.current=!0)}},[e,k,g,b]);f=c("useVisibilityObserver")({onHidden:function(){j(!1)},onVisible:function(){j(!0)}});return f}g["default"]=a}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["CometErrorBoundary.react","Int64Hooks","LSFactory","LSIntEnum","LSReportThreadViewOpen","LSThreadBitOffset","LSVerifyThreadRowExists","MWCMSubthreadHeader.react","MWCMSubthreadThreadViewContexts.react","MWInboxThreadMessagesSpinner.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPThreadGradientBackground.react","MWV2ChatTabComposer.react","MWV2ChatTabHeader.react","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","useLogSubthreadSpentTime.react","useMWV2ChatTabHeaderColors","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0},messageListContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function k(a){var b=a.onReturn,e=a.tab,f=a.thread,g=c("useReStore")(),k=d("MWLSThread").useThread(f.parentThreadKey);a=c("useMWV2ChatTabHeaderColors")(f);var l=a[0],m=a[1];a[2];var n=a[3];a=function(){var a;(a=o.current)==null?void 0:a.jumpToMostRecentMessage()};var o=i({getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction")}),p=c("useLogSubthreadSpentTime.react")({loggingSurface:"chat_nub",threadKey:f.threadKey,threadType:f.threadType});d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSReportThreadViewOpen")(f.threadKey,c("LSFactory")(a))},"readwrite"))},[g,f.threadKey]);return h.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:h.jsx(c("MWCMSubthreadThreadViewContexts.react"),{thread:f,children:h.jsxs(c("MWV2TabContainer"),{style:{boxShadow:"none",margin:0},tab:e,threadKey:f.parentThreadKey,children:[h.jsx(c("MWXColumn.react"),{expanding:!0,xstyle:j.chatTabHeader,children:h.jsx(c("MWXColumnItem.react"),{expanding:!0,ref:p,children:h.jsx(c("MWV2ChatTabHeader.react"),{renderThreadDetails:function(a){return h.jsx(c("MWCMSubthreadHeader.react"),{buttonColor:l,closeSidePanelOnBack:!1,hexTextColor:n,isChatTab:!0,onPressBack:function(){b()},subtitle:k==null?void 0:k.threadName,textColor:m,thread:f,title:f.threadName})},tab:e,thread:f})})}),h.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),f),thread:f,children:[h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:h.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:h.jsx(c("MWMessageList"),{entryPoint:"popup_chat_box",ref:o,thread:f})})}),h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h.jsx(c("MWV2ErrorComposer.bs"),{})},children:h.jsx(c("MWV2ChatTabComposer.react"),{afterSendMessage:a,isPreviewThread:!1,tab:e,thread:f})})]})]})})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.onReturn,e=a.tab,f=a.threadKey,g=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadRowExists")(f,void 0,d("LSIntEnum").ofNumber(1),c("LSFactory")(a))},"readwrite"))},[g,f]);a=d("MWLSThread").useThread(f);return a==null?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(k,{onReturn:b,tab:e,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDS3DotsHorizontalSVGIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.fill;a=a===void 0?"var(--primary-icon)":a;return h.jsx("svg",{height:"24",width:"24",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsx("path",{d:"M14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0M8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0",fill:a}),h.jsx("path",{d:"M0 24h24V0H0z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSChevronRightSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("svg",babelHelpers["extends"]({viewBox:"-4 -4 26 26"},a,{children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsx("path",{d:"M5.636 13.47a.75.75 0 1 0 1.06 1.06l6-6a.75.75 0 0 0 0-1.06l-6-6a.75.75 0 0 0-1.06 1.06L11.106 8l-5.47 5.47Z",fill:"currentColor",fillRule:"nonzero"}),h.jsx("path",{d:"M0 16h16V0H0z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=c("useMWXEntryPointDialog")(c("GroupsCometChatEditChatDialog.entrypoint"),{threadID:d("I64").to_string(a)},void 0,function(){return h.jsx(c("MWXCardedDialogLoadingState.react"),{})});var b=a[0];return function(){return b({enableEditNameOrDescription:!0})}}g["default"]=a}),98);
__d("MWInboxHeaderBroadcastChannelSubText.react",["fbt","CometMiddot.react","CometTextWithEntities.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.memberCount;return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:h._("__JHASH__SvUIYrDirw-__JHASH__").toString()}),a>0?i.jsxs(i.Fragment,{children:[i.jsx(c("CometMiddot.react"),{}),c("intlSummarizeNumber")(a),i.jsx(i.Fragment,{children:" "}),h._("__JHASH__YqlBHec3EKS__JHASH__",[h._plural(a)])]}):i.jsx(i.Fragment,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","CometMiddot.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;return i.jsxs(i.Fragment,{children:[h._("__JHASH__e_CSXZOMSHT__JHASH__"),i.jsx(c("CometMiddot.react"),{}),h._("__JHASH__auWIPhKvwTb__JHASH__",[h._plural(a,"number")])]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var b=a.children;a=a.thread;var e={thread:a};a={threadID:d("I64").to_string(a.threadKey)};a=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var f=a[0];a=function(){return f(e)};return b(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSMembersSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("483769"),20);g.Add=a}),98);
__d("MWMembersSectionIcons.bs",["cr:11273"],(function(a,b,c,d,e,f,g){"use strict";g.MWMembersSectionIconsAdd=b("cr:11273").Add}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWLSDatabaseLazySync").useSync(d("LSIntEnum").ofNumber(7)),e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog")),f=e[0];e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"));var g=e[0];return function(){c("promiseDone")(b());var e=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);e?g({thread:a}):f({thread:a})}}g["default"]=a}),98);
__d("MWAddMemberToGroupListCell.react",["fbt","MWMembersSectionIcons.bs","MWXIcon.react","MWXListCellPressable.react","MWXText.react","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.testid;b=a.thread;var e=c("useMWAddParticipantDialog")(b);return i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:i.jsx(c("MWXIcon.react"),{icon:d("MWMembersSectionIcons.bs").MWMembersSectionIconsAdd})}),content:i.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__P1CnLTqi4fK__JHASH__")}),onPress:function(){return e()},size:"medium",testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoMemberList.react",["fbt","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWAddMemberToGroupListCell.react","MWCMIsAnyCMThread","MWGroupLimitContainer.react","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberList.bs","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE","MWXListCell.react","MWXText.react","react","useIsReadOnlyFeatureLimitedWithThreadType","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.thread;return i.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:i.jsx(c("MWXListCell.react"),{content:i.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"body4",children:h._("__JHASH____m4bWP_4pT__JHASH__")}),size:"medium"}),thread:a,children:i.jsx(c("MWAddMemberToGroupListCell.react"),{thread:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType)&&(!b||d("MAWGating").isFeatureLimitEnabled());var e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(27),a),f=d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE").useValue(a),g=!c("MWCMIsAnyCMThread")(a.threadType);return i.jsxs(i.Fragment,{children:[i.jsx(c("MWLSGroupMembershipMemberList.bs"),{participantsAndContacts:f.map(function(a){var b=a[0];a=a[1];return{contact:a,participant:b,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact}}),showAdmodIndicator:g,showAdmodsOnly:!1,showHostsOnly:!1,showInvitedByViewerOnly:!1,thread:a}),!b&&e?i.jsx(j,{thread:a}):null]})}a.displayName=a.name+" [from "+f.id+"]";b=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=b}),98);
__d("MWInboxInfoMembersSection.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWInboxInfoMemberList.react","MWInboxPersistedUIState","MWPBumpEntityKey","MWXCollapsible.react","cr:4705","intlSummarizeNumber","react","useCommunityFolder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="__MWInboxInfoMembersSection.isOpen__";function a(a){a=a.thread;var e=d("MWInboxPersistedUIState").usePersistedUIState(!1,j),f=e[0],g=e[1];e=c("useCommunityFolder")(a);var k=a.memberCount,l=a.threadType,m=c("MWCMIsAnyCMThread")(l);l=d("MWCMThreadTypes.react").isBroadcastThread(l);k=k!=null?"("+c("intlSummarizeNumber")(d("I64").to_int32(k))+")":"";var n=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),o=d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(a.threadType),p=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);l=e!=null&&l?h._("__JHASH__DSNu3nmbdz0__JHASH__"):e!=null&&m?h._("__JHASH__vIXzo8z-i9s__JHASH__",[h._param("member_count",k)]):n||p?h._("__JHASH__1uZ4DO16hPR__JHASH__"):h._("__JHASH__4d9xLPGdRx4__JHASH__");return i.jsx(c("MWXCollapsible.react"),{isOpen:f,label:l,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","chat_members_section."+(f?"close":"open"));return g(function(a){return!a})},children:b("cr:4705")==null||!(e!=null&&m)&&!o&&!p?i.jsx(c("MWInboxInfoMemberList.react"),{thread:a}):i.jsx(b("cr:4705"),{folder:e,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g.storageKey=j;g.MWInboxInfoMembersSection=a}),98);
__d("MDBCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169});c=a;f["default"]=c}),66);
__d("MWLogBroadcastChannelFalcoEvent",["I64","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),i=new Set([4,119]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.action,e=b===void 0?1:b,f=a.clientExtras,g=a.event;b=a.parentSurface;var m=b===void 0?3:b,n=a.source,o=a.surface,p=a.threadFbid,q=a.recipientId;h.onReady(function(a){var b=Date.now();(k==null||l!=null&&b-l>j||i.has(g))&&(k=c("uuidv4")());l=b;a.log(function(){return{action:e,action_name:e,event:g,event_name:g,extra:f,parent_surface:m,parent_surface_name:m,recipient_id:q,session_id:k,source:n,source_name:n,surface:o,surface_name:o,thread_id:p!=null?d("I64").to_string(p):void 0}})})}g.logBroadcastChannelFalcoEvent=a}),98);
__d("MDCAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({IMPRESSION:1,TAP:2,FOCUS:3,UNFOCUS:4,SCROLL:5});c=a;f["default"]=c}),66);
__d("MDCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADD_AS_ADMIN_INITATION:1,BLOCK_FROM_CHAT:2,BLOCK_MESSAGES_AND_CALLS:3,BLOCK_MESSAGES_AND_CALLS_FAILURE:4,BLOCK_MESSAGES_AND_CALLS_SUCCESS:5,BLOCK_ON_FACEBOOK:6,BLOCK_ON_FB_FAILURE:7,BLOCK_ON_FB_SUCCESS:8,BLOCK_USER_INITIATION:9,CHAT_SETUP_SELECT_LINK_RECIPIENT:10,CHAT_SETUP_SHEET_RENDERED:11,CHAT_SETUP_UNSELECT_LINK_RECIPIENT:12,CHAT_SHARE_LINK_SHEET_RENDERED:13,CONFIRM_PUBLIC_CHAT_ACKNOWLEDGEMENT:14,CREATOR_NUX_SHEET_RENDERED:15,DISCOVER_GROUP_CHAT:16,EDIT_CHAT:17,EDIT_CHAT_DESCRIPTION:18,EDIT_CHAT_FAILURE:19,EDIT_CHAT_NAME:20,EDIT_CHAT_SUCCESS:21,EDIT_MEMBER_REQUESTS:22,EVENT_COPY_LINK:23,EVENT_REMINDER_QP_CLICK:24,EVENT_REMINDER_QP_IMPRESSION:25,EVENT_REMINDER_XMA_IMPRESSION:26,EVENT_REMINDER_XMA_TAP:27,EVENT_SHARE_LINK:28,GROUP_CHAT_BUTTON_IMPRESSION:29,INVITE_LINK_IMPRESSION:30,INVITE_LINK_TAPPED:31,JOIN_CHAT_CLOSED:32,JOIN_CHAT_CONFIRM:33,JOIN_CHAT_CONSENT_CONFIRM:34,JOIN_CHAT_INITIATION:35,JOIN_CHAT_SHEET_RENDERED:36,MEMBER_REQUEST_JOIN_APPROVED:37,MEMBER_REQUEST_JOIN_DENIED:38,REMOVE_FROM_CHAT:39,REMOVE_FROM_CHAT_FAILURE:40,REMOVE_FROM_CHAT_INITIATION:41,REMOVE_FROM_CHAT_SUCCESS:42,REPORT_CHAT_TO_ADMIN_FAILURE:43,REPORT_CHAT_TO_ADMIN_INITIATION:44,REPORT_CHAT_TO_ADMIN_SUCCESS:45,REPORT_MESSAGE_TO_ADMINS:46,REPORT_MESSAGE_TO_ADMINS_FAILURE:47,REPORT_MESSAGE_TO_ADMINS_INITIATION:48,REPORT_MESSAGE_TO_ADMINS_SUCCESS:49,REQUEST_JOIN_CHAT_ERROR:50,REQUEST_JOIN_CHAT_SUCCESS:51,REQUEST_JOIN_GROUP_CHAT:52,REQUIRE_APPROVAL_TO_JOIN_DISABLED:53,REQUIRE_APPROVAL_TO_JOIN_ENABLED:54,SET_CHAT_CREATION_PHOTO:55,SET_CHAT_PHOTO:56,SET_GROUP_TYPE:57,THREAD_CREATE_ATTEMPT:58,THREAD_CREATE_ERROR:59,THREAD_CREATE_SUCCESS:60,THREAD_SETTINGS_RENDERED:61,UNBLOCK_FROM_CHAT:62,UNDO_APPROVE_MEMBER_REQUESTS:63,UNDO_DENY_MEMBER_REQUESTS:64,VIEW_ADMIN_MEMBERS:65,VIEW_ALL_MEMBERS:66,VIEW_EVENT:67,VIEW_MEMBER_REQUESTS:68,VIEW_USER_FB_PROFILE:69,VIEW_USER_PROFILE:70,BAN_FROM_CHAT_INITIATION:71,BAN_FROM_CHAT_SUCCESS:72,BAN_FROM_CHAT_FAILURE:73,UNBAN_FROM_CHAT_INITIATION:74,UNBAN_FROM_CHAT_SUCCESS:75,UNBAN_FROM_CHAT_FAILURE:76,COPY_LINK:77,SHARE_LINK_TO_FB_INITIATION:78,SHARE_LINK_TO_FB_CONFIRM:79,SUBMIT_FEEDBACK_INITATION:80,SUBMIT_FEEDBACK:81,SUBMIT_FEEDBACK_FAILURE:82,SUBMIT_FEEDBACK_SUCCESS:83,BAN_FROM_CHAT:84,ADD_THREAD_PHOTO:85,CHANGE_THREAD_PHOTO:86,SHARE_LINK_SENT:87,REMOVE_THREAD_PHOTO:88,INSTALL_MESSENGER_UPSELL_VIEWED:89,DOWNLOAD_MESSENGER_BUTTON_CLICKED:90,POST_XMA_VIEWED:91,THREAD_JOIN:92,SHARE_TO_FACEBOOK_BUTTON_CLICKED:93,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:94,CHAT_SHARED_TO_FACEBOOK:95,THREAD_OPEN:96,CHAT_RENDERED_IN_MIB_INBOX:97,REPORT_MESSAGE_TO_META:98,ADMIN_REMOVE_MESSAGE:99,REMOVE_MESSAGE:100,MESSAGE_SEND:101,DELETE_CHAT:102,LEAVE_CHAT:103,MUTE_CHAT:104,UNMUTE_CHAT:105,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:106,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:107,NOTIF_IMPRESSION:108,NOTIF_CLICKED:109,REPORT_CHAT_TO_FACEBOOK:110,REPORTED_CONTENTS_RENDERED:111,NOTIFICATION_CONTROL_RENDERED:112,NOTIFICATION_CONTROL_HIGHLIGHTS_SELECTED:113,NOTIFICATION_CONTROL_ALL_SELECTED:114,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:115,NOTIFICATION_CONTROL_NONE_SELECTED:116,NOTIFICATION_CONTROL_MUTE_SELECTED:117,NOTIFICATION_CONTROL_UNMUTE_SELECTED:118,USER_PROFILE_BOTTOMSHEET:119,MESSAGE_USER:120,BLOCKED_USER_WARNING_RENDERED:121,BLOCKED_USER_WARNING_CONFIRM:122,BLOCKED_USER_WARNING_LEAVE:123,PUSH_NOTIFICATION_MESSAGE_RECEIVED_RENDERED:124,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:125,NOTIF_SENT:126,NOTIF_CONVERTED:127,OPEN_INVITE_LINK_VIEW:128,INVITE_SCREEN_RENDERED:129,INVITE_BUTTON_TAPPED:130,SEND_BUTTON_TAPPED:131,VIEW_CHAT_BUTTON_TAPPED:132,PROMOTE_ADMIN_BUTTON_TAPPED:133,DEMOTE_ADMIN_BUTTON_TAPPED:134,ADMIN_LIMIT_REACHED_IMPRESSION:135,PROMOTE_ADMIN_FAIL_IMPRESSION:136,DEMOTE_ADMIN_FAIL_IMPRESSION:137,FIRST_CREATE_BOTTOMSHEET_RENDERED:138,CREATE_CHANNEL_SCREEN_RENDERED:139,SHOW_ON_PROFILE_TOGGLE:140,JOIN_APPROVAL_TOGGLE:141,NAME_TEXT_INPUT:142,CHANGE_IMAGE_TAPPED:143,THREAD_CREATE:144,DISMISS_BUTTON_TAPPED:145,SHARE_TO_FEED_SCREEN_RENDERED:146,SHARE_TO_FEED_SKIPPED:147,SHARE_TO_FEED_BUTTON_TAPPED:148,POST_TEXT_INPUT:149,INVITE_TO_CHAT_SCREEN_RENDERED:150,COPY_LINK_TAPPED:151,DONE_BUTTON_TAPPED:152,INVITE_SENT_SUCCESS:153,SEARCH_BAR_INPUT_FOCUS:154,SEARCH_BAR_INPUT_UNFOCUS:155,SHOW_ON_PROFILE_RENDERED:156,SHOW_ON_PROFILE_TAPPED:157,PRIMARY_PROFILE_QP_RENDERED:158,CREATE_CHANNEL_TAPPED:159,NOT_NOW_TAPPED:160,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:161,VIEW_PINNED_CHANNELS:162,UNDO_BUTTON_TAPPED:163,INVITE_SENT_FAILED:164,INVITE_ACCEPT:165,INVITE_DECLINE:166,DIRECT_INVITE_NOTIFICATION_RENDERED:167,DIRECT_INVITE_SHEET_RENDERED:168,DIRECT_INVITE_BULK_SENT_SUCCESS:169,DIRECT_INVITE_BULK_SENT_FAIL:170,CHAT_INVITE_SHEET_RENDERED:171,DIRECT_INVITE_SENT_SUCCESS:172,DIRECT_INVITE_SENT_FAIL:173,PAUSE_CHANNEL:174,RESUME_CHANNEL:175,FEATURED_UNIT_PROFILE_QP_RENDERED:176,PIN_CARD_TAPPED:177,PIN_FEATURED_CARD_SUCCESS:178,PIN_FEATURED_CARD_FAILURE:179,CHANNELS_FEATURED_UNIT_RENDERED:180,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:181,RENDER_CHAT_INVITE_SHEET:182,RENDER_INVITE_PRESET_LIST:183,INVITE_PRESET_LIST_RENDERED:184,CREATE_POST_BUTTON_TAPPED:185,PUBLIC_CHAT_BUTTON_IMPRESSION:186,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:187,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:188,DISMISS_PAUSE_CHANNEL_DIALOG:189,DISMISS_RESUME_CHANNEL_DIALOG:190,CANCEL_RESUME_CHANNEL:191,CANCEL_PAUSE_CHANNEL:192,DEEPLINK_LANDING_PAGE_RENDERED:193,DIRECT_INVITE_SHEET_SKIPPED:194,CREATE_POST_BUTTON:195,CYSC_QP_CARD_IMPRESSION:196,CONVO_PROMPT_REMOVED:197,CONVO_PROMPT_RENDERED:198,CONVO_PROMPT_SCROLLED:199,CONVO_PROMPT_SENT:200,THREAD_PREVIEW_OPEN:201,NON_MEMBER_COMPOSER_SHOWN:202,PIN_FEATURED_CARD_TOGGLE:203,CHANNELS_TAB_ITEM_RENDERED:204,CHANNELS_TAB_ITEM_TAPPED:205,PROFILE_CHANNELS_TAB_RENDERED:206,PIN_TO_INBOX_SUCCESS:207,PIN_TO_INBOX_FAILURE:208,UNPIN_FROM_INBOX_SUCCESS:209,UNPIN_FROM_INBOX_FAILURE:210,PINNED_THREAD_RENDERED:211,CREATE_CHANNEL_OPTION_RENDERED:212});c=a;f["default"]=c}),66);
__d("MDCParentSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER:1,FACEBOOK:2,FACEBOOK_NEWSFEED:3,NOTIF_JEWEL:4,CHAT_SETUP:5,THREAD_VIEW:6,THREAD_DETAILS:7,CHAT_INVITE_SHEET:8,DM_CREATION_OMNIPICKER:9,CREATE_PUBLIC_CHAT_DIALOG:10,CHAT_SHARE_LINK:11,MESSENGER_INBOX:12,LONG_PRESS_MENU:13,SWIPE_LEFT_MENU:14,CHANNEL_DELETE_SHEET:15,EDIT_PUBLIC_CHAT_DIALOG:16});c=a;f["default"]=c}),66);
__d("MWLogSocialChannelFalcoEvent",["requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerDiscoverableChatClientEventsFalcoEvent").__setRef("MWLogSocialChannelFalcoEvent"),i=new Set([186,180]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.action,d=b===void 0?2:b,e=a.clientExtras,f=a.event;b=a.parentSurface;var g=b===void 0?1:b,m=a.source,n=a.surface,o=a.targetFbids,p=a.threadFbid,q=a.userId;h.onReady(function(a){var b=Date.now();(k==null||l!=null&&b-l>j||i.has(f))&&(k=c("uuidv4")());l=b;a.log(function(){return{action:d,event:f,extra:e,parent_surface:g,session_id:k,source:m,surface:n,target_fbids:o,thread_fbid:p,user_id:q}})})}g.logSocialChannelFalcoEvent=a}),98);
__d("useMessengerWebThreadImpressionLogging",["CometDebounce","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover","MWLogBroadcastChannelFalcoEvent","MWLogSocialChannelFalcoEvent","MWPActor.react","MWV2IsTabFocusedContext.react","gkx","logMessengerWebFalcoEvent","requireDeferred","useC4GEngagementSurface","useMWEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("useMessengerWebThreadImpressionLogging"),i=c("gkx")("571")?3:11,j=c("gkx")("571")?1:2,k=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.groupThreadSubtype,e=a.threadKey,f=a.threadType,g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=c("useMWEntrypoint")();a=c("useC4GEngagementSurface")();var m=d("MWPActor.react").useActor(),n=d("MAWThreadCutover").useIsCutoverOpenThread(e);d("Int64Hooks").useEffectInt64(function(){if(g){k({threadKey:e,threadType:f},"thread_impression",l,void 0);var a=d("LSMessagingThreadTypeUtil").isSecure(f);h.onReady(function(c){return c.log(function(){return{entry_point:l,event_type:"thread_impression_event",group_thread_subtype:b==null?void 0:d("I64").to_string(b),is_cutover:n,thread_id:d("I64").to_string(e),thread_type:d("I64").to_string(f),transport_type:a?"TINCAN":"MI"}})});d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f)&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(f)?136:1,parentSurface:i,source:62,surface:7,threadFbid:e});(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(f)||d("LSMessagingThreadTypeUtil").isSocialChannel(f))&&d("MWLogSocialChannelFalcoEvent").logSocialChannelFalcoEvent({action:1,event:d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(f)?201:96,parentSurface:j,source:46,surface:13,threadFbid:d("I64").to_string(e),userId:d("I64").to_string(m)})}},[e,l,f,g,m,b,n,a])}g["default"]=a}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("I64").of_int32(60),j=d("I64").of_int32(60*60),k=d("I64").of_int32(24*60*60),l=d("I64").of_int32(7*24*60*60);function a(a,b){b=d("I64").of_float(b.getTime()/1e3);a=d("I64").div(a,d("I64").of_int32(1e3));b=d("I64").sub(b,a);a=h._("__JHASH__FdnMQ3ayYbi__JHASH__");if(d("I64").lt(b,i))return a;else if(d("I64").lt(b,j)){var c=d("I64").to_string(d("I64").div(b,i));return h._("__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if(d("I64").lt(b,k)){c=d("I64").to_string(d("I64").div(b,j));return h._("__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if(d("I64").lt(b,l)){c=d("I64").to_string(d("I64").div(b,k));return h._("__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),98);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPThreadThemeGradientUtils","MWStatusText.react","clearTimeout","react","setTimeout","stylex","useMWPThreadTheme","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState,m=3e3,n={mask:{backgroundColor:"xcrg951",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.message,g=a.status,o=a.xstyle;a=l(!1);var p=a[0],q=a[1],r=k(null),s=k(!1);a=c("MWMessageSendingContext.react").useHook();var t=a.findSendingMessage,u=a.trackSendingMessage,v=a.untrackSendingMessage;a=c("useMWPThreadTheme")();var w=c("useServerTime")();i(function(){v(f.offlineThreadingId);g.type==="Sending"?(u(f.offlineThreadingId),r.current=c("setTimeout")(function(){q(!0)},m)):r.current&&c("clearTimeout")(r.current);return function(){r.current&&c("clearTimeout")(r.current)}},[t,f.offlineThreadingId,g.type,u,v]);var x=j(function(){g.type==="Sending"?u(f.offlineThreadingId):t(f.offlineThreadingId)&&(s.current=!0);var a=g.type==="Sending"||s.current;a=[n.statusText,a&&n.mountAnimation,o];switch(g.type){case"Sending":return p?h.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):null;case"Sent":case"Delivered":return e?h.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(f.timestampMs,w).toString(),xstyle:a}):null;case"Error":return h.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:d("MWMessageDeliveryStatus").Titles.error.toString(),xstyle:a});default:return null}},[b,t,e,f.offlineThreadingId,f.timestampMs,w,p,g.type,u,o]);return h.jsx("div",{className:c("stylex")(n.statusTextRow,d("MWPThreadThemeGradientUtils").isGradient(a)&&n.mask),"data-testid":void 0,children:x})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","CometPressable.react","I64","LSClearReactionsV2DetailsAndRange","LSFactory","LSIssueReactionsV2DetailsUsersListFetch","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState,m=9;function a(a){var b=a.messageId,e=a.onTooltipCTAPress,g=a.reactionFbid,n=a.threadKey,o=c("useReStore")();a=l(!0);var p=a[0],q=a[1];j(function(){q(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(o,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(n,b,g,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){q(!1)}))},[o,n,b,g,q]);var r=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(o.table("reactions_v2_details")).getKeyRange(n,b).filter(function(a){return d("I64").equal(a.reactionFbid,g)})},[o,n,b,g],f.id+":79");var s=new Map();a.forEach(function(a){return s.set(d("I64").to_string(a.reactorId),a.fullName)});var t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("threads")).getKeyRange(n).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(o.table("contextual_profile_v1")).filter(function(a){return d("I64").equal(a.associatedEntityId,b)}),f.id+":97")})},[o,n],f.id+":92"),u=null;t!=null&&t.forEach(function(a){var b=d("I64").to_string(a.ownerId),c=a.profileName;if(c==null)return;s.has(b)&&s.set(b,c);d("I64").equal(a.ownerId,r)&&(u=c)});var v=a.map(function(a){return s.get(d("I64").to_string(a.reactorId))}).filter(Boolean);t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("reactions_v2")).getKeyRange(n,b,g)},[o,n,b,g],f.id+":126");a=(a=t==null?void 0:t.viewerIsReactor)!=null?a:!1;var w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("contacts")).getKeyRange(r).map(function(a){return a.name})},[o,r],f.id+":138");w=u!=null?u:w;var x=t!=null?d("I64").to_int32(t.count):0;x===1&&a&&v.length===0&&w!=null?v.push(w):a&&v[0]!=null&&w!=null&&((t=v[0])==null?void 0:t.toString())!==w&&v.unshift(w);var y=h._("__JHASH__GTBXwO8BaZr__JHASH__");a=function(){var a=[].concat(v.slice(0,m)),b=!1;if(v.length>m){var d=x-m;if(d<0)return[y,!0];a.push(i.jsx(c("MWXText.react"),{color:"highlight",type:"body4",children:h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(d),h._param("count",String(c("intlSummarizeNumber")(d)))]).toString()}))}else b=!p&&v.length!==x;return a.length===0?[y,b]:[a.map(function(a,b){return i.jsx("div",{children:a},String(b))}),b]}();t=a[0];var z=a[1],A=c("usePrevious")(z),B=k(null);j(function(){return function(){B.current!=null&&window.clearTimeout(B.current)}},[]);j(function(){if(A===z)return;if(!z)B.current!=null&&(window.clearTimeout(B.current),B.current=null);else{if(B.current!=null)return;B.current=window.setTimeout(function(){B.current=null,c("promiseDone")(o.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(o.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(n,b,void 0,void 0,c("LSFactory")(a))},"readwrite"))},700)}},[o,z,A,b,g,n]);return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__g_e4jdcSB-i__JHASH__"),onPress:e,overlayDisabled:!0,children:i.jsx("div",{children:t})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function j(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function k(a,b){b=((b=b)!=null?b:[]).filter(function(a){return d("I64").gt(a.count,d("I64").zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=i(!0),e=i([]),f=h(function(){return k(a,b)},[a,b]),g=h(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return h(function(){if(c.current)c.current=!1,e.current=f.sort(function(a,b){return d("I64").compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")});else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:d("I64").to_int32(a.reaction.count)>0});e.current=j(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["fbt","BaseContextualLayer.react","CometPressable.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji.bs","MWChatReactionsActionContainer.react","MWChatReactionsUtils.bs","MWLSThread","MWMessageReactionIcon.react","MWPColorUtils","MWV2MessageReactionHooks","MWXPopover.react","MWXText.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","unrecoverableViolation","useCometTheme","useFadeEffect","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useMWPThreadTheme","usePrevious","useThrottled"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.forwardRef;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x1erype6",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xvvkyix",transformOrigin:"x1jpgh95",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"x10b6aqq",paddingEnd:"xsyo7zv",paddingStart:"xurb0ha",paddingTop:"x1yrsyyn",position:"x1n2onr6",textAlign:"xp4054r",$$css:!0},emojiRowContainer:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},tooltipContainer:{backgroundColor:"xj5tmjb",borderTopStartRadius:"x1r9drvm",borderTopEndRadius:"x16aqbuh",borderBottomEndRadius:"x9rzwcf",borderBottomStartRadius:"xjkqk3g",boxShadow:"xms15q0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}},p=e(function(a,b){var e=a.messageID,f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,k=a.onPressInPrerenderer,l=a.showPopover;a=h._("__JHASH__czR8vxcW0mN__JHASH__");e=j(function(){l(),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")},[e,l]);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onHoverIn:f,onHoverOut:g,onPress:e,onPressIn:k,overlayRadius:100,ref:b,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:i.jsx("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",role:"none",children:i.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm x78zum5 xdt5ytf xlup9mm xl56j7k x1npj6m0",children:i.jsx(c("MWMessageReactionIcon.react"),{})})})})})});function q(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.threadKey;a=a.threadType;var h=d("I64").to_string(g),j=d("I64").to_string(e.timestampMs),k=l(function(){return d("MWChatMessageId").makeSent(h,e.messageId,j)},[h,e.messageId,j]);a=d("MWCMThreadTypes.react").isBroadcastThread(a);g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(g);var m=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e);return i.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:g&&a,hasReactionsV2:g,isBroadcastThread:a,isSecure:b,messageID:k,onVisibilityChange:c("emptyFunction"),selectedReactions:(g=m)!=null?g:void 0,sendReaction:f,children:function(a,b,c,d,e,f){return i.jsx(p,{messageID:k,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.emojis,e=a.message,f=a.onOpenDialog,g=a.outgoing;a=a.reactionsV2;var h=null,k=n(-1),l=k[0],p=k[1],r=e.threadKey;k=d("MWLSThread").useThread(r,function(a){return a.threadType});if(k==null)throw c("unrecoverableViolation")("thread cannot be null when reacting to message","messenger_web_product");var t=d("LSMessagingThreadTypeUtil").isSecure(k),u=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,t,"instant_react"),v=j(function(a,b){return u(e.messageId,a,b?"remove_reaction":"reaction")},[u,e.messageId]),w=c("useThrottled")(function(a,b){v(a,b)},750),x=m(null),y=j(function(a,b){f({reactionFbid:a,reactionType:b}),p(-1)},[f,p]),z=j(function(a){x.current!=null&&window.clearTimeout(x.current),p(a)},[]),A=j(function(a){if(l===a)return;x.current!=null&&window.clearTimeout(x.current);p(-1);x.current=window.setTimeout(function(){p(a)},300)},[l]),B=j(function(){x.current!=null&&window.clearTimeout(x.current),x.current=window.setTimeout(function(){return p(-1)},300)},[]),C=c("useGetMultiReactOrderedItems")(b,a),D=C.length||0,E=c("usePrevious")(C);if(D<1)return null;D=D>0&&D<d("useIsMultiReactionEnabled").MAX_REACTION_COUNT;a!=null&&(h=C.map(function(a,f){var g=a.emoji;a=a.reaction;return b[f]==null?null:i.jsx(s,{emoji:g,isTooltipShown:l===f,message:e,onFocus:function(){return z(f)},onMouseEnter:function(){return A(f)},onMouseLeave:B,onTooltipCTAPress:y,reaction:a,sendReaction:w,shouldAnimate:(E==null?void 0:E.find(function(a){return a.emoji.join("")===g.join("")}))==null&&d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:r},g)}));return i.jsxs("div",{className:c("stylex")(o.wrapper,g?o.wrapperOutgoing:!1),"data-testid":void 0,children:[h,D?i.jsx(q,{isSecure:t,message:e,sendReaction:v,threadKey:r,threadType:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";var r={"--card-background":"rgba(0,0,0,0)"};function s(a){var b=a.emoji,e=a.isTooltipShown,f=a.message,g=a.onFocus,h=a.onMouseEnter,j=a.onMouseLeave,l=a.onTooltipCTAPress,p=a.reaction,q=a.sendReaction,s=a.shouldAnimate;a=a.threadKey;var t=c("useCometTheme")("invert"),u=t[0];t=t[1];var v=c("useCometTheme")("light");v[0];v=v[1];var w=d("MWChatReactionsUtils.bs").isHeart(b[0]),x=m(null);e=c("useFadeEffect")(e);var y=e[0],z=e[1];e=e[2];var A=n(!1),B=A[0],C=A[1],D=m(null);k(function(){D.current!=null&&window.clearTimeout(D.current)},[]);k(function(){s&&(C(!0),D.current!=null&&window.clearTimeout(D.current),D.current=window.setTimeout(function(){D.current=null,C(!1)},600))},[s]);A=c("useMWPThreadTheme")();A=A.threadTheme;A=d("MWPColorUtils").int64ToHex(A.fallbackColor);var E=A+"40";E="linear-gradient(0deg, "+E+", "+E+"), #FFFFFF";var F=d("I64").to_string(p.count),G=F.length;return i.jsxs("div",{className:c("stylex")(p.viewerIsReactor?v:null),onFocus:g,onMouseEnter:h,onMouseLeave:j,children:[i.jsx(c("CometPressable.react"),{onPress:function(){q(b.join(""),p.viewerIsReactor)},overlayRadius:100,ref:x,xstyle:o.emojiRowContainer,children:i.jsxs("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",style:p.viewerIsReactor?{background:E}:null,children:[i.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm",children:i.jsx("div",{className:c("stylex")(s||B?o.animatedEmoji:!1,w?o.scaleHeartEmoji:!1),children:i.jsx(c("MWChatReactionEmoji.bs"),{emoji:b,size:16,testid:void 0})})}),i.jsx("div",{className:"xi81zsa x1nxh6w3 x1s688f x1k2j06m x10ogl3i x2b8uid","data-testid":void 0,role:"none",style:p.viewerIsReactor?{color:A,minWidth:G*9}:{minWidth:G*9},children:F})]})}),y&&i.jsx(u,{children:i.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:x,position:"above",ref:e,children:i.jsx("div",{style:c("gkx")("571")?null:r,children:i.jsx(c("MWXPopover.react"),{withArrow:c("gkx")("571"),children:i.jsx("div",{className:c("stylex")(t,o.tooltipContainer,z&&o.tooltipContainerVisible),role:"tooltip",children:i.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:i.jsx(c("MWChatMultiReactionsTooltip.react"),{messageId:f.messageId,onTooltipCTAPress:function(){return l(p.reactionFbid,b.join(""))},reactionFbid:p.reactionFbid,threadKey:a})})})})})})})]})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWXTooltip.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={mask:{backgroundColor:"xcrg951",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return h.jsx("div",{className:c("stylex")(i.root,d("MWPThreadThemeGradientUtils").isGradient(f)?i.mask:!1),"data-testid":void 0,children:h.jsx("div",{className:c("stylex")([i.singleSeenHeadRow,a]),children:h.jsx(c("MWXTooltip.react"),{align:g==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:h.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:d("I64").of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("MWChatTabInThreadBanner.react",["CometErrorBoundary.react","CometPlaceholder.react","LSMessagingThreadTypeUtil","MWLSInThreadBannerComponent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;if(d("LSMessagingThreadTypeUtil").isSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("MWLSInThreadBannerComponent.bs"),{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XMessengerHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("MWV2ChatTab.react",["CometErrorBoundary.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJID","MAWInThreadBannerNuxReqCondWrapper.react","MAWThreadCutover","MWChatConnectionStatusCard.react","MWChatEncryptedBackupsUpsellWrapper.react","MWChatInteraction.bs","MWChatStateContext","MWChatTabInThreadBanner.react","MWOpenAndSecureThreadView.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabComposer.react","MWV2ChatTabHeader.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ComposerHasContentContext.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MWV2TabContainer","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:1113","cr:6111","cr:8060","cr:8061","emptyFunction","gkx","promiseDone","react","useC4gEngagementImpressionLogging","useMWV2EnsureThatChatTabExists","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useRef,k=(e=b("cr:8061"))!=null?e:function(a,b){return[!1,!0,null]},l=(e=b("cr:1113"))!=null?e:c("emptyFunction");function m(a){var e=a.otherContactForDefaultE2eeThread,f=a.shouldUseDefaultE2eeOneToOne,g=a.tab;a=a.thread;var i=a.themeFbid,k=a.threadKey,m=a.threadSubtype,n=a.threadType;l({groupThreadSubtype:m,threadKey:k,threadType:n});c("useC4gEngagementImpressionLogging")({threadKey:k,threadType:n});m=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(167),a);var o=!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),a);n=d("LSMessagingThreadTypeUtil").isSecure(n);var p=j({getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction")}),q=d("MWChatStateContext").useChatState(function(a){return a.focusedTabId});q=h.jsxs(h.Fragment,{children:[g.tabId!==q?null:h.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:a}),n?h.jsx(c("MAWInThreadBannerNuxReqCondWrapper.react"),{thread:a}):null,h.jsx(c("MWChatConnectionStatusCard.react"),{}),h.jsx(c("MWChatTabInThreadBanner.react"),{thread:a}),h.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:o,thread:a,children:[h.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",messageListRef:p,thread:a}),h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h.jsx(c("MWV2ErrorComposer.bs"),{})},children:h.jsx(c("MWV2ChatTabComposer.react"),{afterSendMessage:function(){var a;(a=p.current)==null?void 0:a.jumpToMostRecentMessage()},isPreviewThread:!1,tab:g,thread:a})})]})]});o=b("cr:6111")!=null&&m?h.jsx(b("cr:6111"),{tab:g,thread:a,children:q}):null;m=function(a){return f?h.jsx(h.Fragment,{children:a}):h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:k,children:a})};return h.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:i,children:h.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:k,children:m(h.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:h.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(d("MWV2ComposerHasContentContext.bs").MWV2ComposerHasContentContextProvider,{children:o!=null?o:f&&b("cr:8060")!=null?h.jsx(b("cr:8060"),{otherContactForDefaultE2eeThread:e,tab:g}):h.jsxs(c("MWV2TabContainer"),{tab:g,threadKey:a.threadKey,children:[h.jsx(c("MWV2ChatTabHeader.react"),{tab:g,thread:a}),n?h.jsx(c("MWChatEncryptedBackupsUpsellWrapper.react"),{children:q}):q]})})})})}))})})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a,b){var e=(d("MAWThreadCutover").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(128),b))&&c("gkx")("7595");b=d("MAWThreadCutover").useGetCutoverSecureThreadKey(d("I64").to_string(a));var g=c("gkx")("7595")?b:null,h=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){if(!e)return;if(g==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(h,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJID")(a,c("LSFactory")(b))},"readwrite"));else{var b=d("MWChatInteraction.bs").get(d("I64").to_string(a));b!=null&&(d("MWChatInteraction.bs").set(g,b),c("InteractionTracingMetrics").addMetadata(b,"thread_id",g),c("InteractionTracingMetrics").addMetadata(b,"thread_type",15..toString()),c("InteractionTracingMetrics").addMetadata(b,"isSecure","true"),c("InteractionTracingMetrics").addMetadata(b,"redirectedFromPreCutover",1))}},[g,h,e,a]);b=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(h.table("threads")).getKeyRange(d("I64").of_string(g)):d("ReQL").empty()},[h,g],f.id+":284");return b};function a(a){var b=a.tab;a=a.threadKeyDescriptor;var e=c("useReStore")(),g=a.threadKey,i=a.clientThreadKey;c("useMWV2EnsureThatChatTabExists")({threadKey:g,threadType:a.threadType});a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(g)},[e,g],f.id+":313");var j=d("ReQLSuspense").useFirst(function(){return i!=null?d("ReQL").fromTableAscending(e.table("threads").index("clientThreadKey")).getKeyRange(i):d("ReQL").empty()},[e,i],f.id+":317"),l=n(g,a);a=(l=(l=l)!=null?l:a)!=null?l:j;l=k(e,g);j=l[0];var o=l[1];l=l[2];if(!o)return h.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b});return a!=null?h.jsx(m,{otherContactForDefaultE2eeThread:l,shouldUseDefaultE2eeOneToOne:a!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&j,tab:b,thread:a}):null}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","Int64Hooks","LSClearCommunityMembersAndRange","LSFactory","LSIssueCommunityMemberListFetch","LSVec","MWChatComposerMentionsViewItem.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=e.useRef,m={view:{minWidth:"x1jzhcrs",$$css:!0}};function n(a,e,g){var h=c("useReStore")(),j=l(""),k=l([]),m=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(h.table("community_members").index("communitySource")).getKeyRange(a,d("I64").of_int32(8),c("pageID")).take(6).map(function(a){var b,c;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.table("contextual_profile_v1")).getKeyRange(a.contactId,g),f.id+":79"))==null?void 0:b.profileName;return{key:d("I64").to_string(a.contactId),label:(c=b)!=null?c:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:b!=null?a.name:a.subtitle},type:"entry"}})},[h,a,g],f.id+":68"),n=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield h.runInTransaction(function(a){return c("LSClearCommunityMembersAndRange")(d("I64").of_int32(8),c("pageID"),void 0,c("LSFactory")(a))},"readwrite"),yield h.runInTransaction(function(f){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").ofArray([d("I64").of_int32(0)]),!1,!1,"","",d("I64").of_int32(8),d("I64").of_string(e),b,c("LSVec").ofArray([]),void 0,c("pageID"),c("LSFactory")(f))},"readwrite")});return function(a){return f.apply(this,arguments)}}(),[h,a,e]),o=i(function(a){return new(b("Promise"))(function(b){(a.query!==j.current||a.query==="")&&(j.current=a.query,c("promiseDone")(n(j.current))),m.length!==0&&(k.current=m),b({entries:m.length===0?k.current:m,params:a})})},[m,n]);return{bootstrap:function(){},fetchCache:void 0,fetchNetwork:o}}function o(a,b,e){var f=n(a,b,e);e=k(function(){return[{dataSource:f,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d("I64").to_string(a),b,f]);return c("useCometMentionsDataSourceResolverConfig")(e,!1)}function a(a){var b=a.editor,e=a.fbGroupId,f=a.folderId;a=a.threadFBID;e=o(e,a,f);a=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view});var g=d("useCommunityMembers").useClearMemberList(8);j(function(){return function(){c("promiseDone")(g(c("pageID")))}},[g]);return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerStickerButtonLegacy.react",["CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWV2ComposerStickerCommon","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButtonLegacy.react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=a.onSelectStickerPack,g=a.onSendMessage;a=a.useSecureSend;g=c("useMWV2ComposerOnStickerSelect")(g,a);var k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{className:"x1fepime",onSelectStickerPack:f,onStickerSelect:g,shouldAlwaysShowAvatarPack:a,shouldHideDefaultPacks:a},popoverResource:i,position:"above",children:function(a,f,g,i,l,m,n){return h.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:h.jsx(c("CometPressable.react"),{"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:e,onHoverIn:i,onHoverOut:l,onPress:function(){f(),k==null?void 0:k({eventName:"composer_open_sticker_picker"})},onPressIn:m,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:h.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsSticker,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandToRangeType=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return i({handle:a.handle})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={view:{minWidth:"x1jzhcrs",$$css:!0}},k=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new k(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:j.view});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMediaManagerUtilsDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWMediaManagerUtils").__setRef("MAWMediaManagerUtilsDeferred");b=a;g["default"]=b}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExists","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useEffect,l=e.useState;function m(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function n(a){var e=a.memberRequests,f=a.setWasClosed;a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var g=a.isExpanded,k=a.isOnMemberRequestsPageRef,l=a.pushMemberRequestsPage,n=a.setIsExpanded,o=a.setShouldNavToMemberRequests;return j.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){k.current!==!0&&(g===!0?l():(o(!0),n(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:m(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var e=a.thread;a=l(!1);var g=a[0],h=a[1],i=c("useReStore")(),m=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(i.table("group_membership_approval_requests")).getKeyRange(e.threadKey).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(a.contactId),f.id+":179");return[a,b]})},[i,e.threadKey],f.id+":174"),o=m.length,p=c("usePrevious")(o);a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var q=a.isOnMemberRequestsPageRef;k(function(){q.current!==!0&&p!==null&&o>p&&h(!1)},[o,p,h,q]);k(function(){var a=m.map(function(a){return a[0].contactId});c("promiseDone")(i.runInTransaction(function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(e))}))},"readwrite"))},[i,m]);return!g&&m.length>0?j.jsx(n,{memberRequests:m,setWasClosed:h}):null}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),c=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(66),a);return c&&b?j.jsx(o,{thread:a}):null}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.thread;return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(p,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("acceptMAWMessageRequest",["I64","LSAddMessengerContact","LSFactory","LSOptimisticAcceptMessageRequest","MAWUpdateLSThreadCapabilities","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g){if(!g||f==null)return;var h=f[1],i=babelHelpers["extends"]({},h,{contactViewerRelationship:d("I64").of_string("2")});c("promiseDone")(a.runInTransaction(function(a){return b("Promise").all([a.table("contacts").upsert({hd:h.id,tl:0},i),c("LSAddMessengerContact")(h.id,c("LSFactory")(a)),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e.threadKey),c("LSOptimisticAcceptMessageRequest")(e.threadKey,void 0,c("LSFactory")(a))])},"readwrite"))}g["default"]=a}),98);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWLogBroadcastChannelFalcoEvent","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","MercuryTimestamp","ReQL","ReQLSuspense","gkx","react","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k=c("gkx")("571")?3:11,l=function(a){var b,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_chat_message_seen_count")).getKeyRange(e.threadKey,e.messageId)},[g,e.threadKey,e.messageId],f.id+":50");var l=(b=d("MWLSThread").useThread(e.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,m=a?d("I64").to_int32(a.seenCount):null;b=d("Int64Hooks").useCallbackInt64(function(){if(!l)return;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:16,parentSurface:k,source:15,surface:7,threadFbid:e.threadKey})},[l,e.threadKey]);var n=c("useSinglePartialViewImpression")({onImpressionStart:b});return j(function(){var a=e.isUnsent,b=e.timestampMs,f=e.unsentTimestampMs;return f!=null&&a?i.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:e.timestampMs,unsentTimestampMs:f}):i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(b)))])}),m!=null?i.jsx("div",{ref:n,children:d("MWMessageDeliveryStatus").getSeenCount(m)}):i.jsx("div",{children:d("MWMessageDeliveryStatus").Titles.loading})]})},[e,n,m])};function a(a){var b=a.children,d=a.message;a=c("MWClickedMessageContext.react").useHook();var e=a.fetchMessageSeenCount;return i.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&e(d.threadKey,d.messageId)},position:"start",tooltip:i.jsx(l,{message:d}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.thread;var b=j(function(){}),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),k=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType);i(function(){e==null&&k&&f(function(){return d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{})});return function(){e==null?void 0:e.dispose()}},[e,g,k]);if(e!=null)return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:e,props:{}})})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M21.3905 21.9975C21.1611 21.9975 20.9611 22.1536 20.9054 22.3762L19.2424 29.0265C18.9197 30.319 17.0805 30.3185 16.7577 29.0265L15.0947 22.3762C15.039 22.1536 14.839 21.9975 14.6096 21.9975H10.1675C9.21767 21.9975 8.68955 20.933 9.19619 20.1815C9.61488 19.5605 10.7291 18.1525 12.7846 17.1415C13.0959 16.9885 13.2942 16.6755 13.3207 16.33C13.4196 15.046 13.6545 12.991 13.7564 11.669C13.7849 11.3 13.606 10.945 13.2912 10.751C12.1855 10.0695 11.526 9.2765 11.2157 8.837C10.6741 8.07 11.2122 7 12.163 7H23.8376C24.7879 7 25.3255 8.0705 24.7844 8.837C24.4741 9.2765 23.8141 10.0695 22.7089 10.751C22.3941 10.945 22.2158 11.3 22.2437 11.669C22.3457 12.991 22.5805 15.046 22.6794 16.33C22.7059 16.6755 22.9048 16.9885 23.216 17.1415C25.2711 18.1525 26.3853 19.5605 26.8039 20.1815C27.3101 20.933 26.783 21.9975 25.8327 21.9975H21.3905Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUX.react",["fbt","MDSPinMessageIcon.react","MWLSThreadCapabilities.bs","MWPMessageListColumn.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__UnoAJjMNsJN__JHASH__");function a(){var a=d("MWLSThreadCapabilities.bs").useCapabilities();a=d("MWLSThreadCapabilities.bs").canPinMessage(a);return a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np xr9ek0c",children:[i.jsx(c("MDSPinMessageIcon.react"),{color:"tertiary",size:16}),i.jsx("div",{className:"x12mruv9",children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWSimpleNuxViewsCounter.react",["MWInboxPersistedUIState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=3,j=24*60*60*1e3,k=function(a,b){return+new Date()<b+a},l=function(a){return k(j,a.lastViewDate)},m=function(a){return a.views>=i},n=function(a){return!!a&&!l(a)&&!m(a)},o=function(a){return{lastViewDate:+new Date(),views:a.views+1}},p={lastViewDate:0,views:0};function a(a,b,c){a=d("MWInboxPersistedUIState").usePersistedUIState(p,"__MWSimpleNux."+a+"__");var e=a[0],f=a[1];h(function(){if(!b)return;if(l(e))return;return function(){var a=o(e);m(a)?(f(void 0),c()):f(a)}},[b,c,e,f]);return n(e)}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapper.react",["MWPinnedMessageRowFooterNUX.react","declareNUXRequireable","react","useMWSimpleNuxViewsCounter.react","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useSharedNUX")(a),d=b[0];b=b[1].onDismiss;a=c("useMWSimpleNuxViewsCounter.react")(a,d,b);return d&&a?h.jsx(c("MWPinnedMessageRowFooterNUX.react"),{}):null}a.displayName=a.name+" [from "+f.id+"]";b=c("declareNUXRequireable")(a);g["default"]=b}),98);
__d("MAWAttachmentBlob.react",["LSSuspense","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","Promise","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function j(a){var e=h.get(a);if(e!=null)if(e.TAG===0)return c("LSSuspense").throwErrorOrPromise(e.value);else return e.value;e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10))}).then(function(c){h.set(a,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(d){h.set(a,{TAG:1,value:""});c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:d});return b("Promise").resolve()});h.set(a,{TAG:0,value:e});return c("LSSuspense").throwErrorOrPromise(e)}function a(a){if(a!=null&&a.hasMedia!==!1)return j(a.attachmentFbid);else if(a!=null&&a.hasXma!==!1)return k(a,"preview");else return""}function k(a,e){if(a==null)return"";var f=i.get(a.attachmentFbid+e);if(f!=null)if(f.TAG===0)return c("LSSuspense").throwErrorOrPromise(f.value);else return f.value;f=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{infoType:e,xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}).then(function(c){i.set(a.attachmentFbid+e,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(c){i.set(a.attachmentFbid+e,{TAG:1,value:""});return b("Promise").resolve()});i.set(a.attachmentFbid+e,{TAG:0,value:f});return c("LSSuspense").throwErrorOrPromise(f)}g.getAttachmentBlobNonOptional=j;g.getAttachmentBlob=a;g.getInfoUrlXMA=k}),98);
__d("MAWMessageRetryButton.react",["fbt","MAWBridgeFireAndForget","MAWDbMsg","MWXButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.message;var b=d("MAWDbMsg").toMsgId(a.messageId);return b!=null&&i.jsx(c("MWXButton.react"),{label:h._("__JHASH__0lUI7bmWtlT__JHASH__"),onPress:function(){return d("MAWBridgeFireAndForget").fireAndForget("backend","retryUploadMedia",{msgId:b})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWAdminViewLogins.react",["fbt","CometPressable.react","JSResourceForInteraction","MWPBumpEntityKey","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xz94kzr",cursor:"x1ypdohk",display:"x1rg5ohu",fontWeight:"xo1l8bm",marginStart:"xsgj6o6",$$css:!0}};function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MAWTrustedLoginsDialog.react").__setRef("MAWAdminViewLogins.react")),b=a[0];return i.jsx(c("CometPressable.react"),{onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","trusted_logins");return b({},function(){})},xstyle:j.content,children:h._("__JHASH__D2IrBdmxyUD__JHASH__").toString()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWQPLLogger",["QPLUserFlow","Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){return h(function(){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLFailure:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["I64","LSFactory","LSIssueMessagesRangeQuery","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","gkx","promiseDone","qpl","react","useMAWQPLLogger","useMWEncryptedBackupsIssueRangeQueryDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=a.useCallback,i=a.useMemo;e={useFetchCutoverMessages:function(a,e,g){var i=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("messages_ranges_v2__generated")).getKeyRange(a)},[i,a],f.id+":44"),k=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(i.table("messages_ranges_v2__generated")).getKeyRange(e):d("ReQL").empty()},[i,e],f.id+":51"),l=h(function(a){c("promiseDone")(i.runInTransaction(function(d){if(e!=null&&k!=null)return c("LSIssueMessagesRangeQuery")(e,k.minTimestampMs,a,c("LSFactory")(d));else return b("Promise").resolve()},"readwrite"))},[i,k,e]),m=c("useMWEncryptedBackupsIssueRangeQueryDeferred")();return h(function(b){if(j==null)return;var e=j.hasMoreBefore,f=d("MAWDbMsg").toMsgId(j.minMessageId);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i,a,"MAWFetchMoreMessages",function(a,c,g){d("MAWInternalLog").internalLog("useFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"before",numMsgs:10,offsetMsgId:f,threadId:c}).then(function(a){d("MAWInternalLog").internalLog("useFetchCutoverMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:f,threadId:c}).then(function(a){m(c,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero);if(!e)return l(b)})})}))},[j,i,a,m,l])},useFetchSecureMessages:function(a){var e=c("useReStore")(),f=c("useMWEncryptedBackupsIssueRangeQueryDeferred")(),g=d("useMAWQPLLogger").useMAWQPLLogger(c("qpl")._(25303796,"1974")),h=g.addQPLAnnotations,j=g.markQPLFailure,k=g.markQPLPoint,l=g.markQPLStart,m=g.markQPLSuccess;return i(function(){return function(g,i,n){var o=l();function p(a){k(o,"load_more_msgs_success","successfully loaded messages from worker"),h(o,a)}d("MAWInternalLog").internalLog("useFetchSecureMessages: started to get message range");k(o,"before_start_load_more_msgs","before fetching messages range from table");h(o,{string:babelHelpers["extends"]({direction:n,thread_id:d("I64").to_string(i)},a!=null?{thread_type:d("I64").to_string(a)}:{})});return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("messages_ranges_v2__generated")).getKeyRange(i)).then(function(a){if(a!=null&&!a.isLoadingBefore&&n==="before"){k(o,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,i,"MAWFetchMoreMessages",function(b,e,h){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");k(o,"put_message_range","put txn in messages_ranges_v2__generated table");return g.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:!0,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),k(o,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:n,numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:e}).then(function(b){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+b.hasMoreBefore.toString());p({bool:{hasMoreBefore:b.hasMoreBefore}});if(b.hasMoreBefore){m(o);return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:e}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);k(o,"issued_range_query","useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);m(o);return f(e,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero)})}))})})["catch"](function(a){j(o,a)})}if(c("gkx")("8830")&&a!=null&&!a.isLoadingAfter&&n==="after"){k(o,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,i,"MAWFetchMoreMessages",function(b,e,f){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return g.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),k(o,"send_loadMoreMsgs_to_backend","useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"after",numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.maxMessageId),threadId:e}).then(function(a){p({bool:{hasMoreAfter:a.hasMoreAfter}}),d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreAfter.toString())})["catch"](function(a){j(o,a)}))})})["catch"](function(a){j(o,a)})}h(o,{bool:{isLoadingAfter:a==null?void 0:a.isLoadingAfter,isLoadingBefore:a==null?void 0:a.isLoadingBefore}});k(o,"already_loading_messages","end the load more QPL event.");m(o);return b("Promise").resolve()})["catch"](function(a){j(o,a)})}},[h,e,f,j,k,l,m,a])}};a=e;g["default"]=a}),98);
__d("MAWHotLike.react",["MWPColorUtils","MessengerHotLikeSVGReact.bs","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={likePreview:{display:"x78zum5","float":"x1guec7k",height:"x1dnml7z",width:"x7tvc40",$$css:!0},noCustomLikePreview:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function a(a){a=a.xstyle;var b=c("useMWPThreadTheme")();b=d("MWPColorUtils").int64ToHex(b.threadTheme.fallbackColor);return h.jsx("div",{className:c("stylex")(i.likePreview,i.noCustomLikePreview,a),children:h.jsx(d("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEphemeralAdminMsgCta.react",["CometPressable.react","CometTextWithEntities.react","JSResourceForInteraction","react","useMWXLazyDialog","useThreadJid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MAWEphemeralSettingsDialog.react").__setRef("MAWEphemeralAdminMsgCta.react");function a(a){var b=a.threadKey;a=a.title;var d=c("useThreadJid")(b),e={getThreadJid:d,threadKey:b};d=c("useMWXLazyDialog")(i);var f=d[0],g=function(){return f(e)};return h.jsx(c("CometPressable.react"),{onPress:function(){return g()},children:h.jsx(c("CometTextWithEntities.react"),{text:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListProtectedMedia.bs",["fbt","$InternalEnum","CometPressable.react","MWLSThreadDisplayContext","MWVerticalRhythm","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useMemo,k=e.useRef,l=e.useState,m=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),n={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function o(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._("__JHASH__ffo2a6Rimy8__JHASH__"),f=h._("__JHASH__SmhjEO8LZM7__JHASH__"),g=h._("__JHASH__fSHhveuOoUn__JHASH__"),j=h._("__JHASH__9LbnXUNEOkH__JHASH__"),k=h._("__JHASH__grSMjsZRe9-__JHASH__"),l=h._("__JHASH__4a9auIct2D0__JHASH__"),n=h._("__JHASH___nqNxb75_gn__JHASH__"),o=h._("__JHASH__cegqh2566-V__JHASH__"),p=h._("__JHASH__NU6koyzdQfy__JHASH__");f=i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===m.Unprotected?null:i.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:i.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:d===m.Protected?i.jsxs(i.Fragment,{children:[f,a?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?k:b==="Video"?j:l})]}):null]}):i.jsxs(i.Fragment,{children:[f,i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?o:b==="Video"?n:p})]})})},d)}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.linkProps,g=a.mediaType,h=a.onPress,p=h===void 0?c("emptyFunction"):h;h=a.overlayDisabled;h=h===void 0?!1:h;var q=a.testid,r=a.type,s=a.url;q=a.xstyle;a=a.uncoverable;a=a===void 0?!0:a;var t=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),u=l(m.Protected),v=u[0],w=u[1],x=v===m.Unprotected;u=v===m.Blurred;var y=k(null),z=j(function(){return{url:"#"}},[]),A=j(function(){if(r==="video")return;if(s!=null)return{backgroundImage:"url("+s+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[s,r]);t=i.jsxs("div",{className:c("stylex")(n.container,t==="Inbox"?n.containerForInbox:!1,a?n.containerUncoverable:!1),children:[i.jsx("div",{style:A}),i.jsx("div",{"aria-hidden":!x,className:c("stylex")(n.overlay,!x&&n.overlayDisabled,u&&n.overlayBlurred),children:e}),x?null:i.jsx("div",{className:c("stylex")(n.sneezeguard,u&&n.sneezeguardTransparent)}),i.jsx(o,{mediaType:g,state:v,uncoverable:a})]});return!a?i.jsx("div",{className:c("stylex")(q,n.pressable),"data-testid":void 0,children:t}):i.jsx(c("CometPressable.react"),{"aria-label":x?b:void 0,linkProps:x?f:z,onPress:function(){x?p():w(function(a){switch(a){case m.Protected:return m.Blurred;case m.Blurred:c("setTimeout")(function(){var a=y.current;if(a!=null)return a.focus()},0);return m.Unprotected;case m.Unprotected:return a}})},overlayDisabled:h,ref:y,testid:void 0,xstyle:[q,n.pressable],children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=c("useReStore")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return h(function(g){var h=g.linkUrl;g=d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(f)).then(function(e){if(e!=null){e=d("I64").equal(e.threadType,d("LSIntEnum").ofNumber(1))?c("getRingbackUrl")(h,d("I64").to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),h);return b("Promise").resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve()});c("promiseDone")(g,void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a(a){if(!a)return"0";var b="";while(a>0)b=g[a%62]+b,a=Math.floor(a/62);return b}f["default"]=a}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MNCommerceCTAProcessor").logCTAClick(a)}function b(a,b){c("MNCommerceCTAProcessor").process(a,(a=b)!=null?a:void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.entryPoint,e=a.threadKey,f=a.threadType,g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),h=c("CometDebounce")(function(){b!=null&&c("logMessengerWebFalcoEvent")({threadKey:e,threadType:f},"seen_receipt",b),g==null?void 0:g({entryPoint:b,eventName:"read_receipt",threadKey:e,threadType:f})});return d("Int64Hooks").useCallbackInt64(function(){return h()},[h])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6107272026057140"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c},params:{id:b("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5832261760118587"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4589106431193063"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function a(a){var c=a.action_content_blob,e=a.config;return new(b("Promise"))(function(a,b){d("CometRelay").commitMutation(e.environment,{mutation:i,onCompleted:function(b){a((b=b.results)==null?void 0:b.success)},onError:function(a){b(a)},variables:{input:{action_content_blob:c}}})})}g["default"]=a}),98);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialog.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){return h.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.urls.map(function(a){return h.jsx("li",{className:"x1yu6fn4",children:h.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:h.jsx(c("BaseImage.react"),{src:a,xstyle:i.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=i(function(){return b.map(j).filter(Boolean)},[b]);return h.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:h.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.bs","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{role:"gridcell",children:h.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:h.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=h.jsx("div",{className:"x1ye3gou",children:h.jsx(c("MWChatFileIconV2.react"),{})});b=b!=null?b.previewUrl:void 0;if(b==null)return f;if(!a)return f;f=(a=d)!=null?a:"";return h.jsx(c("CometImageCover.react"),{alt:f,src:b,style:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageInsetShadow.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={imageShadow:{borderTop:"xa1me7u",borderEnd:"x13z1dwb",borderBottom:"xpkj8wx",borderStart:"x1g8y7dm",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};function a(a){a=a.xstyle;return h.jsx("div",{className:c("stylex")(i.imageShadow,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExists","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useMemo;function a(a,e){var f=c("useReStore")(),g=c("useMWBaseChatOpenTabForUser")(void 0,e),j=g[0],k=c("useMWChatOpenTabForPage")(e),l=d("MWPActor.react").useActor(),m=i(function(){return new(b("Promise"))(function(b,e){e=d("ReQL").mergeJoin(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,l)}),d("ReQL").fromTableAscending(f.table("contacts")));var g={contents:function(){}};g.contents=e.subscribe(function(a,e){if(e.operation==="delete")return;a=e.value[1];if(d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g.contents();return b(a)}});c("promiseDone")(d("ReQL").firstAsync(e),function(e){if(e!=null){e=e[1];if(d("I64").ge(e.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g.contents();return b(e)}else return}c("promiseDone")(f.runInTransaction(function(b){return c("LSVerifyThreadRowExists")(a,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(1),c("LSFactory")(b))},"readwrite"))})})},[a,f]);return h(function(){c("promiseDone")(m,function(b){var e=d("I64").to_string(a);b=b.contactType;if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)))return k(e,!1);else return j(e,!1)})},[m,j,k,a])}g["default"]=a}),98);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","I64","LSFactory","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSResumeMediaSendJob","LSShape","LSThreadAttributionTypeUtil.bs","LSVec","MWPActor.react","MWThreadKey.react","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType","Promise","URI","XComposerPhotoUploader","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function i(a,e,f,g,h,i,j){var k=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachments")(e,f,d("LSIntEnum").ofNumber(1),void 0,void 0,!1,void 0,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,c("LSVec").ofArray([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:k,attachment_index:d("I64").zero,attachment_type:d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:k,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),void 0,c("LSFactory")(a)).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:d("I64").of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return b("Promise").resolve([e,k])})})}function a(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),j=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return h(function(){return function(h,k,l){var m=d("I64").to_string(g),n=function(a){var e=a[1],g=a[0],h=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=f.runInTransaction(function(a){return c("LSInsertNewMediaSend")(e,g,d("I64").zero,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE),!1,!1,!1,!1,c("LSFactory")(a))},"readwrite");c("promiseDone")(a)},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];var h=a.image_id;if(h==null)return;b=f.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2")(e,d("I64").of_string(h.toString()),void 0,void 0,void 0,c("LSFactory")(a)).then(function(){return c("LSResumeMediaSendJob")(g,d("I64").zero,void 0,c("LSFactory")(a))})},"readwrite");c("promiseDone")(b)},retryLimit:1,uploadEndpoint:d("ActorURI").create(new(c("URI"))(c("MercuryConfig").upload_url),m)});a=window.fetch(l).then(function(a){return a.blob()}).then(function(a){h.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return b("Promise").resolve()});c("promiseDone")(a)},o=d("LSThreadAttributionTypeUtil.bs").getSource(j,a),p=f.runInTransaction(function(a){var b;return c("LSOptimisticSendMessage")(g,j,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h,h,!1,void 0,void 0,void 0,void 0,o,void 0,void 0,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,(b=e)!=null?b:void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite").then(function(a){return f.runInTransaction(function(a){return i(a,g,j,l,k,o,e).then(function(a){n(a)})},"readwrite")});c("promiseDone")(p)}},[f,g,j])}g.usePostbackCtaHandler=a}),98);
__d("MWLSPostbackCtaHandler.bs",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWPActor.react","MWThreadKey.react","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(h,i){var j=d("LSThreadAttributionTypeUtil.bs").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){var g;return c("LSOptimisticSendMessage")(b,e,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),i,i,!1,void 0,void 0,void 0,void 0,j,void 0,h,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,(g=f)!=null?g:void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler.bs",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs")),b=a[0];return h(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTA","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return h(function(d,e,f,g){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTA")(d,b,e,f,g,c("LSFactory")(a))},"readwrite"))},[a,b])}g["default"]=a}),98);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){if(a){e((a=a.messenger_feedback_form_state)==null?void 0:a.form_state)}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatPollXMAActionHandler.bs",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("MWChatPollXMAActionHandler.bs")),e=b[0];return h(function(b,c){return e({pollId:b,threadKey:a,title:c},function(){})},[e])}g.useHandler=a}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("useCommunityMembers",["I64","Int64Hooks","LSClearCommunityMembersAndRange","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","MWCMThreadTypes.react","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var g=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_members_ranges_v2__generated")).getKeyRange(a).filter(function(a){if(a.requestId!==b)return!1;return e!=null?a.isAdmin===e:!0})},[g,a,e,b],f.id+":42")}function e(a){a===void 0&&(a=7);var b=c("useReStore")();return h(function(e){return b.runInTransaction(function(b){return c("LSClearCommunityMembersAndRange")(d("LSIntEnum").ofNumber(a),e,void 0,c("LSFactory")(b))},"readwrite")},[b,a])}function i(a){var e=a.fbGroupId,f=a.thread,g=a.showAdmodsOnly,h=g===void 0?!1:g;g=a.source;var i=g===void 0?d("I64").of_int32(7):g,j=a.requestId,k=c("useReStore")(),l=f.threadKey,m=f.threadType;d("Int64Hooks").useEffectInt64(function(){var a=c("LSVec").ofArray(h?[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(2)]:[d("LSIntEnum").ofNumber(0)]),f=d("MWCMThreadTypes.react").isBroadcastThread(m)?[d("LSIntEnum").ofNumber(0)]:[],g=function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield k.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(e,a,!1,!1,"","",i,d("I64").equal(i,d("I64").of_int32(0))?void 0:l,void 0,c("LSVec").ofArray(f),void 0,j,c("LSFactory")(b))},"readwrite")});return function(){return g.apply(this,arguments)}}();c("promiseDone")(g())},[k,e,l,m,h,i,j])}g.useCommunityMembersRanges=a;g.useClearMemberList=e;g.useFetchCommunityMembers=i}),98);
__d("useMWCMIsSenderChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetch","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var g,h=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(h.runInTransaction(function(f){return c("LSIssueCommunityAdminModerationActionsFetch")(a,e,d("LSIntEnum").ofNumber(14),b,c("pageID"),c("LSFactory")(f))},"readwrite"))},[h,a,e,b]);return(g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("community_members")).getKeyRange(a,e,d("LSIntEnum").ofNumber(14),c("pageID")).map(function(a){return d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a)})},[h,a,e],f.id+":53"))!=null?g:!1}g["default"]=a}),98);
__d("MWCMSubthreadXMAIcons",["MWXIcon.react","SVGIcon","cr:6167","cr:6168","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){a=a.color;if(b("cr:6168")!=null)return h.jsx(c("MWXIcon.react"),{color:a,icon:d("SVGIcon").svgIcon(b("cr:6168")),size:16});return b("cr:6167")!=null?h.jsx(c("MWXIcon.react"),{color:a,icon:d("SVGIcon").svgIcon(b("cr:6167")),size:16}):null};g.ChevronRightIcon=a}),98);
__d("MWChatForwardAction.bs",["CometPressable.react","MWChatColors.bs","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","useMWChatForward"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{opacity:"x1hc1fzr",$$css:!0}},j=h.jsx("svg",{"aria-hidden":!0,height:"22px",viewBox:"0 0 36 36",width:"22px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function k(a){d("ODS").bumpEntityKey(3185,"mwchat_actions","forward"),a==null?void 0:a.onClick()}function a(a){var b=a.dropToggle;b=b===void 0?!1:b;var e=a.forwardDialogType;e=e===void 0?"open_":e;var f=a.label,g=a.messageID;a=a.onForward;var l=c("useMWChatForward")({dropToggle:b,forwardDialogType:e,messageID:g,onClose:c("emptyFunction"),onSend:a});return h.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:f,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:h.jsx(c("CometPressable.react"),{"aria-label":f,expanding:!0,onPress:function(){return k(l)},overlayDisabled:!0,role:c("gkx")("1224637")?"menuitem":"button",testid:void 0,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon,i.icon),children:j})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){a=a.children;var b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext(),e=b.openReactionsMenu,f=i(function(){return e.current()},[e]);b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var g=b.replyToMessage,k=i(function(){return g.current()},[g]);b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var l=b.forwardMessage,m=i(function(){return l.current()},[l]);b=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var n=b.removeMessage,o=i(function(){return n.current()},[n]);b=j(function(){var a=[],b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","replyToMessage",k);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","forwardMessage",m);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);a.push(b);return a},[f,k,m,o]);return h.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWPBaseMessageListRowActions.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",width:"x1ll7btr",$$css:!0}};function j(a){var b=a.children;a=a.outgoing;return h.jsx("div",{className:c("stylex")(i.root,a?i.outgoing:i.incoming),role:"none",children:b})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.children;return h.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.ariaHidden,d=a.children,e=a.hasReactions;a=a.outgoing;return h.jsx("div",{"aria-hidden":(b=b)!=null?b:!1,className:c("stylex")(k.root,e?k.moveUpToAccountForReactions:!1,a?k.outgoing:k.incoming),children:h.jsx(j,{outgoing:a,children:d})})}b.displayName=b.name+" [from "+f.id+"]";var k={incoming:{paddingStart:"x1t2a60a",$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};g.MWPBaseMessageListRowActionsList=j;g.MWPBaseMessageListRowActionsListItem=a;g.MWPBaseMessageListRowActionsContainer=b}),98);
__d("MDSContextualMenuIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[h.jsx("circle",{cx:"11",cy:"6",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"11",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"16",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPCanUserEditMessage",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","gkx","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=d("I64").of_int32(15*60);function j(a,b){a=d("I64").of_float(a/1e3);b=d("I64").div(b,d("I64").of_int32(1e3));a=d("I64").sub(a,b);return d("I64").lt(a,i)}function a(a,b){var e,g,i=d("LSMessagingThreadTypeUtil").isSecure(b.threadType),k=d("MWPActor.react").useActor(),l=c("useReStore")(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("attachments")).getKeyRange(b.threadKey,a.messageId)},[l,a.messageId,b.threadKey],f.id+":50");i=c("gkx")("8016")&&i;e=d("I64").to_int32((e=a.editCount)!=null?e:d("I64").zero)<h;var n=c("useServerTime")();n=j(n.getTime(),a.timestampMs);k=d("I64").equal(a.senderId,k);var o=a.text!=null&&a.text!=="";g=d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").zero,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").NONE));m=((m=m==null?void 0:m.hasXma)!=null?m:!1)||a.mentionIds!=null;var p=a.isUnsent===!1&&d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));return i&&e&&n&&k&&o&&g&&!m&&p}g["default"]=a}),98);
__d("MWV2ContextualActionsButton.react",["fbt","CometPressable.react","I64","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MDSContextualMenuIcon.react","MWCMThreadTypes.react","MWPActor.react","MWV2LogMessageClick.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","MWXDeferredPopoverTrigger.react","MWXTooltip.react","ReQL","ReQLSuspense","emptyFunction","gkx","react","requireDeferred","useIsReadOnlyFeatureLimitedWithThreadType","useMWPCanRemoveMessageGlobally","useMWPCanUserEditMessage","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=c("requireDeferred")("MWV2ContextualActionsMenu.react").__setRef("MWV2ContextualActionsButton.react");function a(a){var b=a.canRemoveMessageGlobally,e=a.closeActionsMenu,g=a.extraActions,n=a.isSubthreadParentMessage;n=n===void 0?!1:n;var o=a.learnMoreOnMessageRemove,p=a.message,q=a.onRemoveMessageLogger,r=a.removeMessageDialogTitle,s=a.setMoreMenuOpen,t=a.showCreateSubthread;t=t===void 0?!1:t;var u=a.showForwardActionInContextualMenu,v=a.showReplyActionInContextualMenu,w=a.thread,x=c("useReStore")(),y=h._("__JHASH__I1DdCdLzOkz__JHASH__");a=c("useMWPCanRemoveMessageGlobally")(w,p);var z=c("useMWPCanUserEditMessage")(p,w),A=d("MWCMThreadTypes.react").isJoinedCMThread(w.threadType),B=c("useIsReadOnlyFeatureLimitedWithThreadType")(w.threadType),C=d("ReQLSuspense").useFirst(function(){return A||d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType)?d("ReQL").fromTableAscending(x.table("participants")).getKeyRange(d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType)?w.parentThreadKey:w.threadKey,p.senderId):d("ReQL").empty()},[A,x,w.threadType,w.parentThreadKey,w.threadKey,p.senderId],f.id+":131"),D=d("ReQLSuspense").useFirst(function(){return A?d("ReQL").fromTableAscending(x.table("contacts")).getKeyRange(p.senderId):d("ReQL").empty()},[x,A,p.senderId],f.id+":153"),E=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(93),w),F=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(102),w),G=d("LSMessagingThreadTypeUtil").isSecure(w.threadType);B=(!G||d("MAWGating").isFeatureLimitEnabled())&&B;var H=!B,I=d("MWPActor.react").useActor();D=D!=null&&((D=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(77),D))!=null?D:!1);n=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(172),w)&&!p.isUnsent&&!n&&!d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType);var J=p.isUnsent,K=!1;A||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(w.threadType)||d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType)?K=!J&&a:G?K=!B:K=F&&H;J=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2ContextualActionsButton.react"));var L=J[0];a=(C==null?void 0:C.isAdmin)===!0;G=p.unsentTimestampMs!=null;B=(d("MWCMThreadTypes.react").isJoinedCMThread(w.threadType)||d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType))&&E&&!a&&!d("I64").equal(I,p.senderId)&&!G&&!D;F=(d("MWCMThreadTypes.react").isJoinedCMThread(w.threadType)||d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType))&&!d("I64").equal(I,p.senderId)&&!G;H=j(function(){var a={message:p,removeLogger:q,thread:w};return L(a,c("emptyFunction"))},[p,q,L,w]);J=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var M=J.removeMessage;K?M.current=H:M.current=c("emptyFunction");var N=j(function(){if(c("gkx")("3417")){M.current=c("emptyFunction");return}},[M]);l(function(){return N},[N]);var O=k(d("MWV2MessageRowIsRowFocusedContext.bs").context);return!(u||v||n||K||F||z||g!=null)?null:i.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:function(a){s(function(){return a});return O.setFocused(function(){return a})},popoverProps:{canRemoveMessageGlobally:b,closeActionsMenu:e,extraActions:g,learnMoreOnMessageRemove:o,message:p,onRemoveMessageLogger:q,removeMessageDialogTitle:r,showCreateSubthread:t,showEditInContextualMenu:z,showForwardActionInContextualMenu:u,showPinMessageActionInContextualMenu:n,showReplyActionInContextualMenu:v,showReportCommunityMessageToAdmin:B,showReportCommunityMessageToFacebook:F,showUnsendInContextualMenu:K,thread:w},popoverResource:m,popoverType:"menu",position:"above",children:function(a,b){var e=function(){b();return d("MWV2LogMessageClick.bs").log(x,p,48)};return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:y,children:i.jsx(c("CometPressable.react"),{"aria-label":y,expanding:!0,onPress:e,overlayDisabled:!0,ref:a,testid:void 0,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSContextualMenuIcon.react"),{})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ForwardMessageButton.bs",["fbt","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MAWGating","MWChatForwardAction.bs","MWChatMessageId","ReQL","ReQLSuspense","react","useMWV2ForwardMessage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a.threadKey)},[b,a.threadKey],f.id+":36")}function a(a){var b=a.message,e=j(b),f=d("LSMessagingThreadTypeUtil").isSecure(e.threadType),g=d("MAWGating").isCrossForwardEnabled();f=f?g?"cross_transport":"secure":g?"cross_transport":"open_";g=d("MWChatMessageId").makeSent(d("I64").to_string(b.threadKey),b.messageId,d("I64").to_string(b.timestampMs));var k=b.stickerId,l=c("useMWV2ForwardMessage")(b);e=!d("LSMessagingThreadTypeUtil").isSecure(e.threadType);b=d("LSBitFlag").has(d("LSIntEnum").ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has(d("LSIntEnum").ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(512),b.displayedContentTypes)||k!=null&&d("I64").equal(k,d("I64").of_string("369239263222822"))||k!=null&&d("I64").equal(k,d("I64").of_string("369239343222814"))||k!=null&&d("I64").equal(k,d("I64").of_string("369239383222810"));k=e&&!b||a.dropForwardE2eeToggle===!0;return i.jsx(c("MWChatForwardAction.bs"),{dropToggle:k,forwardDialogType:f,label:h._("__JHASH__GvPr2MwluxY__JHASH__"),messageID:g,onForward:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSReplyActionSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("svg",{height:"22px",viewBox:"1 1 21 21",width:"22px",children:h.jsx("g",{className:"x148u3ch",fillRule:"evenodd",strokeWidth:"1",children:h.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.createElement;function a(){}var i=e(a);function b(a){var b=a.children;a=a.value;return h(i.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.context=i;g.MWV2MessageListIsRowModalContextProvider=b}),98);
__d("MWV2ReplyButton.react",["fbt","CometPressable.react","MAWEditMessageContext.react","MDSReplyActionSvgIcon.react","MWPReplyContext.react","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect;function a(a){var b=a.message;a=h._("__JHASH__xFCj85w6vra__JHASH__");var e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.setReply;e=k(d("MAWEditMessageContext.react").Context);var g=e.editMessageData,m=e.setEditMessageData,n=k(d("MWV2MessageListIsRowModalContext.bs").context),o=function(){g!=null&&m(null);f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey);return n(function(){return""})};e=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var p=e.replyToMessage;p.current=o;var q=j(function(){if(c("gkx")("3417")){p.current=c("emptyFunction");return}},[p]);l(function(){return q},[q]);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onPress:function(){return o()},overlayDisabled:!0,testid:void 0,children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSReplyActionSvgIcon.react"),{})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowActions.react",["I64","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMIsAnyCMThread","MWCMIsSubthreadContext.react","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseMessageListRowActions.react","MWV2ContextualActionsButton.react","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.react","MWV2ReplyButton.react","MWXTooltipGroup.react","ReQL","ReQLSuspense","ThreadStatus","cr:5743","cr:7122","emptyFunction","gkx","qex","react","useMWHasForwardAction","useMWV2MessageForwardAction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useState;function l(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a.threadKey)},[b,a.threadKey],f.id+":63")}function m(a){var e,g=a.canRemoveMessageGlobally,k=a.closeActionsMenu,m=a.dropForwardE2eeToggle,n=a.extraActions,o=a.interactedWith,p=a.learnMoreOnMessageRemove,q=a.message,r=a.onReactionsSendLogger,s=a.onRemoveMessageLogger,t=a.outgoing,u=a.reactionsPopoverResource,v=a.removeMessageDialogTitle,w=a.setMoreMenuOpen,x=a.setReactionsMenuOpen;a=a.shouldHideHoverMenuReact;var y=l(q),z=d("MWCMIsSubthreadContext.react").useIsSubthreadContext();z=z.isSubthread;var A=d("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),B=c("useReStore")(),C=y.threadKey;z=!d("LSMessagingThreadTypeUtil").isCMSubthread(y.threadType)&&z;var D=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(B.table("contacts")).getKeyRange(C)},[C,B],f.id+":115"),E=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();D=D!=null?(D=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),D))!=null?D:!1:!1;var F=d("LSMessagingThreadTypeUtil").isSecure(y.threadType),G=!d("I64").equal(q.displayedContentTypes,d("LSIntEnum").ofNumber(1)),H=c("MWCMIsAnyCMThread")(y.threadType)&&d("I64").equal(q.sendStatusV2,d("LSIntEnum").ofNumber(4)),I=d("ReQLSuspense").useFirst(function(){return G?d("ReQL").fromTableAscending(B.table("attachments")).getKeyRange(q.threadKey,q.messageId):d("ReQL").empty()},[B,q.messageId,q.threadKey,G],f.id+":139");e=d("I64").equal((e=q.displayedContentTypes)!=null?e:d("I64").zero,d("LSIntEnum").ofNumber(128));I=c("useMWHasForwardAction")(y,q,I);var J=I.hasForwardAction;I=I.shouldShowForwardAction;var K=y.threadStatus!=null&&d("I64").equal(y.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED)),L=!A&&!D&&!H&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(42),y)&&!q.isUnsent&&!z,M=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(169),y);A=!A&&!D&&!q.isUnsent&&!H&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(18),y)||M)&&(F?c("qex")._("1525")===!0:!0);D=L&&!I&&o;H=o&&A&&!a;M=d("MWCMThreadTypes.react").isJoinedCMThread(y.threadType)&&!K&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(167),y)&&!z&&(!G||e);A=M&&E==="Inbox";a=F&&d("I64").equal(q.sendStatusV2,d("LSIntEnum").ofNumber(5));K=c("useMWV2MessageForwardAction")(y,q);e=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext();var N=e.forwardMessage;J&&(N.current=K);var O=i(function(){if(c("gkx")("3417")){N.current=c("emptyFunction");return}},[N]);j(function(){return O},[O]);return h.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:t,children:[I?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("MWV2ForwardMessageButton.bs"),{dropForwardE2eeToggle:m,message:q})}):null,H?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("MWV2MessageReactionButton.react"),{closeActionsMenu:k,message:q,onReactionsSendLogger:r,reactionsPopoverResource:u,setReactionsMenuOpen:x,thread:y})}):null,b("cr:7122")!=null&&a?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(b("cr:7122"),{message:q})}):null,D?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("MWV2ReplyButton.react"),{message:q})}):null,A&&b("cr:5743")!=null?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(b("cr:5743"),{message:q})}):null,o?h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:h.jsx(c("MWV2ContextualActionsButton.react"),{canRemoveMessageGlobally:g,closeActionsMenu:k,extraActions:n,isSubthreadParentMessage:z,learnMoreOnMessageRemove:p,message:q,onRemoveMessageLogger:s,removeMessageDialogTitle:v,setMoreMenuOpen:w,showCreateSubthread:M&&!A,showForwardActionInContextualMenu:!I&&J,showReplyActionInContextualMenu:!D&&L,thread:y})}):null]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden,e=a.canRemoveMessageGlobally,f=a.dropForwardE2eeToggle,g=a.extraActions,i=a.focused,j=a.hasReactions,l=a.hovered,n=a.learnMoreOnMessageRemove,o=a.message,p=a.onReactionsSendLogger,q=a.onRemoveMessageLogger,r=a.outgoing,s=a.reactionsPopoverResource,t=a.removeMessageDialogTitle;a=a.shouldHideHoverMenuReact;a=a===void 0?!1:a;var u=k(!1),v=u[0];u=u[1];var w=k(!1),x=w[0];w=w[1];var y=d("LSBitFlag").has(d("LSIntEnum").ofNumber(2),o.displayedContentTypes);l=l||i||x||v;return h.jsx(c("MWXTooltipGroup.react"),{children:h.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:(i=b)!=null?i:!1,hasReactions:j,outgoing:r,children:l||y?h.jsx(m,{canRemoveMessageGlobally:(x=e)!=null?x:!0,closeActionsMenu:c("emptyFunction"),dropForwardE2eeToggle:f,extraActions:(v=g)!=null?v:null,interactedWith:l,learnMoreOnMessageRemove:n,message:o,onReactionsSendLogger:p,onRemoveMessageLogger:q,outgoing:r,reactionsPopoverResource:s,removeMessageDialogTitle:t,setMoreMenuOpen:w,setReactionsMenuOpen:u,shouldHideHoverMenuReact:a}):null})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListColumn.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={centered:{alignItems:"x6s0dn4",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},makeSpaceForActions:{maxWidth:"x1r145dm",$$css:!0},paint:{backgroundColor:"xcrg951",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"xcrg951",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function j(a){var b=a.centered,d=a.children,e=a.grow,f=a.makeSpaceForActions,g=a.paint,j=a.profile,k=a.selfCentered,l=a.shrinkwrap;a=a.withGutters;return h.jsx("div",{className:c("stylex")(i.root,e===!0?i.grow:!1,l===!0?i.shrinkwrap:!1,g===!0?i.paint:!1,j===!0?i.profile:!1,a===!0?i.withGutters:!1,f===!0?i.makeSpaceForActions:!1,b===!0?i.centered:!1,k===!0?i.selfCentered:!1),role:"none",children:d})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return h.jsx(j,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return h.jsx(j,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.centered,c=a.children;a=a.paint;return h.jsx(j,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}e.displayName=e.name+" [from "+f.id+"]";function k(a){a=a.children;return h.jsx(j,{grow:!0,paint:!0,children:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.children,c=a.makeSpaceForActions;a=a.paint;return h.jsx(j,{makeSpaceForActions:c,paint:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";function m(){return h.jsx("div",{className:"x1r8uery x1iyjqo2",role:"none"})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.height;return h.jsx("div",{className:"xcrg951 xh8yej3",role:"none",style:{height:""+a+"px"}})}n.displayName=n.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnShrinkwrap=e;g.MWPMessageListColumnGrow=k;g.MWPMessageListColumnBubble=l;g.MWPMessageListColumnHorizontalSpacer=m;g.MWPMessageListColumnVerticalRhythm=n}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MWPSolidMessageBubble.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.precedesXMA,e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.style,l=a.xmaLayout;l=l===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:l;a=a.xstyle;b=b!=null?b:!1;return h.jsx("div",{className:c("stylex")(i.bubble,g?j?i.outgoing_connect_top:i.incoming_connect_top:!1,(!b||l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT)&&f?j?i.outgoing_connect_bot:i.incoming_connect_bot:!1,l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&b?i.precedes_xma:!1,(g=a)!=null?g:!1),"data-testid":void 0,role:"none",style:k,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;return h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:h.jsx("div",{ref:a,role:"row",children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:h.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return h.jsx("div",{className:c("stylex")(i.row,e?i.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,role:"gridcell",tabIndex:0,children:b})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometScreenReaderText.react","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWPSolidMessageBubble.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","ServerTime","TetraOverlappingFacepile.react","clearTimeout","getLSMediaContactProfilePictureUrl","react","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=e.useState,m={accessibilityText:{borderBottom:"xpj9aq2",$$css:!0},bubble:{backgroundColor:"x1vtvx1t",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function n(a,b){a=a==null?void 0:a.nickname;if(a!=null)return a;a=b.firstName;if(a!=null)return a;else return b.name}function o(a,b){b===void 0&&(b=!1);var e=c("useReStore")(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("typing_indicator")).getKeyRange(a).filter(function(a){return d("ServerTime").getMillis()<d("I64").to_float(a.expirationTimestampMs)}).map(function(g){var h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("presence_states")).getKeyRange(g.senderId),f.id+":128");if(!b||h!=null&&d("I64").equal(h.status,d("LSIntEnum").ofNumber(c("LSPresenceStatus").ACTIVE))){h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a,g.senderId),f.id+":144");var i=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(g.senderId),f.id+":151");if(i!=null)return[h,i,g]}return}).filter(Boolean).take(3)},[e,a,b],f.id+":117");return g.filter(Boolean)}function p(a){return k(function(){var b=a.length;if(b!==1)if(b!==0)return h._("__JHASH__YLfbVFP1cLb__JHASH__");else return"";b=a[0];return h._("__JHASH__Tbm_Qb_Y-B5__JHASH__",[h._param("The participants name",n(b[0],b[1]))])},[a])}function a(a){var b=a.length>0,e=b?a.reduce(function(a,b){return Math.max(a,d("I64").to_float(b[2].expirationTimestampMs))},0):0;a=l(e>d("ServerTime").getMillis());var f=a[0],g=a[1];j(function(){if(b){g(e>d("ServerTime").getMillis());var a=e-d("ServerTime").getMillis(),f=c("setTimeout")(function(){return g(!1)},a);return function(){c("clearTimeout")(f)}}},[e,g,b]);return b&&f}function q(a){var b=a.containerStyle,e=a.messageBubbleStyle,f=a.threadType;a=a.typingParticipants;var g=a.reduce(function(a,b){return Math.max(a,d("I64").to_float(b[2].expirationTimestampMs))},0),h=l(function(){return g>d("ServerTime").getMillis()}),k=h[0],n=h[1];j(function(){n(function(){return g>d("ServerTime").getMillis()});var a=g-d("ServerTime").getMillis(),b=c("setTimeout")(function(){return n(!1)},a);return function(){c("clearTimeout")(b)}},[g,n]);if(k)return i.jsxs("div",{"aria-hidden":!0,className:c("stylex")(m.root,b),children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{selfCentered:!0,children:i.jsx(c("TetraOverlappingFacepile.react"),{items:a.map(function(a){return{source:{uri:c("getLSMediaContactProfilePictureUrl")(a[1])}}}),size:28,withWrapper:!1})}),i.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,xstyle:e,children:i.jsx(c("MWChatTypingIndicator.react"),{threadType:f})})]});else return null}function b(a){var b=a.checkPresenceSettings;b=b===void 0?!1:b;var e=a.containerStyle,f=a.messageBubbleStyle,g=a.theme,h=a.threadKey;a=a.threadType;f=f||m.bubble;g=g||d("MWBaseTheme").empty;h=o(h,b);b=p(h);return h.length>0?i.jsx(c("BaseTheme.react"),{config:g,children:i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[i.jsx("div",{"aria-live":"polite",className:"xpj9aq2",children:i.jsx(c("CometScreenReaderText.react"),{text:b})}),i.jsx(q,{containerStyle:e,messageBubbleStyle:f,threadType:a,typingParticipants:h})]})})}):null}e=d("withCometPlaceholder").withCometPlaceholder(b);g.useTypingParticipants=o;g.useAccessibilityText=p;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPThreadGradientBackground.react",["MWPColorUtils","MWPThreadThemeGradientUtils","gkx","react","useMWPThreadTheme","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useState;function j(a,b){if(c("gkx")("1969")&&b!=null&&b.length>0)return{backgroundImage:"url("+b+")"};return a.length>1?{backgroundImage:d("MWPColorUtils").gradient(a)}:{}}function k(a){return{backgroundPosition:Math.floor(a.left)+"px "+Math.floor(a.top)+"px",backgroundSize:Math.floor(a.width)+"px "+Math.floor(a.height)+"px",willChange:"scrollPosition"}}b=e({});var l=b.Provider;function a(a){a=a.children;var b=c("useMWPThreadTheme")(),e=b.outgoingGradientColors;b=b.threadTheme;var f=i({}),g=f[0],m=f[1];f=c("useResizeObserver")(function(a,b,c){b!=null&&m(k(b.getBoundingClientRect()))});return c("gkx")("557")?h.jsx(l,{value:g,children:h.jsx("div",{className:"x18d0r48 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",ref:f,children:a})}):h.jsx("div",{className:"x18d0r48 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",style:babelHelpers["extends"]({},j(e,b.backgroundUrl),d("MWPThreadThemeGradientUtils").getStyleOverridesForThreadTheme(b)),children:a})}a.displayName=a.name+" [from "+f.id+"]";g.context=b;g.MWPThreadGradientBackground=a}),98);
__d("MWPTransparentMessageBubble.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=36;e=b+6|0;e+14|0;var i={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",":after_borderTopColor":"xzackxk",":after_borderEndColor":"x1vvs6jl",":after_borderBottomColor":"x1p8yz0e",":after_borderStartColor":"x1e72984",":after_borderTopStartRadius":"x1qxsuse",":after_borderTopEndRadius":"x1pwr4jm",":after_borderBottomEndRadius":"xgt0i0e",":after_borderBottomStartRadius":"xhiudvi",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1pdxsal",":after_borderEndWidth":"xgyc039",":after_borderBottomWidth":"xza5l1d",":after_borderStartWidth":"xcavrb8",":after_bottom":"x1p4c0ny",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x14rr3af",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1fefmpr",":after_top":"x1a3valx",$$css:!0},incoming_connect_bot:{":after_borderBottomStartRadius":"x1fyu3th",$$css:!0},incoming_connect_top:{":after_borderTopStartRadius":"xe80118",$$css:!0},outgoing_connect_bot:{":after_borderBottomEndRadius":"x7yvbyb",$$css:!0},outgoing_connect_top:{":after_borderTopEndRadius":"x1chp5k1",$$css:!0},precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx("div",{className:c("stylex")(i.bubble,e?f?i.outgoing_connect_top:i.incoming_connect_top:!1,!a&&d?f?i.outgoing_connect_bot:i.incoming_connect_bot:!1,a?i.precedes_xma:!1),role:"none",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatBubble.react",["MWPColorUtils","MWPMessageIsReply","MWPSolidMessageBubble.react","MWPThreadGradientBackground.react","MWPTransparentMessageBubble.react","gkx","react","stylex","useMWInlineStylesForReply","useMWPThreadTheme","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={emphasis_ring:{backgroundColor:"xjbqb8w",borderTop:"xkaxx8j",borderEnd:"xif9i9b",borderBottom:"x1ueo1nx",borderStart:"x1jawzb3",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6","::after_borderTopColor":"xs65dz8","::after_borderEndColor":"x12bj33z","::after_borderBottomColor":"x15uivxv","::after_borderStartColor":"xbxgwnb","::after_borderTopStartRadius":"xquudas","::after_borderTopEndRadius":"x6p43zf","::after_borderBottomEndRadius":"x1wnhr99","::after_borderBottomStartRadius":"x1gquc79","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x31ga2r","::after_borderEndWidth":"xcmxnv6","::after_borderBottomWidth":"x13afdcp","::after_borderStartWidth":"x10va8jt","::after_bottom":"xdb1ctf","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"x4bhatf","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"xhg89tr","::after_top":"x7kqs8i","::after_zIndex":"xitxdhh","::before_borderTopColor":"xdxy94m","::before_borderEndColor":"xt7heth","::before_borderBottomColor":"xq7m7h9","::before_borderStartColor":"xp0hy2t","::before_borderTopStartRadius":"x2e93ah","::before_borderTopEndRadius":"xigdz7j","::before_borderBottomEndRadius":"x1vxwiij","::before_borderBottomStartRadius":"xfgw0w6","::before_borderTopStyle":"xnvurfn","::before_borderEndStyle":"xv1ta3e","::before_borderBottomStyle":"x1opv7go","::before_borderStartStyle":"x1dtnpoi","::before_borderTopWidth":"x1b8stmw","::before_borderEndWidth":"xyhsekn","::before_borderBottomWidth":"xmbliey","::before_borderStartWidth":"x1igdxxj","::before_bottom":"xe80sof","::before_content":"x1cpjm7i","::before_display":"x1fgarty","::before_end":"x105ji64","::before_opacity":"x1u3qutx","::before_pointerEvents":"xkk1bqk","::before_position":"x1hmns74","::before_start":"xbs7dl3","::before_top":"x51xajf","::before_zIndex":"x12maryy",$$css:!0},emphasis_ring_before_xma:{borderBottom:"x112ta8","::after_borderBottom":"x1bxl7c5","::after_borderBottomEndRadius":"x1qo8dsh","::after_borderBottomStartRadius":"x1oiup0q","::before_borderBottom":"xozyfcf","::before_borderBottomEndRadius":"x1nxuetn","::before_borderBottomStartRadius":"x1doa7m0",$$css:!0},emphasis_ring_connect_bottom_incoming:{"::after_borderBottomStartRadius":"x1573djm","::before_borderBottomStartRadius":"x106tphz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{"::after_borderBottomEndRadius":"x1nb2ndt","::before_borderBottomEndRadius":"x7ft4bm",$$css:!0},emphasis_ring_connect_top_incoming:{"::after_borderTopStartRadius":"x14nzmgs","::before_borderTopStartRadius":"x58eeit",$$css:!0},emphasis_ring_connect_top_outgoing:{"::after_borderTopEndRadius":"xe41ffp","::before_borderTopEndRadius":"x1cbhpwz",$$css:!0},emphasis_ring_xma:{borderTop:"x76ihet",width:"x1o2z316","::after_borderTop":"x12dgpll","::after_borderTopEndRadius":"x1utvphz","::after_borderTopStartRadius":"x17dqjr0","::before_borderTop":"xp2bjph","::before_borderTopEndRadius":"xajc7s","::before_borderTopStartRadius":"x1eo7yr1",$$css:!0}};function k(a,b){if(c("gkx")("1969")){var e=b?a.outgoingGradientColors:a.incomingGradientColors;if(e!=null&&e.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(e[0].color)}}if(c("gkx")("557")){e=b?a.outgoingGradientColors:a.incomingGradientColors;if(e.length>1)return{backgroundAttachment:"fixed",backgroundImage:d("MWPColorUtils").gradient(e)}}if(b)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.threadTheme.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.gradientColors,g=a.outgoing,i=a.precedesXMA;a=a.threadTheme;a=c("useMWInlineStylesForReply")(a,f,g);return h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:d,connectTop:e,outgoing:g,precedesXMA:i,style:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.children,d=a.hasXMA,e=a.isBeforeXMA,f=a.isOutgoing,g=a.shouldConnectBottom;a=a.shouldConnectTop;e=[j.emphasis_ring,e?j.emphasis_ring_before_xma:g?f?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,d?a?j.emphasis_ring_xma:!1:a?f?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return h.jsx("div",{className:c("stylex")(e),"data-testid":void 0,children:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.hasEmphasisRing;g=g===void 0?!1:g;var j=a.message,n=a.outgoing,o=a.precedesXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var p=c("useMWPThreadTheme")(),q=n?p.outgoingGradientColors:p.incomingGradientColors,r=p.threadTheme;j=c("MWPMessageIsReply")(j);var s=i(d("MWPThreadGradientBackground.react").context);j=j?h.jsx(l,{connectBottom:e,connectTop:f,gradientColors:q,outgoing:n,precedesXMA:o,threadTheme:r,children:b}):c("gkx")("1969")&&n&&Boolean(r.backgroundUrl)?h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,style:k(p,n),xmaLayout:a,children:b}):n&&q.length>1?c("gkx")("557")?h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,style:babelHelpers["extends"]({},s,k(p,n)),xmaLayout:a,children:b}):h.jsx(c("MWPTransparentMessageBubble.react"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,children:b}):h.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,style:k(p,n),xmaLayout:a,children:b});return g?h.jsx(m,{hasXMA:!1,isBeforeXMA:o,isOutgoing:n,shouldConnectBottom:e,shouldConnectTop:f,children:j}):j}a.displayName=a.name+" [from "+f.id+"]";g.EmphasisRing=m;g.ChatBubble=a}),98);
__d("MWV2TombstonedMessage.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderTop:"x1n2xptk",borderEnd:"xkbpzyx",borderBottom:"xdppsyt",borderStart:"x1rr5fae",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.ariaLabel,d=a.children,e=a.connectTop,f=a.connectBottom;a=(a=a.xstyle)!=null?a:!1;e=e!=null?e:!1;f=f!=null?f:!1;return h.jsx("div",{"aria-label":b,className:c("stylex")(i.root,e?i.connectTop:!1,f?i.connectBottom:!1,a),children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return i.jsxs("div",{className:c("stylex")(a?j.withRepliedMessage:j.withBackground),children:[a?null:i.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),i.jsx(c("MWV2TombstonedMessage.bs"),{xstyle:j.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatSeenHeadsRow.react",["fbt","CometImage.react","CometPressable.react","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWV2MessageRowIsRowFocusedContext.bs","MWXTooltip.react","MWXTooltipGroup.react","MercuryTimestamp","getFBTSafeGenderFromGenderConst","react","stylex","useMWPThreadTheme","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useRef,l=5,m=c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),n={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function o(a,b,d,e){if(!d)return[];d=Math.max(Math.floor(b-9),0);a=a.slice(d,b);var f="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",d,[0])]);a=i.jsxs("ul",{children:[a.reverse().map(function(a,b){return i.jsx("li",{children:a.name},String(b))}),d>0?i.jsx("li",{children:f},"overflow"):null]});return[i.jsx(c("MWXTooltip.react"),{align:e==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:a,children:i.jsx("span",{className:"x1qhmfi1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c xi81zsa x1ncwhqj x117nqv4 x1hkbg2g xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x150jy0e x18d9i69 x1e558r4 x2b8uid",children:h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",b,[0])])})},"overflow")]}function p(a){var b=a.displayContext,e=a.index;a=a.user;var f=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return i.jsx(c("MWXTooltip.react"),{align:b==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:f,children:a.imageSrc===""?i.jsx(c("MDSGlimmer.react"),{index:e,xstyle:n.img}):i.jsx(c("CometImage.react"),{alt:f,src:a.imageSrc,xstyle:n.img})})}p.displayName=p.name+" [from "+f.id+"]";function q(a,b){var c=a.length,d=c>l;c=Math.max(Math.floor(c-(d?l-1:l)),0);var e=a.slice(c);return[].concat(o(a,c,d,b),e.map(function(a,c){return i.jsx(p,{displayContext:b,index:c,user:a},a.id)}))}function a(a){var b=a.messageSeenBy,e=a.xstyle;a=c("useMWPThreadTheme")();var f=j(d("MWV2MessageRowIsRowFocusedContext.bs").context),g=f.setFocused,l=f.setIsDialogOpened;f=b.length;var o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=k(null),r={messageSeenBy:b},s=c("useMWXLazyDialog")(m),t=s[0],u=function(){return t(r,function(){l(function(){return!1}),g(function(){return!0})})};return i.jsxs("div",{className:c("stylex")(n.root,d("MWPThreadThemeGradientUtils").isGradient(a)?n.mask:!1),role:"none",children:[i.jsx("div",{className:"x1r8uery x1iyjqo2"}),i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(f))]).toString(),onPress:function(){l(function(){return!0}),u()},overlayDisabled:!0,ref:p,xstyle:function(){return[n.heads,e]},children:i.jsx(c("MWXTooltipGroup.react"),{children:q(b,o)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function k(a){var b=a.alignLeft,d=a.enableSeenInfo;a=a.num;return!d?i.jsx(i.Fragment,{}):i.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",String(a))]).toString(),xstyle:j.statusText})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;a=a.status;var f=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return i.jsx(c("MWStatusText.react"),{error:!0,text:f.toString(),xstyle:j.statusText});case"SingleSeenHead":return i.jsx(k,{enableSeenInfo:e,num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return i.jsx(k,{alignLeft:b,enableSeenInfo:e,num:a.count});case"Loading":return i.jsx(c("MWStatusText.react"),{alignLeft:b,text:f.toString(),xstyle:j.statusText});case"RetriableError":return i.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:f.toString(),xstyle:j.statusText});default:return i.jsx(c("MWStatusText.react"),{text:f.toString(),xstyle:j.statusText})}return i.jsx(k,{enableSeenInfo:e,num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContent.react",["MWMessageDeliveryStatus","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","cr:5836","cr:5837","cr:7033","cr:7034","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={baseStyle:{marginEnd:"x1emribx",marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0}};function a(a){var e=a.alignLeft,f=a.enableSeenInfo;f=f===void 0?!0:f;var g=a.hasTextBasedMessageReceipts,j=a.isLastMessage,k=a.isOutgoing,l=a.isTextOnly,m=a.message;a=a.status;if(l===!0)return h.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:e,enableSeenInfo:f,status:a});if(a.type==="MultipleSeenHeads")return h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:h.jsx(c("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:a.heads,xstyle:[i.seenHeads,g&&(j?i.lastMessage:i.nonLastMessage),g&&i.baseStyle]})});if(g&&a.type==="SingleSeenHead"&&b("cr:7033")!=null)return h.jsx(b("cr:7033"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[j?i.lastMessage:i.nonLastMessage,i.baseStyle]});if(g&&a.type==="SingleSeenHead"&&b("cr:5836")!=null)return h.jsx(b("cr:5836"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[j?i.lastMessage:i.nonLastMessage,i.baseStyle]});if(k&&g&&b("cr:7034")!=null)return h.jsx(b("cr:7034"),{alignLeft:e,isLastMessage:j,message:m,status:a,xstyle:[j?i.lastMessage:i.nonLastMessage,i.baseStyle]});return k&&g&&b("cr:5837")!=null?h.jsx(b("cr:5837"),{alignLeft:e,isLastMessage:j,message:m,status:a,xstyle:[j?i.lastMessage:i.nonLastMessage,i.baseStyle]}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={accessibleElem:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},emphasized:{fontWeight:"xk50ysn",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function a(a){a=a.timestamp;var b=d("MWTheme.react").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:c("stylex")(i.root,d("MWTheme.react").isGradient(b)&&i.mask),"data-scope":"date_break",children:h.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return h.jsxs(h.Fragment,{children:[h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms})," ",b]});else return h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagement","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.message,e=a.shouldMute,g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":37");a=i(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?d("LSIntEnum").ofNumber(0):d("LSIntEnum").ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagement")(b.threadKey,a,f,c("LSFactory")(d))},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?h.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscription","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=c("useReStore")(),g=d("I64").to_string(b.threadKey),j=i(function(){var a=e?d("LSIntEnum").ofNumber(0):d("LSIntEnum").ofNumber(1);c("promiseDone")(f.runInTransaction(function(b){return c("LSUpdateBotSubscription")(d("I64").of_string(g),a,c("LSFactory")(b))},"readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?h.jsx(c("MWXLink.react"),{onClick:function(){return j()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?h.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:h.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);h=function(){return a};return a}var i=d("react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table")).getKeyRange(b.threadKey).map(function(a){return d("I64").to_string(a.jid)})},[e,b.threadKey],f.id+":45");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(h(),d("I64").to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":70");g=g==null?void 0:g.title;a=g!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),k=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:d("I64").neg_one)},[g,e],f.id+":58");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},l=c("useMWXLazyDialog")(j),m=l[0];l=function(){return m(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?i.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:k}):i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("MWXLink.react"),{onClick:l,target:"_blank",children:a})}):null;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:i.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),i.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(h);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return h.jsx(c("CometPressable.react"),{onPress:function(){return a()},children:h.jsx(c("CometTextWithEntities.react"),{text:f})})};return h.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:d("I64").neg_one)},[g,e],f.id+":40");var i=e.adminMsgCtaTitle,j=a==null?void 0:a.targetId;a=i!=null&&a!=null&&j!=null?h.jsx("div",{className:"x1rg5ohu x1s688f",children:h.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:j,threadKey:e.threadKey,title:i})}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":37");var g=c("useMWXLazyDialog")(i),j=g[0];g=a==null?void 0:a.title;a=g!=null?h.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:d("I64").to_string(b.threadKey)}})},children:g}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":36");var g=c("useMWXLazyDialog")(i),j=g[0];g=a==null?void 0:a.title;a=g!=null?h.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return h.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=c("useReStore")();a=c("useMWXLazyDialog")(i);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":38");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?h.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:d("I64").neg_one)},[e,b],f.id+":30");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?h.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:g}):null;return h.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgWebUrl.react","MWXText.react","cr:565","cr:625","cr:7124","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function j(a){if(a!=null)return a.isAdminMessage;else return!1}function k(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return h.jsx("div",{className:c("stylex")(i.container,j(a)?i.containerThatProceedsAdminMessage:!1,j(d)?i.containerThatPrecedesAdminMessage:!1),children:h.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.message;var d=b("cr:565")!=null&&b("cr:625")!=null?b("cr:565").buildLocalizedString([],[],b("cr:625").CURRENT_USER_ADDED_DEVICE):"";d=a.text===d&&b("cr:7124")!=null?h.jsx(b("cr:7124"),{}):null;var e=a.adminMsgCtaType;if(e!=null)if(e==="admin_msg_armadillo_ephemeral_change_duration")return h.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:a});else if(e==="admin_msg_web_url")return h.jsx(c("MWV2AdminMsgWebUrl.react"),{message:a});else if(e==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386"))return h.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:a});else if(e==="admin_notification_messages_opt_out")return h.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:a});else if(e==="admin_notification_messages_opt_in")return h.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:a});else if(e==="admin_msg_thread_level_cutover")return h.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:a});else if(e==="admin_msg_e2ee_thread")return null;else if(e==="admin_msg_cutover_rollback")return h.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:a});else if(e==="xmat_instant_game_bot_message_subscribe")return h.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:a,shouldSubscribe:!0});else if(e==="xmat_instant_game_bot_message_unsubscribe")return h.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:a,shouldSubscribe:!1});else if(e==="admin_msg_view_pin_msgs_v2")return h.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:a});else if(e==="xmat_instant_game_custom_update_message_mute")return h.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:a,shouldMute:!0});else if(e==="xmat_instant_game_custom_update_message_unmute")return h.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:a,shouldMute:!1});else if(e==="admin_message_service_booking_legal_disclaimer")return h.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:a});else return h.jsxs("div",{children:[h.jsx(c("MWAdminTextLayout.react"),{message:a}),d]});return h.jsxs("div",{children:[h.jsx(c("MWAdminTextLayout.react"),{message:a}),d]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return h.jsx(k,{nextMessage:d,prevMessage:a,children:h.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:h.jsx(l,{message:b})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=j;g.MWV2ChatAdminMessageContainer=k;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2MessageStartOfGroupContent.bs",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(b!=null)return d("I64").compare(d("I64").abs(d("I64").sub(a.timestampMs,b.timestampMs)),d("I64").of_string("900000"))>0;else return!0}function j(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(i(e,a))return h.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:h.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:a,children:h.jsx(c("MWPDateBreak.react"),{timestamp:d("I64").to_float(e.timestampMs)})})})});else return null}function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return h.jsx(j,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs")),b=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h(function(a){a=a.id;if(c("gkx")("94"))return d({transferId:c("nullthrows")(a)},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("nullthrows")(a),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useMWXEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("useMWLSShowCheckout",["react","useMWUICheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useState;function a(){var a=j(null),b=a[0],d=a[1];a=j("");var e=a[0],f=a[1];a=j(!1);var g=a[0],k=a[1];a=c("useMWUICheckoutDialog")(b);var l=a[0];h(function(){b!=null&&g&&l({orderID:b,pageID:e},function(){return k(!1)})},[b,e,g,l]);return i(function(){return function(a,b){k(function(){return!0});d(function(){return a});return f(function(){return b})}},[k,d])}g["default"]=a}),98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOffsiteBankTransfer",["react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useState;function a(){var a=j(null),b=a[0],d=a[1];a=j(!1);var e=a[0],f=a[1];a=c("useMWUIOffsiteBankTransferDialog")(b);var g=a[0];h(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return i(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowAttachBankSlip",["react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useState;function a(){var a=j(null),b=a[0],d=a[1];a=j(!1);var e=a[0],f=a[1];a=c("useMWUIAttachBankSlipDialog")(b);var g=a[0];h(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return i(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOrderDetails",["react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useState;function a(){var a=j(null),b=a[0],d=a[1];a=j(!1);var e=a[0],f=a[1];a=c("useMWUIOrderDetailsDialog")(b);var g=a[0];h(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return i(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],e=a[1];a=k(!1);var f=a[0],g=a[1];a=c("useMWUIPaymentDetailsDialog")(b);var l=a[0],m=d("MWLSDatabaseLazySync").useSync(d("LSIntEnum").ofNumber(15));i(function(){b!=null&&f&&l({title:h._("__JHASH__NIyxBo8HYXZ__JHASH__"),transactionID:b},function(){return g(!1)})},[b,f,l]);return j(function(){return function(a){c("promiseDone")(m());g(function(){return!0});return e(function(){return a})}},[g,e,m])}g["default"]=a}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog")),b=a[0];return h(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog")),b=a[0];return h(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog")),b=a[0];return h(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog")),b=a[0];return h(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog")),b=a[0];return h(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e){c("promiseDone")(d("CometRelay").fetchQuery(c("CometRelayEnvironment"),i,{messageID:b,receiptID:a}).toPromise().then(function(a){if((a==null?void 0:a.receipt_data)!=null){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}}))};var i=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");g.fetch=a}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","useInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState;function l(a){var b=1e3,c=b*60,d=c*60,e=d*24;a=a;var f=Math.floor(a/e);a-=f*e;e=Math.floor(a/d);a-=e*d;d=Math.floor(a/c);a-=d*c;c=Math.floor(a/b);a-=c*b;return{days:f,hours:e,minutes:d,seconds:c}}function a(a){var b=a.attachment;a=j(function(){var a;return d("I64").to_float((a=b.countdownTimestampMs)!=null?a:d("I64").zero)},[b.countdownTimestampMs]);var e=k(Date.now()),f=e[0],g=e[1];e=f>a;c("useInterval")(function(){g(Date.now())},e?6e4:1e3,[g]);if(!e){e=l(a-f);var m=e.minutes;e=e.seconds;m=("0"+m).slice(-2)+":"+("0"+e).slice(-2)}else if(b.cta1Type==="xma_roll_call_open_viewer")m=h._("__JHASH__iEcmesFoHMR__JHASH__");else{e=l(f-a);f=e.days;a=e.hours;e=e.minutes;f>30?m=h._("__JHASH__FgpGUEY9N0G__JHASH__"):f>0?m=h._("__JHASH__UZjF4IaHC-f__JHASH__",[h._param("days",f)]):a>0?m=h._("__JHASH__4LZO7x78s0P__JHASH__",[h._param("hours",a)]):m=h._("__JHASH__JXYYWJwIx9x__JHASH__",[h._param("minutes",Math.max(1,e))])}return i.jsx("div",{className:"x1h0vfkc x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k xkrivgy x1gryazu x1sxyh0 xurb0ha xeq5yr9",children:i.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:m})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallXMAAttachmentItemImage.react",["CometBlurredBackgroundImage.react","CometImageCover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={blurredCard:{backgroundColor:"x1jx94hy",$$css:!0},rollCallCard:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",filter:"xa5fk4t",height:"x1xx6w2s",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xq1dxzn",$$css:!0}};function a(a){var b=a.previewUrl;a=a.shouldBlur;return h.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:a?h.jsx(c("CometBlurredBackgroundImage.react"),{src:b,xstyle:i.blurredCard}):h.jsx(c("CometImageCover.react"),{alt:"",src:b,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useRollcallContributionsXMAActionHandler",["I64","JSResourceForInteraction","MWCMIsAnyCMThread","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","react","useMWXLazyDialog","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(){var a=k(d("I64").zero),b=a[0],e=a[1];a=k(d("I64").zero);var f=a[0],g=a[1];a=k(null);var l=a[0],m=a[1],n=c("usePrevious")(b),o=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContribuitionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return h.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var p=a[0],q=d("MWLSThread").useThread(b,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});j(function(){q!=null&&!d("I64").is_zero(b)&&!d("I64").is_zero(f)&&n!==b&&o!==f&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",q?"cm_thread":"friends_family_thread","open_viewer"),p({rollCallId:f,scrollToContributionMessageId:l,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e(d("I64").zero),g(d("I64").zero),m(null)}))},[q,o,n,f,p,b,l]);return i(function(a,b,c){e(b),g(a),m(c)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall.bs","MWStartRTCCallUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),b=d("MWLSStartPhoneCall.bs").useMakeRTCCall();b=b[0];var c=d("MWStartRTCCallUtils").useStartDesktopCall(b);return a?c:b}g["default"]=a}),98);
__d("MWChatGutterItem.bs",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageDeliveryStatusIcons","MWTheme.react","MWXTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{display:"x78zum5",flexShrink:"x2lah0s",height:"x1v9usgg",marginEnd:"xw3qccf",marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},incoming:{flexDirection:"x15zctf7",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},noneStatus:{flexShrink:"x2lah0s",width:"x17z2i9w",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",$$css:!0},singleSeenHead:{marginEnd:"xw3qccf",marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=a.errorMessage,e=a.iconStyle,f=a.status,g=a.incoming,j=a.hasRepliedToMessage,k=a.id;g=g!=null?g:!1;j=j!=null?j:!1;a=(a=a.xstyle)!=null?a:!1;k=k!=null?k:"";var l=d("MWTheme.react").useTheme();l=d("MWTheme.react").isGradient(l);var m=d("MWMessageDeliveryStatus").getStatusTitle(f),n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=f.type==="Error"&&b!=null?b:m;var o,p;e=[i.icon,e];switch(f.type){case"NoneStatus":o=h.jsx("div",{className:"x2lah0s x17z2i9w"});break;case"SingleSeenHead":o=h.jsx(c("MWChatSingleSeenHead.react"),{altText:m,head:f.head,xstyle:i.singleSeenHead});break;case"DeliveredAndRead":o=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndReadIcon,{size:12,xstyle:i.icon});break;case"MultipleSeenHeads":case"SeenCount":case"Loading":case"RetriableError":o=null;break;default:switch(f.type){case"Sending":p=h.jsx(c("MWMessageDeliveryStatusIcons").SendingIcon,{size:12,xstyle:e});break;case"Sent":p=h.jsx(c("MWMessageDeliveryStatusIcons").SentIcon,{size:12,xstyle:e});break;case"Delivered":p=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredIcon,{size:12,xstyle:e});break;case"Error":p=h.jsx(c("MWMessageDeliveryStatusIcons").ErrorIcon,{size:12,title:b.toString(),xstyle:i.icon});break;default:p=null}o=h.jsx("div",{children:p})}m=b!==""?h.jsx(c("MWXTooltip.react"),{align:function(){switch(n==="Inbox"?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",tooltip:b,children:o}):o;return h.jsx("div",{className:c("stylex")(i.root,l&&!j?i.mask:!1,g?i.incoming:!1,a),"data-testid":void 0,id:k,role:"none",children:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("MWLSOpenStaticLocationDialog.react")),i=g[0];return h(function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,g).map(function(b){b=b.defaultCtaId;b=b!=null?b:d("I64").zero;b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("attachment_ctas")).getKeyRange(b),f.id+":43");if(b!=null)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";a=a.split(",");var c=a[0];a=a[1];i({latitude:c,longitude:a},function(){});return b("Promise").resolve()}))},[a,e,i])}g["default"]=a}),98);
__d("MWChatImageSize.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a,b,c){var d=b!=null?b:!1,e=i();c=j();b=c[0];var f=c[1];h(function(){if(a==null)return;if(e.current==null&&!d){var b=new Image();b.src=a;b.onload=function(){return f({height:b.naturalHeight,width:b.naturalWidth})};e.current=b}return function(){f(function(){});var a=e.current;if(a==null)return;a.onload=null}},[a,d,f]);return b}g.useImageSize=a}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),b=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"));return h(function(c,e,f,g){if(c==null)return;g!=null&&g!=="0"?a({routeProps:{adminActivityID:g,groupID:e,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:e}):b({groupID:e,profileID:f,scale:d("WebPixelRatio").get()},{})},[a,b])}g["default"]=a}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useMWXEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useMWXEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("useMWLSShowPendingPost",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useState;function a(){var a=j(null),b=a[0],d=a[1];a=j("");var e=a[0],f=a[1];a=j("");var g=a[0],k=a[1];a=j("");var l=a[0],m=a[1];a=j("");var n=a[0],o=a[1];a=j(!1);var p=a[0],q=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,l,n);var r=a[0];h(function(){b!=null&&p&&r({activityLogTarget:"Group",groupID:e},function(){return q(!1)})},[b,p]);return i(function(){return function(a,b,c,e,g){q(!0);d(a);f(b);k(c);m(e);return o(g)}},[q,d])}g["default"]=a}),98);
__d("MWV2MediaViewerFallback.react",["fbt","ix","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXRow.react","MWXRowItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:d("fbicon")._(i("478232"),16),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function j(a){return h.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),j),d=b[0],e=b[1];i(function(){a||e()},[e,a]);return[d,e]}g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(){return h(function(){})}g.useStopHoveringRef=a}),98);
__d("MWEditedEyebrow.react",["fbt","CometMiddot.react","MessengerWebUXLogger","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.hasSeparator;a=a.xstyle;var d=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return i.jsxs(i.Fragment,{children:[b&&i.jsx("span",{className:c("stylex")(a),children:i.jsx(c("CometMiddot.react"),{})}),i.jsx("span",{ref:d,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","cr:2472","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a==null)return!1;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("1839834");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g["default"]=a}),98);
__d("MWV2MessageTimestampTooltip.react",["fbt","I64","Int64Hooks","LSIntEnum","MWMessageUnsentTimestampText.react","MWXTooltip.react","MercuryTimestamp","cr:1654","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId);a=d("Int64Hooks").useMemoInt64(function(){var a=f.isUnsent,b=f.unsentTimestampMs;if(d("I64").equal(f.displayedContentTypes,d("LSIntEnum").ofNumber(65536)))return h._("__JHASH__OwAZycr4-8G__JHASH__");return b!=null&&a?i.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:f.timestampMs,unsentTimestampMs:b}):i.jsxs("div",{children:[i.jsx("div",{children:g!=null&&g>0?"Send Latency: "+g.toString()+"ms":null}),i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(f.timestampMs)))])})]})},[f,g]);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=j(!1),d=b[0],e=b[1],f=i(a);h(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?k.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:k.unmountAnimation}}g["default"]=a}),98);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState;function l(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function m(a,b){a=d("I64").to_int32(d("I64").sub(a,d("I64").of_float(d("WATimeUtils").unixTime())));return b!=null&&a>d("I64").to_int32(b)?d("I64").to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=k(function(){return m(e,b)});var f=a[0],g=a[1];a=l(f);var n=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);j(function(){f>0&&c("setTimeout")(function(){return g(f-1)},d("MAWEphemeralConsts").msPerSec)},[f,e]);return f>0?i.jsxs("div",{className:"x2b8uid xbkr7qi",children:[i.jsx(c("CometScreenReaderText.react"),{text:n}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(c("MWXText.react"),{type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("useGetMWXMAMentorshipDialog",["JSResourceForInteraction","MentorshipMessengerLoggingUtils","react","recoverableViolation","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("JSResourceForInteraction")("MentorshipLeaveSurveyDialog.react").__setRef("useGetMWXMAMentorshipDialog");function a(){var a=c("useMWXLazyDialog")(i),b=a[0];return h(function(a){var e=a.programID;if(e==null){c("recoverableViolation")("programID cannot be null","messenger_web_product");return}d("MentorshipMessengerLoggingUtils").logMessengerEvent({destContainer:"messenger_thread",destUnit:"leave_survey",displayName:"End Program",event:"click_unit",extraData:{content_id:a.promptID,prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT"},programID:e,unit:"prompt_unit"});return b({programID:e})},[b])}g["default"]=a}),98);
__d("useMWChatShowPIIForm",["CometRelay","JSResourceForInteraction","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("useMWChatShowPIIForm");function a(){var a=c("useMWXLazyDialog")(i),b=a[0],e=d("CometRelay").useRelayEnvironment();return h(function(a){var c=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;d("MWChatPIIFormStateQuery").fetch(i,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,i,c,function(k){if(g>1){d("MWChatPIIFormScreenQuery").fetch(i,c,1,e,function(d){return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:(d=d)!=null?d:void 0,state:a})});return}else return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:void 0,state:a})})})},[e,b])}g["default"]=a}),98);
__d("useMakeRoomRingbackCommon",["cr:401"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("cr:401")()}g["default"]=a}),98);
__d("MWChatXmaThirdPartyActionHandler.bs",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","JSResourceForInteraction","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWLSOpenStaticLocationDialog.react","MWP2PPaymentTransactionInformationVerify.bs","MarketplaceCometReviewOffersDialog.entrypoint","Popup","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","cr:11076","emptyFunction","promiseDone","react","requireDeferred","useCometDynamicEntryPointDialog","useGetMWXMAMentorshipDialog","useMWChatShowPIIForm","useMWLSMarketplaceXmaCtaHandler","useMWLSShowAttachBankSlip","useMWLSShowCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingbackCommon","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback,j=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler.bs");function k(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){var c=a.receiptId;if(c!=null){d("MWChatReceiptDataQuery").fetch(c,a.messageId,function(a){var c=h._("__JHASH__PDJB6VYGeXn__JHASH__");return b({receipt:a,title:c})});return}},[b])}function l(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){var d;b({contentType:a.contentType.content_type,orderID:(d=a.orderID)!=null?d:"",pageID:a.pageID},c("emptyFunction"))},[b])}function m(){var a=d("CometRelay").useRelayEnvironment();return i(function(b){var e={environment:a};b=c("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:b.feedbackActionContentBlob,config:e});e=b.then(function(){d("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)},function(){d("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)});c("promiseDone")(e)},[a])}var n=c("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs");function o(){var a=c("useMWXLazyDialog")(n),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){return b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a})})})},[e,b])}function p(){var a=c("useMWXLazyDialog")(n),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,function(a){return b({firstScreen:h,formId:f,pageId:c,privacy:g,state:a})})},[e,b])}function q(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.nuxData,f=a.piiForm,g=f.pageId,h=f.color,i=f.numScreens,j=f.currentIndex,k=f.formId,l=f.firstScreen,m=a.ctaType;d("MWChatPIIFormStateQuery").fetch(k,e,function(a){if(i>1){d("MWChatPIIFormScreenQuery").fetch(k,g,1,e,function(d){return b({color:h,ctaType:m,currentIndex:j,firstScreen:l,formId:k,numScreens:i,nuxData:c,pageId:g,secondScreen:d,state:a},function(){})});return}else return b({color:h,ctaType:m,currentIndex:j,firstScreen:l,formId:k,numScreens:i,nuxData:c,pageId:g,secondScreen:void 0,state:a},function(){})})},[e,b])}function r(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(){var a=h._("__JHASH__HFLlRGYwWh7__JHASH__").toString();b({htmlBlob:a})},[b])}function s(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({pageID:a.pageId,requestID:a.requestId})},[b])}function t(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWFbpayOfferDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){var c;return b({offerId:(c=a.offerId)!=null?c:"",title:a.title})},[b])}function u(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({})},[b])}function v(){var a=c("MWLSOpenStaticLocationDialog.react")();return i(function(b){return a(b.msgId)},[a])}function w(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({boardingPassDetail:a})},[b])}function x(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({itineraryPayload:a})},[b])}function y(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID},c("emptyFunction"))},[b])}function z(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({actionLink:a.actionLink,pageID:a.pageID},c("emptyFunction"))},[b])}function A(a){return i(function(b){j.onReady(function(a){return a.logClick({component:"start_call_button",surface:"admin_message"})});return a(b.hasVideo,b.threadId,b.trigger)},[a])}function B(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({guestID:a.guestId,pageID:a.pageId})},[b])}function C(){return i(function(a){if(b("cr:11076")!=null)return b("cr:11076").$$process(a.ctaId,a.messageId)},[])}function D(a){d("Popup").open(a,1024,500)}function E(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(a){return b({linkUrl:a.linkUrl})},[b])}function F(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return i(function(b){return a({listingId:b},void 0)},[a])}function G(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return i(function(b){return a({threadId:b},{threadId:b})},[a])}function H(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInformationalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i(function(){return b({body:h._("__JHASH__jTsNVv7n_rW__JHASH__"),title:h._("__JHASH__g-wowo_Mm7M__JHASH__")})},[b])}function a(a,b){var e=k(),f=p(),g=o(),h=C(),i=q(),j=t(),n=u(),I=v(),J=s(),K=w(),L=B(),M=x(),N=y(),O=z(),P=c("useMWP2PPaymentRequestCancelDialog")(),Q=c("useP2PPaymentRequestConfirmDialog")(),R=c("useP2PPaymentRequestDeclineDialog")(),S=c("useMWP2PPaymentTransactionDeclineDialog")(),T=c("useP2PPaymentMethodAddDialog")(),U=d("MWP2PPaymentTransactionInformationVerify.bs").useP2PPaymentTransactionInformationVerify(),V=A(b),W=c("useMakeRoomRingbackCommon")(),X=E(),Y=c("useGetMWXMAMentorshipDialog")(),Z=l(),$=m(),aa=c("useMWLSShowMemberRequest")(),ba=c("useMWLSShowPendingPost")(),ca=c("useMWLSShowCheckout")(),da=c("useMWLSShowPaymentDetails")(),ea=c("useMWLSShowOrderDetails")(),fa=c("useMWLSShowAttachBankSlip")(),ga=c("useMWLSShowOffsiteBankTransfer")(),ha=c("useMWLSMarketplaceXmaCtaHandler")(),ia=F(),ja=G(),ka=c("useMWChatShowPIIForm")(),la=r(),ma=H();return function(b){if(b.NAME==="P2PPaymentTransactionInformationVerify")return U(b.VAL);if(b.NAME==="P2PPaymentTransactionDecline")return S(b.VAL.id);if(b.NAME==="MakeWorkJoinableCallInvite"||b.NAME==="MakeRoomRingback")return W(b.VAL);if(b.NAME==="P2MCheckout"){var d=b.VAL;return ca(d.orderID,d.pageID)}if(b.NAME==="ShowCustomerFeedback")return f(b.VAL);if(b.NAME==="P2MInformationalMessageBottomSheet")return Z(b.VAL);if(b.NAME==="WorkplaceChatBotSubmitFeedback")return $(b.VAL);if(b.NAME==="ShowFbpayOfferDetails")return j(b.VAL);if(b.NAME==="P2PPaymentRequestCancel")return P(b.VAL.id);if(b.NAME==="SendImagePostback"){d=b.VAL;var k=d.loggingDetails;k!=null&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:k.consumer_id,event_data:{ad_id:k.ad_id,cta:"button",index:String(k.index)},event_location:"unknown",page_id:k.page_id}});return a(d.message,d.platformToken,d.image)}if(b.NAME==="ShowMessengerExtensions")return N(b.VAL);if(b.NAME==="OpenAccountLink")return h(b.VAL);if(b.NAME==="ShowPIIForm")return ka(b.VAL);if(b.NAME==="P2MOffsiteBankTransferCTA")return ga(b.VAL.orderID);if(b.NAME==="P2PPaymentTransactionReceiveMoney")return T(b.VAL.id);if(b.NAME==="ShowBoardingPass")return K(b.VAL);if(b.NAME==="P2MOrderDetails")return ea(b.VAL.orderID);if(b.NAME==="ShowStaticLocationDetails")return I(b.VAL);if(b.NAME==="P2PPaymentTransactionDetails")return da(b.VAL.id);if(b.NAME==="P2PPaymentRequestDecline")return R(b.VAL.id);if(b.NAME==="ShowMentorshipDialog")return Y(b.VAL);if(b.NAME==="ShowBookingDetails")return J(b.VAL);if(b.NAME==="ShowOrderConfirmation")return e(b.VAL);if(b.NAME==="ShowCustomerFeedbackForm")return g(b.VAL);if(b.NAME==="ShowMessengerRichWidgetExtension")return O(b.VAL);if(b.NAME==="ShowItinerary")return M(b.VAL);if(b.NAME==="OpenAccountLinkUrl")return D(b.VAL);if(b.NAME==="MakeJoinRoomFromPortal")return X(b.VAL);if(b.NAME==="P2MAttachBankSlip")return fa(b.VAL.orderID);if(b.NAME==="AdmodChatsShowPendingPost"){d=b.VAL;return ba(d.targetId,d.groupId,d.authorId,d.postId,d.activityLogItemId)}if(b.NAME==="P2PPaymentRequestConfirm")return Q(b.VAL.id);if(b.NAME==="MakeRtcCall")return V(b.VAL);if(b.NAME==="ProcessMarketplaceCallFunction"){d=b.VAL;var l=d.actionType,m=d.attachmentFbid,o=d.messageId;d=d.targetId;return ha(o,m,d,l)}if(b.NAME==="ShowPIIFormForFormBuilder")return i(b.VAL);if(b.NAME==="ShowLiveLocationDetails")return n(b.VAL);if(b.NAME==="AdmodChatsShowMemberRequest"){o=b.VAL;return aa(o.targetId,o.groupId,o.profileId,o.activityLogItemId)}if(b.NAME==="ShowGuestChatHistory")return L(b.VAL);if(b.NAME==="ShowInThreadFormDetails")return la();if(b.NAME==="ShowPhoneVerificationDialog")return ma();m=b.VAL;d=m.threadId;l=m.listingId;switch(m.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(d!=null)return ja(d);else return;case"SHIPPED_OFFER_CANCEL":if(l!=null)return ia(l);else return;default:return}}}e=a;g.useHandler=e}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function k(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight;a=a.src;var f=i(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=h.jsx("img",{alt:b,className:c("stylex")(j.image,d==null?!1:j.imageFill),src:a,style:f});if(d!=null)return h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}function l(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;c=(a=c)!=null?a:null;a=i(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var j=i(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return h.jsx("div",{className:"x193iq5w",children:h.jsx("div",{style:j,children:h.jsx("div",{className:d,style:a,children:c})})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,i=a.src;a=a.width;var j=a!=null&&e!=null?a/e:void 0;return h.jsxs(l,{aspectRatio:j,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[h.jsx(k,{alt:b,aspectRatio:j,maxHeight:f,src:i}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=l;g.MWPStableImage=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.table("media_staging")).getKeyRange(b):d("ReQL").empty()},[b],f.id+":26");return a!=null&&a.isSent?h.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMessageListAttachmentDimensions",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){return h(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return a!=null&&c!=null&&d!=null&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.bs","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useLayoutEffect;function a(){var a=h(d("MWV2MessageRowIsRowFocusedContext.bs").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var j=c("usePrevious")(g);i(function(){if(j!=null){b===!0&&j>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,j,g]);return e}g["default"]=a}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWInboxInfoSharedContentQPLLogger.bs","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.bs","MWPStableImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick.bs","gkx","react","stylex","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={appAttr:{alignItems:"x6s0dn4",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},appText:{color:"xzsf02u",fontSize:"x1nxh6w3",wordBreak:"x13faqbe",$$css:!0},container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0},incomingConnectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incomingConnectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoingConnectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoingConnectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0},withAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function k(a){a=a.attachment;var b=a.attributionAppName;if(b==null)return null;a=a.attributionAppIcon;return i.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!=null?i.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,i.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b,e=a.attachment,f=a.connectBottom,g=a.connectTop,l=a.getPreviewUrl,m=a.message,n=a.navigateToRouteForMediaViewer;a=a.outgoing;var o=c("useReStore")(),p=(b=n)!=null?b:!0;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var q=e.attributionAppName!=null;b=c("useMWMessageListAttachmentDimensions")(b,e);var r=b[0];b=b[1];var s=c("useMWV2MediaViewerURL")(e);g=g?a?j.outgoingConnectTop:j.incomingConnectTop:!1;f=f===!0?a?j.outgoingConnectBottom:j.incomingConnectBottom:!1;a=c("gkx")("1924962");var t=c("useMWV2FocusRowAfterClosingPushView")();n=c("useMWV2MediaViewerShowDialog")((n=n)!=null?n:!0);var u=n[0],v=n[1];n=l(e);if(n==null||n.length===0)return null;l=p&&d("I64").gt(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:n},url:s}:void 0;s=function(){d("MWV2LogMessageClick.bs").log(o,m,28);d("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread("media");t(function(){return!0});if(!p)return u({attachment:e},function(){})};return i.jsxs(c("MWMessageListMediaPressableContainer.bs"),{attachment:e,disabled:d("I64").le(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),linkProps_:l,onHoverIn:function(){if(!p)return v()},onPress:s,testid:void 0,xstyle:[j.container,j.standalone,g,f],children:[i.jsx(d("MWPStableImage.react").MWPStableImage,{alt:e.titleText!=null&&a?e.titleText:h._("__JHASH__mrw3CpFXi7r__JHASH__"),className:c("stylex")(j.content,q?j.withAppAttribution:j.standalone,g,f),height:b!=null?d("I64").to_float(b):void 0,maxHeight:200,maxWidth:480,src:n,width:r!=null?d("I64").to_float(r):void 0,children:i.jsx(k,{attachment:e})}),d("I64").le(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?i.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,i.jsx(c("MWChatImageInsetShadow.react"),{xstyle:[g,f]})]},e.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWResponsiveVideo.bs",["CometObjectFitContainer.react","CometPlaceholder.react","LSIntEnum","MDSGlimmer.react","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","deferredLoadComponent","gkx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.bs")),k={container:{maxWidth:"x193iq5w",minHeight:"x11md1zd",minWidth:"x450l9j",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},fill:{bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function l(a){return[a==="Inbox"?240:180,140]}function a(a){var b=a.connectTopStyles,e=a.fbid,f=a.height,g=a.maxHeight,m=a.maxWidth,n=a.src,o=a.width,p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=i(function(){var a=o!=null?f!=null?[o,f]:[500,300]:[500,300];return a[0]/a[1]},[o,f]);var q=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),r=c("gkx")("1581")&&q(d("LSIntEnum").ofNumber(46));q=i(function(){var a=l(p);return{maxHeight:g.toString()+"px",minHeight:r?a[1].toString(10)+"px":"",minWidth:r?a[0].toString(10)+"px":"",width:Math.min((a=o)!=null?a:500,m).toString()+"px"}},[g,o,m,r,p]);return h.jsxs("div",{className:"x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",style:q,children:[h.jsx("div",{className:"x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy x1vjfegm",children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:c("stylex")(k.glimmerFallback,b),children:h.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.glimmer})}),children:h.jsx(j,{autoPlaySetting:r?"off":void 0,controls:"mwchat",fbid:e,hideExpandButton:!0,originalHeight:(q=f)!=null?q:300,originalWidth:(b=o)!=null?b:500,sdSrc:n})})}),h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:a,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatVideo.bs",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.bs","MWResponsiveVideo.bs","MWV2AttachmentProgressBar.react","MWV2LogMessageClick.bs","MWVideoPlayerControllerContext.react","react","recoverableViolation","useCometRouterDispatcher","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useMemo,l=b.useRef,m={incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xcrg951",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function n(a){var b=a.attachment,e=a.connectTop,f=a.getPreviewUrl,g=a.message,k=a.navigateToRouteForMediaViewer,l=k===void 0?!0:k;k=a.outgoing;var n=c("useReStore")(),o=c("useCometRouterDispatcher")(),p=c("useMWV2MediaViewerURL")(b);a=e?k?m.outgoing_connect_top:m.incoming_connect_top:!1;var q=c("useMWV2FocusRowAfterClosingPushView")();e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();k=c("useMWV2MediaViewerShowDialog")(l);var r=k[0],s=k[1],t=j(c("MWVideoPlayerControllerContext.react")),u=f(b);if(u==null||u==="")return null;k=b.previewWidth;f=b.previewHeight;var v={ariaLabel:h._("__JHASH__Sk-r4mWi0bD__JHASH__"),attachment:b,disabled:d("I64").le(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),onHoverIn:function(){if(!l)return s()},onPress:function(){d("MWV2LogMessageClick.bs").log(n,g,27);q(function(){return!0});if(!l)return r({attachment:b},function(){});var a=t.ref.current;if(a){var e=a.getCurrentState();e=e.volume;var f=a.getPlayheadPosition();o==null?void 0:o.go(p,{passthroughProps:{origSrc:u,startTimestamp:f,volumeSetting:e}});a.setMuted(!0,"product_initiated")}else c("recoverableViolation")("Missing controller","messenger_web_product")},overlayDisabled:!0,testid:"chat-video",xstyle:[m.root,a]};return i.jsxs(c("MWMessageListMediaPressableContainer.bs"),babelHelpers["extends"]({},v,{children:[i.jsx(c("MWResponsiveVideo.bs"),{connectTopStyles:a,fbid:b.attachmentFbid,height:f!=null?d("I64").to_float(f):void 0,maxHeight:200,maxWidth:e==="Inbox"?500:167,src:u,width:k!=null?d("I64").to_float(k):void 0}),d("I64").le(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?i.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null,i.jsx(c("MWChatImageInsetShadow.react"),{xstyle:a})]}))}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=l(null),d=k(function(){return{ref:b}},[b]);return i.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:d,children:i.jsx(n,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2Sticker.react",["I64","MWChatImageSize.bs","MWLSThreadDisplayContext","MWPColorUtils","Sticker.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i(function(){var c=b!=null?b==="Inbox"?.75:.5:.5;if(a<60)return 1;else return c},[a,b])}function a(a){var b,e=a.attachment,f=a.getPreviewUrl,g=a.scale;a=a.xstyle;f=f(e);var i=e.previewHeight!=null?d("I64").to_int32(e.previewHeight):void 0,k=e.previewWidth!=null?d("I64").to_int32(e.previewWidth):void 0;b=j((b=i)!=null?b:120);var l=c("useMWPThreadTheme")(),m=k!=null&&i!=null;m=d("MWChatImageSize.bs").useImageSize(f,m);k=k!=null&&i!=null?[k,i]:m!=null?[m.width,m.height]:[24,24];i=k[0];m=k[1];return h.jsx(c("Sticker.react"),{accessibilityLabel:(k=e.accessibilitySummaryText)!=null?k:"",animationTrigger:"load_and_hover",className:c("stylex")(a),customColor:d("MWPColorUtils").int64ToHex(l.threadTheme.fallbackColor),enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:(k=g)!=null?k:b,sourceHeight:m,sourceURI:f,sourceWidth:i,spriteURI:void 0,stickerID:e.attachmentFbid,tabIndex:-1})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListAttachment.react",["fbt","LSMediaUrl.bs","MWAudioPlayer.react","MWLSThreadDisplayContext","MWV2ChatImage.react","MWV2ChatVideo.bs","MWV2Sticker.react","MWV2TombstonedMessage.bs","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.connectBottom,d=a.connectTop;a=a.xstyle;return i.jsx("div",{className:c("stylex")(a),children:i.jsx(c("MWV2TombstonedMessage.bs"),{connectBottom:b,connectTop:d,children:h._("__JHASH__962PS6SI-P2__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachment,e=a.connectTop,f=a.message,g=a.navigateToRouteForMediaViewer;a=a.outgoing;var h=j(function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)},[]);return i.jsx(c("MWV2ChatVideo.bs"),{attachment:b,connectTop:e,getPreviewUrl:h,message:f,navigateToRouteForMediaViewer:g,outgoing:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.attachment,c=a.isReply;a=a.outgoing;var e=j(function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)},[]);return i.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:b,getPlayableUrl:e,isReply:c,outgoing:a})}e.displayName=e.name+" [from "+f.id+"]";function k(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.message,h=a.navigateToRouteForMediaViewer;a=a.outgoing;var k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),l=j(function(a){var b=a.previewUrlLarge;return b!=null&&k==="Inbox"?b:d("LSMediaUrl.bs").Attachment.previewUrl(a)},[k]),m=function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)};return i.jsx(c("MWV2ChatImage.react"),{attachment:b,connectBottom:e,connectTop:f,getPlayableUrl:m,getPreviewUrl:l,message:g,navigateToRouteForMediaViewer:h,outgoing:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.attachment;var b=j(function(a){var b;b=(b=d("LSMediaUrl.bs").Attachment.playableUrl(a))!=null?b:d("LSMediaUrl.bs").Attachment.previewUrl(a);if(b!=null)return b;c("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web")},[]);return i.jsx(c("MWV2Sticker.react"),{attachment:a,getPreviewUrl:b})}l.displayName=l.name+" [from "+f.id+"]";g.MWMessageListAttachmentError=a;g.MWMessageListAttachmentVideo=b;g.MWMessageListAttachmentAudio=e;g.MWMessageListAttachmentImage=k;g.MWMessageListAttachmentSticker=l}),98);
__d("MWUseArePollsEnabled",["MWCMIsAnyCMThread","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread").useThread(a);var b=c("gkx")("1845815");return b||a!=null&&c("MWCMIsAnyCMThread")(a.threadType)}g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatTextTransform","MWV2ChatBubble.react","cr:2472","cr:3200","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var e=a.hasEmphasisRing;e=e===void 0?!1:e;var f=a.isSecureMessage;f=f===void 0?!1:f;a=a.message;var g=i(function(){return d("MWChatTextTransform").epdTextTransformsWithOptions({size:32})},[]),j=a.text;if(j==null)return null;j=b("cr:2472")==null?j:b("cr:2472").unvault(j);a=a.hotEmojiSize;a=a!=null&&(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)));if(f&&a&&j==="\ud83d\udc4d")return b("cr:3200")==null?null:h.jsx(b("cr:3200"),{});f=h.jsx(c("CometTextWithEntities.react"),{text:j,transforms:g,withParagraphs:!0});return e?h.jsx(d("MWV2ChatBubble.react").EmphasisRing,{hasXMA:!1,isBeforeXMA:!1,isOutgoing:!1,shouldConnectBottom:!1,shouldConnectTop:!1,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatFileV2.bs",["fbt","ConstUriUtils","I64","LSMediaUrl.bs","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger.bs","MWV2ChatAttachmentParserUtils.bs","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=j(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=j(function(){var a=b.filesize!=null?d("I64").to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=j(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrl.bs").Attachment.playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils.bs").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);a={children:i.jsxs("div",{className:c("stylex")(k.root,!1),children:[i.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),i.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[i.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),i.jsx("div",{className:"x889kno",children:i.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]}),entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent(d("I64").to_string(b.threadKey),b.messageId,d("I64").to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread("files")}};f=b.attachmentFbid;f!=null&&(a.attachmentID=f);g!=null&&(a.url=g.toString());return i.jsx(c("MWFilePressable.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatImagesGrid.bs",["fbt","CometImageCover.react","CometPhotoGrid.react","CometPressable.react","LSMediaUrl.bs","MWLSThreadDisplayContext","react","stylex","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={large:{width:"x7cdydq",$$css:!0},pressable:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function l(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j(function(){var c=a.previewUrlLarge;if(c!=null&&b==="Inbox")return c;else return d("LSMediaUrl.bs").Attachment.previewUrl(a)},[a,b])}function m(a){a=a.attachment;var b=l(a);a=c("useMWV2MediaViewerURL")(a);if(b!=null)return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{passthroughProps:{origSrc:b},url:a},overlayRadius:4,xstyle:function(){return[k.pressable]},children:i.jsx(c("CometImageCover.react"),{src:b})});else return null}function a(a){a=a.attachments;var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i.jsx("div",{className:c("stylex")(k.root,b==="Inbox"?k.large:k.small),"data-testid":void 0,children:i.jsx(c("CometPhotoGrid.react"),{children:a.map(function(a){return i.jsx(m,{attachment:a},a.attachmentFbid)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts",POLL:"pl",AI:"ai",AI_IMAGE:"aii"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="c")return"cc";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeType.bs","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return h.test(c)===!1});b=f.contents!==a.length&&!h.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function i(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function j(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(d("I64").of_string(b)),f.id+":114")}catch(b){a=void 0}if(a==null)return i(b);var e=a.contactTypeExact;if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return i(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return i(b)}function e(a,b,c,e,f,g){b=b.split(",");var h=c.split(","),k=e.split(","),l=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeType.bs").ofString(l[e]),m=Number(h[e]);e=Number(k[e]);var n=d("UnicodeUtils").strlen(g.slice(0,e));n=e-n;e=e-n;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:i(c)},length:m,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:j(a,c)},length:m,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:d("I64").of_string(c)},length:m,offset:e}):f==="s"&&b.push({entity:{__typename:"Command"},length:m,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExists","MWPContactContext.react","ReQL","ReQLSuspense","memoizeByIdentity","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.children,e=a.contactId,g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e)},[g,e],f.id+":67");a=i(function(){var a=void 0;return{contact:j,nickname:a}},[j]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyContactRowExists")(e,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a))},"readwrite"))},[g,e]);return h.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.children,c=a.contact,e=a.nickname;a=i(function(){return{contact:c,nickname:e}},[c,e]);return h.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.contactId,g=a.threadKey,i=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(e)},[e,i],f.id+":143");var l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("participants")).getKeyRange(g,e).map(c("memoizeByIdentity")(function(a){return a.nickname}))},[e,i,g],f.id+":147"),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("threads")).getKeyRange(g).map(function(a){var b=a.parentThreadKey,c=a.secondaryParentThreadKey;a=a.threadType;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contextual_profile_v1")).getKeyRange(e,d("LSMessagingThreadTypeUtil").isCMSubthread(a)&&c!=null?c:b),f.id+":168");return a==null?void 0:a.profileName})},[i,g,e],f.id+":162");m=m!=null?m:l;if(a!=null)if(d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return h.jsx(k,{contact:a,nickname:m,children:b});else return h.jsx(j,{contactId:e,children:b});else return h.jsx(j,{contactId:e,children:b})}a=h.memo(a,function(a,b){if(a!=null&&b!=null&&d("I64").equal(a.contactId,b.contactId)&&d("I64").equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.authorName;return[a]}function e(){var a=d("MWPContactContext.react").useMWPContactFullContext();a=a.contact;var b=a!=null?a.name:void 0;return[b,a]}g.MissingContactProvider=j;g.Provider=k;g.MWPMessageAuthor=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];return a!=null?h._("__JHASH___lYaXtrKDTe__JHASH__",[h._param("first name",a)]):h._("__JHASH__I-2GRtvMpnJ__JHASH__")}g["default"]=a}),98);
__d("MWV2ChatUnsentMessage.react",["fbt","CometPressable.react","I64","MWCMIsAnyCMThread","MWLSThread","MWV2TombstonedMessage.bs","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","react","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={linkText:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function k(a){var b=a.attachment,d=a.isSecureMessage;a=a.message;var e=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=c("useMAWUnsendContentInSecureThread")(a);if(d)d=a;else if(b!=null){a=b.descriptionText;d=a!=null?a:e}else d=e;return i.jsx(c("MWV2TombstonedMessage.bs"),{ariaLabel:d.toString(),children:d})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.attachment;if(a!=null){a=a.descriptionText;a=a!=null?a:h._("__JHASH__eGohYC1zonu__JHASH__")}else a=h._("__JHASH__eGohYC1zonu__JHASH__");return i.jsx(c("MWV2TombstonedMessage.bs"),{ariaLabel:a.toString(),children:a})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!=null){b=b.cta1Title;b=b!=null?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!=null)return i.jsx(c("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:d("I64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[j.linkText]},children:i.jsx(c("MWXText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var g=c("useReStore")(),h=e.messageId,j=e.threadKey,n=d("MWLSThread").useThread(j),o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(j,h)},[g,h,j],f.id+":165");if(o!=null){var p=o.cta1Type;p=p!=null?p==="xma_view_activity_log":!1}else p=!1;return i.jsxs(i.Fragment,{children:[a?i.jsx(l,{attachment:o}):i.jsx(k,{attachment:o,isSecureMessage:b,message:e}),n!=null&&p&&c("MWCMIsAnyCMThread")(n.threadType)?i.jsx(m,{attachment:o,thread:n}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatUnsentMessage=a}),98);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.attachment;a=a.descriptionText;return i.jsxs("div",{className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o",children:[i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})}),i.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f x13faqbe",children:[i.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__Uhh5LwoNOuv__JHASH__")}),a!=null?i.jsx("div",{className:"x889kno",children:i.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV1Enabled",["LSIntEnum","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV1UICapability:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(158),a)}}))!=null?a:{};a=a.pollsV1UICapability;return a===!0}g["default"]=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("useMWPLinkRendererFactory",["LSIntEnum","MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=c("gkx")("1886144")&&b(d("LSIntEnum").ofNumber(45));return function(b,d,f,g){return e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useMWTextRenderers",["CometErrorBoundary.react","GroupsCometJoinChatDialog.entrypoint","I64","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder","MWLSThread","MWMessageCellFocusTable.bs","MWNavigationContext","MWXLink.react","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWPCombineTextRenderers","useMWPLinkRendererFactory","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={bold:{fontWeight:"x1s688f",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",$$css:!0}};function k(a){var b=a.folder,e=a.node,f=a.thread;a=c("useMWNavigation")();var g=a.openTabOrInbox;a=(a=f.hasPendingInvitation)!=null?a:!1;var i=c("useMWCMShouldGoToFullScreenChatHook")(),j={invited:a,shouldGoToMessenger:i};a={groupID:d("I64").to_string(b.fbGroupId),threadID:d("I64").to_string(f.threadKey)};i=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),a);var k=i[0],l=function(){return k(j)};return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:h.jsx(c("MWXLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(f.threadType))return l();else return g({clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType},"mention")},children:e})})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.folder,c=a.thread,e=d("I64").to_string(b.folderId),f=d("I64").to_string(c.threadKey);b=i(function(){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:e,thread_key:f})},[e,f]);return h.jsx(d("MWNavigationContext").Provider,{children:a.children,value:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?h.jsx(l,{folder:f,thread:a,children:h.jsx(k,{folder:f,node:e,thread:a})}):b}var n=["Command",function(a){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],o=["CommunityChannel",function(a,b){var e=h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:h.jsx(m,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b){a=c("useMWPLinkRendererFactory")(a);return c("useMWPCombineTextRenderers")([a([j.underline],"chat_message_regular_link","Link",b),a([j.bold],"profile_link","Profile",b),a([j.highlight],"highlight","Highlight",b),n,o,["MessengerTextFormatting",d("MWChatTextFormatting").messageRenderer]])}g["default"]=a}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.createElement,l=i.useContext,m=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),n=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),o=j({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),g=f(d("LSIntEnum").ofNumber(25));f=f(d("LSIntEnum").ofNumber(24));b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?n.has(b)&&!g||m.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return k(o.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=l(o);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var p={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:h.jsx(c("BaseImage.react"),{height:e!=null?d("I64").to_int32(e):void 0,src:a,width:b!=null?d("I64").to_int32(b):void 0,xstyle:p.image})})}e.displayName=e.name+" [from "+f.id+"]";function q(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrl.bs").AttachmentItem.playableUrl(e),h=d("LSMediaUrl.bs").Attachment.previewUrlLarge(c);b=a?(b=d("LSMediaUrl.bs").AttachmentItem.previewUrlLarge(e))!=null?b:d("LSMediaUrl.bs").AttachmentItem.previewUrl(e):d("LSMediaUrl.bs").AttachmentItem.previewUrl(e);f=f==null?d("LSMediaUrl.bs").Attachment.previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{_0:g,TAG:0};if(a!=null)return{_0:a,TAG:1};return b==="image"&&g!=null?{_0:g,TAG:1}:{_0:void 0,TAG:2}}function r(a,b){var e=a.xmaLayoutType!=null&&!d("I64").equal(a.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=o;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=q;g.useTitleAndSubtitle=r}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["I64","Int64Hooks","LSThreadAttributionStore.bs","MWLSThread","useBlockedUserInterstitial","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.children;a=a.threadKey;return b(h(a))}function h(a){var b=c("useBlockedUserInterstitial")(),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=c("useCometRouterDispatcher")(),g=c("useMWChatOpenTabByThreadKey")(a,"chatInThread"),h=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(c,i){if(e){var j=d("MWLSThread").getThreadExn(h,a);return b(a,j,function(){var a=i.metaKey||i.ctrlKey||i.shiftKey;if(!a)return g()},"chatInThread")}else if(f!=null){j=d("MWLSThread").getThreadExn(h,a);return b(a,j,function(){d("LSThreadAttributionStore.bs").setSource(d("I64").to_string(a),"chatInThread"),f.go(c,{})},"chatInThread")}else return},[h,f,e,b,g,a])}g["default"]=a}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?h(a):"",k=a!=null?j(a):"",l=a!=null?i(a):"",m=e[1],n=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:k,id:d("I64").to_string(b.ctaId),name:"",source:f,type:m},message:{campaign_id:l,id:b.messageId,notification_token:g},page:{id:n},target:{id:n},thread:{id:n}}})}function h(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function i(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","ConstUriUtils","CurrentEnvironment","I64","MWChatPollXMAActionHandler.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSImagePostbackCtaHandler.bs","MWLSPostbackCtaHandler.bs","MWLSWebUrlCtaHandler.bs","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","cr:5751","emptyFunction","gkx","isStringNullOrEmpty","justknobx","nullthrows","useCometRouterDispatcher","useLSMessagingInitiatingSource","useLSMessagingSource","useRollcallContributionsXMAActionHandler","useStartRTCCall"],(function(a,b,c,d,e,f,g){"use strict";var h=(f=(e=b("cr:4539"))!=null?e:b("cr:131"))!=null?f:c("emptyFunction"),i=(e=b("cr:5751"))!=null?e:c("emptyFunction"),j=(e=(f=b("cr:4538"))!=null?f:b("cr:236"))!=null?e:c("emptyFunction"),k=b("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function a(){var a=c("useLSMessagingInitiatingSource")(),b=c("useLSMessagingSource")();b=d("MWLSImagePostbackCtaHandler.bs").usePostbackCtaHandler(b,a);a=c("useStartRTCCall")();var e=d("MWChatXmaThirdPartyActionHandler.bs").useHandler(b,a),f=d("MWLSPostbackCtaHandler.bs").usePostbackCtaHandler(),g=d("MWChatPollXMAActionHandler.bs").useHandler(),l=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),m=d("MWLSWebUrlCtaHandler.bs").useShowWebViewDialog(),n=c("useCometRouterDispatcher")();b=j();var o=h({onSuccess:(a=b)!=null?a:c("emptyFunction")}),p=i();return function(a){var b=a.actionUrl,h=a.platformToken,i=a.type_,j=a.title,q=a.messageId,r=a.threadKey,s=a.attachmentFbid,t=["Title: "+j,"Type: "+i,"PlatformTokenPresent: "+(h!=null).toString(),"ActionUrlPresent: "+(b!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", ");if(i==="xma_roll_call_open_viewer"||i==="xma_roll_call_add_yours")return a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){l(c("nullthrows")(a.targetId),r,null)},secondaryInfo:void 0};if(i==="xma_event_rsvp"&&c("gkx")("3170"))return{actionType:"BUTTON",primaryInfo:function(){},secondaryInfo:void 0};if(i==="xma_rtc_audio"||i==="xma_rtc_missed_audio"||i==="xma_rtc_new_audio_default"||i==="xma_rtc_ended_audio")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"MakeRtcCall",VAL:{hasVideo:!1,threadId:d("I64").to_string(r),trigger:i}})},secondaryInfo:void 0};if(i==="xma_rtc_video"||i==="xma_rtc_new_video_default"||i==="xma_rtc_new_video_from_fb_share"||i==="xma_rtc_new_video_from_fb_video_share"||i==="xma_rtc_missed_video"||i==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:d("I64").to_string(r),trigger:i}})},secondaryInfo:void 0};if(i==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return f(h,j)},secondaryInfo:[d("I64").to_string(r),31]};if(i==="xma_open_dialog"){var u;if(b==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};u=(u=d("ConstUriUtils").getUri(b))==null?void 0:u.getQueryData==null?void 0:u.getQueryData();if(u==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var v=String(u.page_id).toString(),w=String(u.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowGuestChatHistory",VAL:{guestId:w,pageId:v}})},secondaryInfo:void 0}}if(i==="xma_p2p_payment_details"||i==="xma_p2p_request_pay"||i==="xma_p2p_payment_details_receive_money"||i==="xma_p2p_verify_info"){var x=a.targetId;return x==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:d("I64").to_string(x)}})},secondaryInfo:void 0}}if(i==="fill_in_thread_form"||i==="filled_in_thread_form_successfully"){var y=a.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(c("nullthrows")(y))})},secondaryInfo:void 0}}if(i==="xma_join_from_portal"&&b!=null)return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:b}})},secondaryInfo:void 0};if(i==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return e(a.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:q}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:q,titleString:j}})},secondaryInfo:void 0};var z=a.actionContentBlob,A=a.targetId;if(i==="xma_poll_details_button"||i==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return g(A,z)},secondaryInfo:void 0};if(i==="xma_otp_verification")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowPhoneVerificationDialog",VAL:JSON.parse(c("nullthrows")(z))})},secondaryInfo:void 0};if(z!=null&&A!=null)try{var B=JSON.parse(z);if(i==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var a=B.activityLogItemID,b=B.groupID,c=B.profileID;return e({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",groupId:b!=null?JSON.stringify(b):"",profileId:c!=null?JSON.stringify(c):"",targetId:A!=null?d("I64").to_string(A):""}})},secondaryInfo:void 0};else if(i==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var a=B.activityLogItemID,b=B.authorID,c=B.groupID,f=B.postID;return e({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",authorId:b!=null?JSON.stringify(b):"",groupId:c!=null?JSON.stringify(c):"",postId:f!=null?JSON.stringify(f):"",targetId:A!=null?d("I64").to_string(A):""}})},secondaryInfo:void 0}}catch(a){if(i!=="marketplace_xma_call_function"||!c("gkx")("5527"))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}u=a.targetId;if(u!=null){var C={orderID:d("I64").to_string(u)};if(i==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"P2MOrderDetails",VAL:C})},secondaryInfo:void 0};else if(i==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"P2MAttachBankSlip",VAL:C})},secondaryInfo:void 0};else if(i==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"P2MOffsiteBankTransferCTA",VAL:C})},secondaryInfo:void 0};if(i==="xma_p2m_checkout"){var D={orderID:d("I64").to_string(u),pageID:d("I64").to_string(r)};return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"P2MCheckout",VAL:D})},secondaryInfo:void 0}}if(i==="xma_p2m_informational_message_bottom_sheet"){var E={contentType:JSON.parse(c("nullthrows")(z)),orderID:d("I64").to_string(u),pageID:d("I64").to_string(r)};return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"P2MInformationalMessageBottomSheet",VAL:E})},secondaryInfo:void 0}}}if(z==null&&(i==="xma_direct_send"||i==="xma_biz_inbox_form_send"||i==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(i==="xma_direct_send")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowPIIForm",VAL:JSON.parse(c("nullthrows")(z))})},secondaryInfo:[d("I64").to_string(r),45]};if(i==="xma_biz_inbox_form_send")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:i,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(c("nullthrows")(z))}})},secondaryInfo:[d("I64").to_string(r),45]};if(i==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:c("nullthrows")(z)}})},secondaryInfo:[d("I64").to_string(r),69]};if(i==="xma_workplace_chat_bot_submit_feedback"){var F={feedbackActionContentBlob:c("nullthrows")(z)};return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"WorkplaceChatBotSubmitFeedback",VAL:F})},secondaryInfo:void 0}}if(i==="xma_account_link")return b==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"OpenAccountLinkUrl",VAL:b})},secondaryInfo:[d("I64").to_string(r),49]};if(i==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){var a;return e({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:(a=b)!=null?a:""}})},secondaryInfo:void 0};if(i==="xma_montage_share"){if(a.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};u=(u=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+d("I64").to_string(a.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:u.setProtocol("https");return u==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:c("nullthrows")(u).toString(),secondaryInfo:void 0}}if(i==="marketplace_xma_call_function")return a.actionContentBlob==null||a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:c("nullthrows")(a.actionContentBlob),attachmentFbid:s,messageId:q,targetId:c("nullthrows")(a.targetId)}})},secondaryInfo:void 0};if(i==="marketplace_xma_open_dialog"){if(b==null||a.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};u=d("ConstUriUtils").getUri(b);if(u==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var G=String(u.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"OpenMarketplaceDialog",VAL:{ctaType:c("nullthrows")(a.actionContentBlob),listingId:G,threadId:d("I64").to_string(r)}})},secondaryInfo:void 0}}if(i==="xma_ctm_in_thread_multiphoto_reply_image"){if(a.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{u=JSON.parse(a.actionContentBlob);var H=u.action_prefill,I=u.ad_id,J=u.customer_id,K=u.index,L=u.page_id,M=u.reply_image_uri;if(H==null||M==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var N='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"SendImagePostback",VAL:{image:M,loggingDetails:{ad_id:I.toString(),consumer_id:J.toString(),index:K,page_id:L.toString()},message:H,platformToken:c("isStringNullOrEmpty")(h)?N:h}})},secondaryInfo:void 0}}catch(a){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(i==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(i==="xma_open_native"){u=a.nativeUrl;if(u!=null&&u.startsWith("fb-messenger://user-thread/")){var O=u.substr("fb-messenger://user-thread/".length);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[d("I64").to_string(r),33],threadKey:d("I64").of_string(O)}}}if(u!=null&&u.startsWith(k.SUBTHREAD_LINK)){try{O=new URL(u),u=O.searchParams.get("subthread_fbid")}catch(a){u=null}if(p!=null&&u!=null){var P=d("I64").of_string(u);return{actionType:"BUTTON",primaryInfo:function(){return p(P)},secondaryInfo:void 0}}}var Q=a.actionContentBlob;if(Q!=null)return{actionType:"BUTTON",primaryInfo:function(){return m(Q)},secondaryInfo:void 0};if(b!=null)if(b.includes("://m.me/j/")&&c("gkx")("6970")){if(c("justknobx")._("159")&&a.targetId!=null){O=d("I64").to_string(a.targetId);var R=c("CurrentEnvironment").messengerdotcom?c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:O}):c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:O});return{actionType:"BUTTON",primaryInfo:function(){return n==null?void 0:n.go(R,{})},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return o==null?void 0:o(b)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:b,secondaryInfo:[d("I64").to_string(r),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+t,secondaryInfo:"messenger_privacy_web"}}if(z!=null&&z.length>0&&z!=="{}"&&!z.includes("notification_message_token"))return{actionType:"BUTTON",primaryInfo:function(){return m(z)},secondaryInfo:void 0};if(b!=null){if(a.enableExtensions===!0){var S={actionLink:b,pageID:d("I64").to_string(r),sourceTitle:(u=j)!=null?u:"",userID:d("I64").to_string(r)};if(i==="xma_open_rich_widget")return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowMessengerRichWidgetExtension",VAL:S})},secondaryInfo:[d("I64").to_string(r),33]};else return{actionType:"BUTTON",primaryInfo:function(){return e({NAME:"ShowMessengerExtensions",VAL:S})},secondaryInfo:[d("I64").to_string(r),33]}}return{actionType:"URL",primaryInfo:b,secondaryInfo:[d("I64").to_string(r),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+t,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(!c("gkx")("713")||b==null||a==null)return h._("__JHASH__jBGVUqdMJ6C__JHASH__");a={ALTERED_MEDIA:h._("__JHASH__pK0fcBDpaEV__JHASH__",[h._param("attachment item title",a)]),ALTERED_PHOTO:h._("__JHASH__dJ_qZg1Bnj2__JHASH__",[h._param("attachment item title",a)]),FALSE_NEWS:h._("__JHASH__9UILySlE-wD__JHASH__",[h._param("attachment item title",a)]),MISLEADING_NEWS:h._("__JHASH__7LJaDiii2kF__JHASH__",[h._param("attachment item title",a)]),MISSING_CONTEXT:h._("__JHASH__JiWZCmbD51v__JHASH__",[h._param("attachment item title",a)]),SENSITIVE:h._("__JHASH__gmdVuVfF78Q__JHASH__",[h._param("attachment item title",a)])};return a[b]}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerDefault.react",["CometPressable.react","I64","MWInboxRouteBuilder","MWLSThread","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MessengerWebUXLogger","ReQL","ReQLSuspense","logXMACtaClicked","react","recoverableViolation","useGetMWXMACtaRegistryHandler","useMWXMAInformedAttachmentLabel","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,g=a.children,j=c("useReStore")(),k=e.defaultCtaId,l=e.defaultCtaType,m=e.threadKey;a=c("useMWXMAInformedAttachmentLabel")(e==null?void 0:e.titleText,b==null?void 0:b.gatingTitle);var n=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.table("attachment_ctas")).getKeyRange((a=k)!=null?a:d("I64").zero)},[j,k],f.id+":61");b=c("useGetMWXMACtaRegistryHandler")();var o=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),p=d("MWLSThread").useThread(m,function(a){return a.threadType});if(n==null)return g;b=b(n);switch(b.actionType){case"BUTTON":var q,r=b.primaryInfo,s=b.secondaryInfo;return h.jsx(c("CometPressable.react"),{"aria-label":(q=e.titleText)!=null?q:"",onPress:function(){o==null?void 0:o({ctaType:l,eventName:"open_xma_attachment_cta",threadKey:m,threadType:p});d("logXMACtaClicked").logXMACtaClicked({cta:n,loggingDetails:s,source:1});return r()},children:g});case"DISABLED_BUTTON":return h.jsx(c("CometPressable.react"),{"aria-label":(q=e.titleText)!=null?q:"",disabled:!0,children:g});case"URL":e=b.primaryInfo;if(!(e.startsWith("http")||e.startsWith("/")))return g;var t=b.secondaryInfo;return h.jsx(c("MWXLink.react"),{href:e,label:a,onClick:function(){return d("logXMACtaClicked").logXMACtaClicked({cta:n,loggingDetails:t,source:1})},target:"_blank",xstyle:i.link,children:g});case"DEEPLINK":q=b.primaryInfo;var u=q.loggingDetails;e=q.threadKey;var v=d("MWInboxRouteBuilder").buildURL({thread_key:d("I64").to_string(e)});return h.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:e,children:function(a){return h.jsx(c("MWXLink.react"),{href:v,onClick:function(b){a(v,b);return d("logXMACtaClicked").logXMACtaClicked({cta:n,loggingDetails:u,source:1})},preventLocalNavigation:!0,xstyle:i.link,children:g})}});case"CTA_ERROR":c("recoverableViolation")(b.primaryInfo,b.secondaryInfo);return g;case"NOT_SUPPORTED":return g}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.children;a=a.isPressable;if(a)return h.jsx(c("MWXMAAttachmentActionTriggerDefault.react"),{attachment:b,attachmentItem:d,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function l(a){if(a==null)return null;switch(d("LSIntEnum").toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler,m=a.renderButtonActionEventButton,n=a.renderButtonActionNonEventButton,o=a.renderDeeplinkActionButton,p=a.renderDisabledButtonActionButton,q=a.renderUrlActionButton,r=a.threadKey,s=a.title,t=a.type,u=c("useReStore")();a=d("MWLSThread").useThread(r,function(a){return a.threadType});var v=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:t,eventName:"xma_attachment_cta",threadKey:r,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("attachment_ctas")).getKeyRange(g)},[u,g],f.id+":147");j(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(t);a&&k.onReady(function(a){a.logImpression({surface:"admin_message"})})},[t]);if(w==null)return null;h=h(w);e=l(e);var x=null;switch(h.actionType){case"BUTTON":var y=h.secondaryInfo,z=h.primaryInfo,A=t==="xma_event_rsvp"&&c("gkx")("3170");b!=null&&r!=null&&!((a=a)!=null?a:!1)&&A?x=m(b,r,s,e,w,y):A||(x=n(s,e,w,y,z));break;case"URL":a=h.secondaryInfo;x=q(s,e,w,a,h.primaryInfo);break;case"DISABLED_BUTTON":x=p(s);break;case"DEEPLINK":m=h.primaryInfo;b=m.loggingDetails;r=m.threadKey;A=d("MWInboxRouteBuilder").buildURL({thread_key:d("I64").to_string(r)});x=o(s,r,w,b,A);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});x=null;break;case"NOT_SUPPORTED":x=null;break}return i.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:v,children:x})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButton.react",["I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSButton.react","MWCMIsAnyCMThread","MWLSThread","MWUseArePollsEnabled","MWXLazyPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","react","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWCMEventRSVPXMADropdownMenu.react").__setRef("MWXMAAttachmentItemCtaButton.react");function a(a){var b=a.attachmentId,e=a.ctaIconType,f=a.ctaId,g=a.messageId,j=a.threadKey,k=a.title;a=a.type;var l=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),m=d("MWLSThread").useThread(j,function(a){return a.threadType}),n={ctaType:a,eventName:"open_xma_attachment_cta",threadKey:j,threadType:m};m=c("useGetMWXMACtaRegistryHandler")();var o=c("MWUseArePollsEnabled")(j),p=c("useMWCMPollsV1Enabled")(j),q=c("useMWCMPollsV2Enabled")(j),r=d("MWLSThread").useThread(j,function(a){return c("MWCMIsAnyCMThread")(a.threadType)}),s=d("MWLSThread").useThread(j,function(a){return d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)});if(!o&&(a==="xma_poll_details_button"||a==="xma_poll_details_card"))return null;return((o=r)!=null?o:!1)&&!p&&!q&&a==="xma_poll_details_button"?null:h.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:b,ctaIconType:e,ctaId:f,getCtaRegistryHandler:m,messageId:g,renderButtonActionEventButton:function(a,b,e,f,g,j){return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:"stretch",popoverProps:{eventId:d("I64").of_string(a),threadKey:b},popoverResource:i,popoverType:"menu",position:"above",preloadTrigger:"button",children:function(a,b,i,k,m,o){return h.jsx(c("MWXTooltip.react"),{tooltip:e,children:h.jsx(c("MDSButton.react"),{icon:f,label:e,onHoverIn:k,onHoverOut:m,onPress:function(){l==null?void 0:l(n);d("logXMACtaClicked").logXMACtaClicked({cta:g,loggingDetails:j,source:2});return b()},onPressIn:o,ref:a,type:"secondary"})})}})},renderButtonActionNonEventButton:function(a,b,e,f,g){return h.jsx(c("MWXTooltip.react"),{tooltip:a,children:h.jsx(c("MDSButton.react"),{disabled:s,icon:b,label:a,onPress:function(){l==null?void 0:l(n);d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2});return g()},type:"secondary"})})},renderDeeplinkActionButton:function(a,b,e,f,g){return h.jsx(c("MWXTooltip.react"),{tooltip:a,children:h.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:b,children:function(b){return h.jsx(c("MDSButton.react"),{label:a,linkProps:{preventLocalNavigation:!0,url:g},onPress:function(a){b(g,a);l==null?void 0:l(n);return d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})}})})},renderDisabledButtonActionButton:function(a){return h.jsx(c("MWXTooltip.react"),{tooltip:a,children:h.jsx(c("MDSButton.react"),{disabled:!0,label:a,type:"secondary"})})},renderUrlActionButton:function(a,b,e,f,g){return h.jsx(c("MWXTooltip.react"),{tooltip:a,children:h.jsx(c("MDSButton.react"),{icon:b,label:k,linkProps:{target:"_blank",url:g},onPress:function(){l==null?void 0:l(n),d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})})},threadKey:j,title:k,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.icon;if(a==null)return null;if(a.TAG!==0)return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a._0,style:{borderRadius:"50%",height:"36px",width:"36px"}})});a=a._0;return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrl.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return h.jsx("ul",{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWPColorUtils","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;var b=c("useMWPThreadTheme")(),e=b.threadTheme.fallbackColor,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return h.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:function(a){return h.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:h.jsxs("div",{children:[h.jsx(c("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?d("I64").to_int32(a.totalCount):void 0,limit:9,optionId:a.id,overflowStyle:"overlayLastPhoto",size:"large"}),a.titleText!=null?h.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:h.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a.titleText})}):null]})},d("I64").to_string(a.id))},renderPercentageListItem:function(a,b){return h.jsxs("li",{className:"x14vqqas",children:[h.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?h.jsx(c("MWXText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:a.titleText}):null,h.jsx("div",{className:"x1i64zmx",children:h.jsx(c("MWChatPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?d("I64").to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",optionId:a.id,size:"small"})})]}),h.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:h.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{backgroundColor:d("MWPColorUtils").int64ToHex(e),width:d("I64").to_string(b)+"%"}})})]},d("I64").to_string(a.id))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky"||a==="coreblue")return"gray";else if(a==="honey")return"lemon";else if(a==="emerald")return"gray";else{c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return{_0:a,TAG:1};if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{_0:[b,a],TAG:0}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(a.TAG!==0)return{_0:a._0,TAG:1};var b=i(a._0[0]);if(b!=null)return{_0:{color:a._0[1],icon:b},TAG:0}}g.parse=a}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","MDSTextPairing.react","MNLSXMALayoutType","MWCMSubthreadXMAIcons","MWXMAIconParser.react","MWXText.react","gkx","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={description:{paddingTop:"x889kno",$$css:!0},hscroll:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},subthreadDescription:{marginTop:"x1k70j0n",$$css:!0},subthreadXMADescriptionRow:{justifyContent:"x1nhvcw1",$$css:!0},subthreadXMARow:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},titleText:{marginBottom:"xahult9",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}},k=c("gkx")("9072");function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.bodyLineLimit,l=a.facePileElement,m=a.getFaviconUrlXMA,n=a.headlineLineLimit,o=a.isHscroll,p=a.outgoing;p=p===void 0?!1:p;var q=a.subtitleText,r=a.title;a=a.xmaLayout;b=d("I64").equal((b=e.xmaLayoutType)!=null?b:d("I64").zero,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));f=d("MWXMAIconParser.react").parse((m=m(e,f))!=null?m:"");m=h._("__JHASH__SFJQf-uN6yj__JHASH__");var s=h._("__JHASH__-LANapr3SYq__JHASH__");m=r!==""?b&&k?i.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[i.jsx(c("MWXText.react"),{color:p?"secondaryOnMedia":"secondary",type:"meta2",children:r}),i.jsx(d("MWCMSubthreadXMAIcons").ChevronRightIcon,{color:p?"white":"secondary"})]}):i.jsx(c("MDSTextPairing.react"),{headline:b?m:r,headlineLineLimit:n,level:4,testid:void 0}):null;l=q!==""?b&&k?i.jsxs("div",{className:c("stylex")([j.subthreadXMARow,j.subthreadXMADescriptionRow]),children:[l,i.jsx("div",{className:"x1k70j0n",children:i.jsx(c("MWXText.react"),{color:p?"secondaryOnMedia":"secondary",type:"meta2",children:e.replyCount==null||d("I64").equal(e.replyCount,d("I64").zero)?q:d("I64").gt((r=e.replyCount)!=null?r:d("I64").zero,d("I64").of_int32(20))?h._("__JHASH__Dd3JSX2bl8X__JHASH__"):h._("__JHASH__J-X-Y424pwe__JHASH__",[h._plural(d("I64").to_int32((n=e.replyCount)!=null?n:d("I64").zero),"number")])})})]}):i.jsx("div",{className:"x889kno",children:i.jsx(c("MDSTextPairing.react"),{body:b?s:q,bodyColor:"secondary",bodyLineLimit:g,level:4,testid:void 0})}):null;return i.jsxs("div",{className:c("stylex")(j.root,f==null?o?j.hscroll:!1:j.withIcon),children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&m!==null?i.jsx("div",{className:"xahult9",children:m}):m,l]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAEventFacepiles.react",["CometFacepile.react","I64","MWXText.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=a.avatarText,e=a.count,g=a.ctaId,j=a.size;j=j===void 0?32:j;var k=a.urls;a=a.xstyle;var l=g!=null?d("I64").to_string(g):"",m=c("useReStore")();l=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(m.table("attachment_ctas")).getKeyRange(g):d("ReQL").empty()},[m,l],f.id+":60");var n=e!=null?d("I64").le(e,d("I64").of_int32(9)):!1;l=n?void 0:{target:"_blank",url:l==null?void 0:l.actionUrl};n=n?k.map(function(a){return{source:{uri:a}}}):k.slice(0,9).map(function(a){return{source:{uri:a}}});var o=b==null?i.root_center_aligned:i.root_start_aligned,p=b!=null?h.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:b}):void 0;return n.length>0?h.jsx("div",{className:c("stylex")(o),"data-testid":void 0,children:h.jsx("div",{className:c("stylex")(i.facepile,a),role:"gridcell",children:h.jsx(c("CometFacepile.react"),{count:e!=null?d("I64").to_int32(e):k.length,isOverlapping:!0,isTextInline:b!=null,items:n,linkProps:l,size:j,text:p})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.avatarViewUrlExpirationTimestampList,e=a.avatarViewUrlFallbackList;a=a.avatarViewUrlList;if(a==null)if(b!=null)return[];else if(e!=null)return e.split(", ");else return[];if(b==null)return[];if(e==null)return[];a=a.split(", ");var f=b.split(", "),g=e.split(", ");return a.map(function(a,b){var e;try{e=d("LSMediaUrlUtils").isTimestampExpired(d("I64").of_string(f[b]))}catch(a){e=!0}if(e){return(e=c("rewriteFallbackUrl")(g[b]))!=null?e:""}else return a})}g["default"]=a}),98);
__d("MWXMAAttachmentItemBody.react",["I64","LSIntEnum","LSMediaUrl.bs","MDSTextPairing.react","MNLSXMALayoutType","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MWXMAIconParser.react","getLSMediaAttachmentAvatarViewUrlList","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",$$css:!0},descriptionSubtitleText:{display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"xwib8y2",paddingTop:"x889kno",$$css:!0},descriptionText:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginEnd:"xw3qccf",$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},secondaryDescriptionText:{marginBottom:"xod5an3",$$css:!0},subthreadFacepiles:{marginEnd:"xmo9yow",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function a(a){var b,e,f=a.attachment,g=a.attachmentItem,m=a.bodyLineLimit,n=a.getFaviconUrlXMA,o=a.headlineLineLimit,p=a.isHscroll,q=a.isPressable,r=a.isStandalone,s=a.outgoing;s=s===void 0?!1:s;a=a.xmaLayout;b=d("MWXMAIconParser.react").parse((b=n(f,g))!=null?b:"");e=d("I64").equal((e=f.xmaLayoutType)!=null?e:d("I64").zero,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var t=g.titleText==null&&g.subtitleText==null&&b==null,u=g.titleText!=null||!r?g.titleText:f.titleText,v=g.subtitleText!=null||!r?g.subtitleText:f.subtitleText,w=c("getLSMediaAttachmentAvatarViewUrlList")(f);e=w.length!==0&&!e?[h.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,urls:w})]:[];w=u==null&&v==null?[]:[h.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:f,attachmentItem:g,isPressable:q,children:h.jsxs("div",{className:c("stylex")(i.description,b==null?!1:i.hasFavicon),children:[h.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:b}),h.jsx(c("MWXMAAttachmentItemMainText.react"),{attachment:f,attachmentItem:g,bodyLineLimit:m,facePileElement:d("I64").equal((q=f.avatarCount)!=null?q:d("I64").zero,d("I64").zero)?null:h.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,size:16,urls:w,xstyle:i.subthreadFacepiles}),getFaviconUrlXMA:n,headlineLineLimit:o,isHscroll:p,isStandalone:r,outgoing:s,subtitleText:(b=v)!=null?b:"",title:(q=u)!=null?q:"",xmaLayout:a})]})})];n=f.listItemsDescriptionText;p=f.listItemsDescriptionSubtitleText;r=f.cta2IconType;s=f.cta3IconType;v=f.listItemId1;b=f.listItemsSecondaryDescriptionText;u=f.messageId;q=f.threadKey;var x=g.attachmentCta1Id,y=g.attachmentCta2Id,z=g.attachmentCta3Id,A=g.cta1IconType,B=g.cta1Title,C=g.cta1Type,D=g.cta2Title,E=g.cta2Type,F=g.cta3Title,G=g.cta3Type;t=C!=null&&B!=null&&x!=null?[h.jsxs("div",{className:c("stylex")(i.buttonsWrapper,t?i.buttonsOnly:!1),children:[h.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:A,ctaId:x,messageId:u,threadKey:q,title:B,type:C}),E!=null&&D!=null&&y!=null?h.jsxs(h.Fragment,{children:[h.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:r,ctaId:y,messageId:u,threadKey:q,title:D,type:E}),G!=null&&F!=null&&z!=null?h.jsx(c("MWXMAAttachmentItemCtaButton.react"),{ctaIconType:s,ctaId:z,messageId:u,threadKey:q,title:F,type:G}):null]}):null]})]:[];A=n!=null?[h.jsx(j,{headlineLineLimit:o,listItemsDescriptionText:n})]:[];x=p!=null?[h.jsx(k,{bodyLineLimit:m,value:p})]:[];B=v!=null?[h.jsx(c("MWXMAAttachmentItemListItems.react"),{attachment:f})]:[];C=b!=null?[h.jsx(l,{bodyLineLimit:m,listItemsSecondaryDescriptionText:b})]:[];r=[w,A,x,e,B,C,t].reduce(function(a,b){return a.concat(b)},[]);y=d("LSMediaUrl.bs").Attachment.previewUrl(f)!=null||d("LSMediaUrl.bs").AttachmentItem.previewUrl(g)!=null||d("LSMediaUrl.bs").AttachmentItem.playableUrl(g)!=null;return r.length===0?null:h.jsx("div",{className:c("stylex")(i.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?i.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!y&&f.headerTitle!=null?i.rootWithHeaderAndNoMedia:!1),children:r.map(function(a,b){return h.jsx(h.Fragment,{children:a},String(b))})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return h.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:h.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4,textAlign:"center"})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.bodyLineLimit;a=a.value;return h.jsx("div",{className:"x78zum5 xl56j7k xwib8y2 x889kno",children:h.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return h.jsx("div",{className:"xod5an3",children:h.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemAttribution.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?h.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[h.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od",src:b}),h.jsx("span",{className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe",children:a})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemImage.react",["CometImageCover.react","I64","LSIntEnum","MNLSXMALayoutType","cr:5951","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.attachment,f=a.attachmentItem,g=a.cardWidth,i=a.isStandalone,j=a.previewUrl;a=a.xmaLayout;var k=f.previewWidth==null?0:d("I64").to_int32(f.previewWidth),l=f.previewHeight==null?0:d("I64").to_int32(f.previewHeight),m=f.defaultCtaType;m==="xma_montage_share"?m=!0:m=f.imageUrl==null?i:k===l;f=k!==0?l!==0?k/l:0:0;e.xmaLayoutType!=null&&d("I64").equal(e.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))&&(m=!0,f=2);i=g;g={height:(f===0?106:i/f).toString()+"px",width:i.toString()+"px"};var n={};a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(l>k&&(g.height=i.toString()+"px",g.width=(f===0?106:i*f).toString()+"px"),n=babelHelpers["extends"]({aspectRatio:void 0,flexGrow:"0",margin:"auto"},g));if(j.length===0||j==="")return null;a={height:(f===0?i-106:i/f).toString()+"px",width:i.toString()+"px"};if(e.gatingTitle!=null&&e.gatingType!=null&&b("cr:5951")!=null)return h.jsx(b("cr:5951"),{dimension:a,gatingTitle:e.gatingTitle,gatingType:e.gatingType,previewUrl:j});return m?h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:h.jsx("img",{alt:"",src:j,style:babelHelpers["extends"]({aspectRatio:f,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},n)})}):h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",style:g,children:h.jsx(c("CometImageCover.react"),{alt:"",src:j,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MDSGlimmer.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWRollcallXMAAttachmentItemImage.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","MWXMAAttachmentItemImage.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultPreview.react")),j={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.cardWidth,j=a.getPlayableUrl,k=a.getPreviewUrlXMA,m=a.isPressable,n=a.isStandalone;a=a.xmaLayout;b=(b=e.shouldAutoplayVideo)!=null?b:!1;var o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();o=o==="Inbox";o=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:e,attachmentItem:f,getPreviewUrl:k,preferLargePreview:o});k=k(e,f);j=j(e,f);switch(o.TAG){case 0:return j==null?null:h.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:[h.jsx(l,{attachmentItem:f,children:h.jsx(i,{controls:b?"none":"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,originalHeight:f.previewHeight!=null?d("I64").to_int32(f.previewHeight):0,originalWidth:f.previewWidth!=null?d("I64").to_int32(f.previewWidth):0,sdSrc:j})}),b?h.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:e}):null]});case 1:if(k==null)return null;if(f.defaultCtaType==="xma_roll_call_open_viewer"){return h.jsx(c("MWRollcallXMAAttachmentItemImage.react"),{previewUrl:k,shouldBlur:(o=e.shouldBlurSubattachments)!=null?o:!1})}return h.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:h.jsx(c("MWXMAAttachmentItemImage.react"),{attachment:e,attachmentItem:f,cardWidth:g,isStandalone:n,previewUrl:k,xmaLayout:a})});case 2:return null}}a.displayName=a.name+" [from "+f.id+"]";function k(){return h.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:h.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.glimmer})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b,e=a.attachmentItem;a=a.children;b=d("I64").to_int32((b=e.previewWidth)!=null?b:d("I64").zero);e=d("I64").to_int32((e=e.previewHeight)!=null?e:d("I64").zero);b=b!==0?e!==0?b/e:0:0;e=e>250&&b<.8;return h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e?.8:b,children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(k,{}),children:a})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeaderIcon.bs",["CometImageCover.react","CometSkittleIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;if(b.TAG===1){a=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometImageCover.react"),{alt:"Icon for this message's header",src:b._0,style:{borderRadius:"50%",height:a,width:a}})})}return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometSkittleIcon.react"),{color:b._0.color,icon:b._0.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeader.react",["MDSTextPairing.react","MWXMAAttachmentItemHeaderIcon.bs","MWXMAIconParser.react","MWXText.react","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},withBorder:{borderBottom:"xua58t2",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var f=b.headerTitle;if(f==null)return null;var g=b.headerSubtitleText;e=e(b);b=e==null?void 0:d("MWXMAIconParser.react").parse(e);e=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;return h.jsxs("div",{className:c("stylex")(i.root,e?i.withBorder:!1),children:[b!=null&&h.jsx(c("MWXMAAttachmentItemHeaderIcon.bs"),{icon:b,xmaLayout:a}),e&&g!==null&&g!=null&&g!==""?h.jsx(c("MDSTextPairing.react"),{headline:f,level:4,meta:g}):h.jsx(c("MWXText.react"),{type:"bodyLink3",children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.bodyLineLimit,f=a.cardWidth,g=a.getFaviconUrlXMA,i=a.getHeaderUrlXMA,j=a.getPlayableUrl,k=a.getPreviewUrlXMA,l=a.headlineLineLimit,m=a.isHscroll,n=a.isPressable,o=a.isStandalone,p=a.outgoing;p=p===void 0?!1:p;a=a.xmaLayout;var q=b.defaultCtaType;return q==="xma_montage_share"||q==="xma_roll_call_open_viewer"?h.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:d,cardWidth:f,getPlayableUrl:j,getPreviewUrlXMA:k,isPressable:n,isStandalone:o,xmaLayout:a}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:i,xmaLayout:a}),h.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:d,cardWidth:f,getPlayableUrl:j,getPreviewUrlXMA:k,isPressable:n,isStandalone:o,xmaLayout:a}),h.jsx(c("MWXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:d,bodyLineLimit:e,getFaviconUrlXMA:g,getPreviewUrlXMA:k,headlineLineLimit:l,isHscroll:m,isPressable:n,isStandalone:o,outgoing:p,xmaLayout:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","MWXIcon.react","MWXMAAttachmentActionTrigger.react","MWXText.react","cr:5951","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",$$css:!0},privateBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1dr9wh",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0},publicBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"xzudefj",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1iu8u7t",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",maxWidth:"x193iq5w",minHeight:"xisnujt",minWidth:"x1jzhcrs",width:"xh8yej3",$$css:!0},sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function a(a){var d=a.attachment,e=a.attachmentItem,f=a.getPreviewUrlXMA;f=f===void 0?c("emptyFunction"):f;a=a.isPressable;var g=d.defaultCtaType;f=f(d,e);if(d.gatingTitle!=null&&d.gatingType!=null&&b("cr:5951")!=null)return j.jsxs(j.Fragment,{children:[j.jsx(b("cr:5951"),{gatingTitle:d.gatingTitle,gatingType:d.gatingType,previewUrl:f,xstyle:k.sensitiveContent}),j.jsx(m,{attachment:d,attachmentItem:e,isPressable:a})]});return g==="xma_montage_share"?j.jsx(l,{attachment:d}):j.jsxs(j.Fragment,{children:[j.jsx(l,{attachment:d}),j.jsx(m,{attachment:d,attachmentItem:e,isPressable:a})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.attachment;var b=new(c("IconSource"))("FB",i("1423125"),32);a=a.defaultCtaType;if(a==="xma_montage_share")return j.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("MWXIcon.react"),{icon:b})})});a=h._("__JHASH__EXLuTpYr-at__JHASH__");return j.jsxs("div",{className:"x6s0dn4 x99fzhk xzudefj x78zum5 xdt5ytf x1iu8u7t xl56j7k x2b8uid xh8yej3",children:[j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("MWXIcon.react"),{icon:b})}),j.jsx(c("MWXText.react"),{color:"white",type:"bodyLink4",children:a})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.attachment,d=a.attachmentItem;a=a.isPressable;return j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:a,children:j.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf",children:j.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3",children:j.jsx(c("MWXText.react"),{type:"meta4",children:h._("__JHASH__N1DOsSnTIti__JHASH__")})})})})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItem.react",["I64","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},k=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),l=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var b,e=a.attachment,g=a.attachmentItem,m=a.bodyLineLimit;m=m===void 0?3:m;var n=a.cardWidth;n=n===void 0?300:n;var o=a.getFaviconUrlXMA,p=a.getHeaderUrlXMA;p=p===void 0?d("LSMediaUrl.bs").Attachment.headerImageUrl:p;var q=a.getPlayableUrl,r=a.getPreviewUrlXMA,s=a.headlineLineLimit;s=s===void 0?3:s;var t=a.isHscroll,u=a.isStandalone,v=a.outgoing;v=v===void 0?!1:v;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var w=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),x=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",y=i(function(a,b){a=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:b,preferLargePreview:x});switch(a.TAG){case 0:case 1:return a._0;case 2:return}},[x]),z=w(d("LSIntEnum").ofNumber(25));w=w(d("LSIntEnum").ofNumber(24));var A=c("useReStore")(),B=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(A.table("threads")).getKeyRange(e.threadKey)},[A,e.threadKey],f.id+":128"),C=e.defaultCtaType;z=C!=null?l.has(C)&&!z||k.has(C)&&!w:!1;w=(C=e.shouldAutoplayVideo)!=null?C:!1;C=w&&e.attributionAppIcon!=null&&e.attributionAppName!=null;w=c("stylex")(j.root,C?j.withBorder:!1);C=g.attachmentCta1Id!=null;var D=e.gatingType;D=D!=null?D===4..toString():!1;B=B?d("MWCMThreadTypes.react").isUnjoinedCMThread(B.threadType):!1;b=d("I64").equal((b=e.xmaLayoutType)!=null?b:d("I64").zero,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));B=B&&b||z;return h.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:g,isPressable:!C&&!B,children:h.jsx("div",{className:w,"data-testid":void 0,children:D?h.jsx(c("MWXMAPrivateAttachment.react"),{attachment:e,attachmentItem:g,getPreviewUrlXMA:(b=r)!=null?b:y,isPressable:C&&!B}):h.jsx(c("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:e,attachmentItem:g,bodyLineLimit:m,cardWidth:n,getFaviconUrlXMA:(z=o)!=null?z:function(a,b){return(a=(a=d("LSMediaUrl.bs").Attachment.faviconUrl(a))!=null?a:d("LSMediaUrl.bs").AttachmentItem.faviconUrl(b))!=null?a:""},getHeaderUrlXMA:p,getPlayableUrl:(w=q)!=null?w:y,getPreviewUrlXMA:(D=r)!=null?D:y,headlineLineLimit:s,isHscroll:t,isPressable:C&&!B,isStandalone:u,outgoing:v,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","CometHScroll.react","I64","MWXMAAttachmentItem.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=284,k={cardWrapper:{backgroundColor:"x2bj2ny",height:"x5yr21d",width:"xh8yej3",$$css:!0},flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},spacer:{marginTop:"xvijh9v",$$css:!0},topElement:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.cardWidth,f=a.fullWidthContainer;f=f===void 0?!1:f;var g=a.hasText,l=g===void 0?!1:g,m=a.xstyle,n=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","cardWidth","fullWidthContainer","hasText","xstyle"]);return i.jsx("div",{className:c("stylex")(!f&&k.flexibleContainer),children:i.jsx(d("CometHScroll.react").Container,{accessibilityLabel:h._("__JHASH__grvWiY5ySlo__JHASH__"),cardWidth:e!=null?{type:"fixed",width:e}:{minWidth:j,type:"responsive"},gap:8,children:b.map(function(a,b){return i.jsx(d("CometHScroll.react").Child,{expanding:!0,children:i.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3",children:i.jsx("div",{className:c("stylex")(m,b===0&&l&&k.topElement,l&&k.spacer),children:i.jsx(c("MWXMAAttachmentItem.react"),babelHelpers["extends"]({},n,{attachmentItem:a,cardWidth:e,isStandalone:!1}))})})},d("I64").to_string(a.attachmentIndex))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrl.bs","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrl.bs").Attachment.headerImageUrl:f;a=a.xstyle;var g=e[0];return h.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:g,isPressable:!0,children:h.jsxs("div",{className:c("stylex")(a),"data-testid":void 0,children:[h.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f}),h.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackFrontCard.react",["I64","MWChatPollFacepile.react","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXText.react","getLSMediaAttachmentAvatarViewUrlList","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={ctaContainer:{marginTop:"x1xmf6yo",$$css:!0},facepileContainer:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},frontCard:{backgroundColor:"x1jx94hy",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},titleContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=a.attachment;a=a.xstyle;var e=c("getLSMediaAttachmentAvatarViewUrlList")(b),f=b.countdownTimestampMs;f=f!=null&&!d("I64").equal(f,d("I64").of_int32(0))?h.jsx(c("MWRollCallTimerPill.react"),{attachment:b}):null;var g=null;b.attachmentCta1Id!=null&&b.cta1Title!=null&&b.cta1Type!=null&&(g=h.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaId:b.attachmentCta1Id,messageId:b.messageId,threadKey:b.threadKey,title:b.cta1Title,type:b.cta1Type}));g=h.jsx("div",{className:"x1xmf6yo",children:g});return h.jsxs("div",{className:c("stylex")(i.frontCard,a),children:[f,h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo",children:h.jsx(c("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:b.titleText})}),h.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu",children:h.jsx(c("MWChatPollFacepile.react"),{contacts:e.map(function(a){return{name:void 0,profile_picture_url:a}}),direction:"reversed",gap:"negative",size:"large"})}),g]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackItem.react",["MWXMAAttachmentItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={stackItem:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",bottom:"x1ey2m1c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",$$css:!0}},j=213,k=160;function a(a){var b=a.attachment,d=a.attachmentItem,e=a.index,f=a.totalItems;a=a.xstyle;var g=e%2===0?-4:4,l=0,m=0;switch(e){case 0:l=0;m=-12;break;case 1:l=58;m=-20;break;case 2:l=34;m=-28;break}return h.jsx("div",{className:c("stylex")(i.stackItem,a),style:{height:j,transform:"rotate("+g+"deg) translateX("+l+"px) translateY("+m+"px)",width:k,zIndex:f-e},children:d.previewUrl!=null&&h.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:d,cardWidth:k,isHscroll:!1,isStandalone:!0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0},stackItem:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x17qophe",$$css:!0},stackItemFront:{start:"x3f4u1h",$$css:!0}},j=213,k=160;function a(a){var b=a.attachment,d=a.attachmentItems,e=a.centered;e=e===void 0?!1:e;var f=a.children;a=a.xstyle;var g=d.slice(0,3);d=j+32;var l=k+64;return h.jsxs("div",{className:c("stylex")(i.stackContainer,a,e&&i.centered),style:{height:d,width:l},children:[g.map(function(a,d){return h.jsx(c("MWXMAAttachmentSharedStackItem.react"),{attachment:b,attachmentItem:a,index:d,totalItems:g.length},d)}),h.jsx("div",{className:"x1ey2m1c x10l6tqk x3f4u1h",style:{height:j,width:k,zIndex:g.length+1},children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWPColorUtils","gkx","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0}};function a(a){var b=a.children,e=a.outgoing;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=c("gkx")("9072");e=e?{backgroundColor:d("MWPColorUtils").int64ToHex(f.threadTheme.fallbackColor),color:"white"}:void 0;return h.jsx("div",{className:c("stylex")(a,i.centered),style:g?e:null,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},connectBottomIncoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectBottomOutgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},connectTopIncoming:{borderTopStartRadius:"x1lcm9me",$$css:!0},connectTopOutgoing:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.centered;b=b===void 0?!1:b;var e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.xmaLayout;a=a.xstyle;return h.jsx("div",{className:c("stylex")(a,g&&k!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&i.connectTop,g&&j&&i.connectTopOutgoing,g&&!j&&i.connectTopIncoming,f&&j&&i.connectBottomOutgoing,f&&!j&&i.connectBottomIncoming,b&&i.centered),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","MNLSXMALayoutType","MWLSThreadDisplayContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","ReQL","ReQLSuspense","react","recoverableViolation","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var j={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",$$css:!0}},k={card:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"xmjcpbm",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,g=a.cardWidth,l=a.connectBottom,m=a.connectTop,n=a.fullWidthContainer;n=n===void 0?!1:n;var o=a.getFaviconUrlXMA,p=a.getHeaderUrlXMA,q=a.getPlayableUrl,r=a.getPreviewUrlXMA,s=a.hasText;s=s===void 0?!1:s;var t=a.headlineLineLimit,u=a.outgoing,v=a.xmaLayout;v=v===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:v;a=a.xstyle;var w=c("useReStore")(),x=b.attachmentFbid,y=b.attachmentType,z=b.cta1Type,A=b.defaultCtaType,B=b.isBorderless,C=b.xmaContentType,D=b.xmaLayoutType,E=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(w.table("attachment_items")).getKeyRange(x)},[x,w],f.id+":161"),F=d("Int64Hooks").useMemoInt64(function(){return D!=null?[d("I64").equal(D,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").HSCROLL)),d("I64").equal(D,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").XCENTER)),d("I64").equal(D,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SINGLE)),d("I64").equal(D,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),d("I64").equal(D,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),d("I64").equal(D,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},[D]),G=F[0],H=F[1],I=F[2],J=F[3],K=F[4];F=F[5];var L=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),M=null;J?M=h.jsx(c("MWXMAAttachmentSharedStackLayout.react"),{attachment:b,attachmentItems:E,children:h.jsx(c("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:b})}):K?M=h.jsx(c("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:u,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:E[0],bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:o,getHeaderUrlXMA:p,getPlayableUrl:q,getPreviewUrlXMA:r,headlineLineLimit:t,isHscroll:G,isStandalone:!0,outgoing:u,xmaLayout:v})}):G?M=h.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:E,bodyLineLimit:e,cardWidth:g,fullWidthContainer:n,getFaviconUrlXMA:o,getHeaderUrlXMA:p,getPlayableUrl:q,getPreviewUrlXMA:r,hasText:s,headlineLineLimit:t,isHscroll:G,xmaLayout:v,xstyle:[k.card,k.opaqueCard]}):I&&E.length===6?M=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:m,outgoing:u,xmaLayout:v,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:E,getHeaderUrlXMA:p})}):H&&E.length===1?M=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:m,outgoing:u,xmaLayout:v,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:E[0],bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:o,getHeaderUrlXMA:p,getPlayableUrl:q,getPreviewUrlXMA:r,headlineLineLimit:t,isHscroll:G,isStandalone:!0,xmaLayout:v})}):E.length===0?M=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:m,outgoing:u,xmaLayout:v,xstyle:[k.card,B!==!0&&k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:i(b),bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:o,getHeaderUrlXMA:p,getPlayableUrl:q,getPreviewUrlXMA:r,headlineLineLimit:t,isHscroll:G,isStandalone:!0,xmaLayout:v})}):E.length===1?M=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:m,outgoing:u,xmaLayout:v,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:E[0],bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:o,getHeaderUrlXMA:p,getPlayableUrl:q,getPreviewUrlXMA:r,headlineLineLimit:t,isHscroll:G,isStandalone:!0,outgoing:u,xmaLayout:v})}):c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(E.length)+", XMA Layout Type: "+(D==null?"na":d("I64").to_string(D))+", Attachment Type: "+d("I64").to_string(y)+",  XMA content Type: "+(C==null?"na":d("I64").to_string(C))+", default CTA type: "+(A==null?"na":A)+", CTA 1 type: "+(z==null?"na":z),"messenger_web_product",void 0,{trackOnly:!0});J=v===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[j.cardWidth,u&&j.outgoing_xma]:j.cardWidth;K=L==="ChatTab";n=F?K?j.cardWidthChatTab:j.cardWidth:a;return h.jsx("div",{className:c("stylex")(G&&K&&k.rootForHScrollInChatTab,!G&&!H&&J,n),children:M})}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=j;g.MWXMAAttachment=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.react").useAuthorName();e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&i.jsx("span",{className:c("stylex")(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}g["default"]=a}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("MWPMessageHasAttachment",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("I64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(1))&&!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(8192)))&&!d("I64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(128))&&!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(128),d("LSIntEnum").ofNumber(8192))))return!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(512)));else return!1}g["default"]=a}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[d("I64").and_(d("LSIntEnum").ofNumber(1024),a.displayedContentTypes),d("I64").and_(d("LSIntEnum").ofNumber(2048),a.displayedContentTypes)].some(function(a){return d("I64").to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageParsingUtils.bs",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MercuryThreadlistConstants"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.text;if(a!=null)return a!=="";else return!1}function i(a){a=a.replySourceTypeV2;if(a!=null&&!d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD)))return!0;else return!1}function j(a){a=a.replySourceTypeV2;if(a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD)))return!0;else return!1}function k(a){return a.text==null?!1:a.text.length>c("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK}function l(a){if(a.isAdminMessage||d("LSBitFlag").has(d("LSIntEnum").ofNumber(128),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(256),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(512),a.displayedContentTypes))return!0;else return k(a)}function m(a,b){if(b===void 0)return!0;var e=Math.abs(d("I64").to_float(a.timestampMs)-d("I64").to_float(b.timestampMs))>c("MercuryThreadlistConstants").GROUPING_THRESHOLD,f=j(a),g=d("I64").compare(a.senderId,b.senderId)===0;if(b.isUnsent||a.isUnsent||i(a)||!g||e||f||l(a))return!0;else return l(b)}function n(a,b){if(b!=null&&!m(a,b))return!1;else return!0}function o(a,b){if(b!=null&&!m(b,a))return!1;else return!0}function a(a,b,c){if(c==="below")if(h(a))return!0;else return!n(a,b);else return!1}function b(a,b,c){if(c==="below")return!o(a,b);else if(o(a,b))return!1;else return h(a)}e={shouldConnectBottom:b,shouldConnectTop:a};f=h;b=i;a=j;var p=k,q=l,r=m,s=n,t=o;e=e;g.hasText=f;g.isReplyToSomething=b;g.isForwarded=a;g.isLongText=p;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment","MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils.bs","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,i=a.isMessagePinned,j=a.isNextMessagePinned,k=a.isSearchPluginAttachment,l=a.message,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.renderAttachment,q=a.renderEmoji,r=a.renderMessageBubble,s=a.shouldHideLinkPreviews,t=a.shouldRenderMessageContent;a=a.xmaLayout;var u=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),v=c("MWPMessageIsReply")(l),w=d("MWPMessageParsingUtils.bs").hasText(l),x=c("MWPMessageHasXMA")(l);u=c("gkx")("1886144")&&u(d("LSIntEnum").ofNumber(45))&&x&&l.textHasLinks;s=s===!0||u;u=(u=l.replyType&&d("I64").equal(l.replyType,d("LSIntEnum").ofNumber(c("EntMessageReplyType").BUMP)))!=null?u:!1;u=u==null&&x&&b==="below"&&!s&&!k;x=b==="below"?!v&&!f&&!i:!1;k=!g&&!j||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?u:!1);t?f=l.text!=null?e?v?h.jsx("div",{className:"x1n2onr6 x1vjfegm",children:q(l)}):v?null:h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[x?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsx("div",{className:"x1n2onr6 x1vjfegm",children:q(l)})]}):l.text!==""?h.jsxs(h.Fragment,{children:[x||b==="above"?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[n?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,r(l,x,k,u,n),n?null:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:f=null;var y;c("MWPMessageHasAttachment")(l)&&!s&&(y=p(d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(l,o,b),d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(l,m,b),w));return h.jsxs(h.Fragment,{children:[b==="above"?y:null,f,b==="below"?y:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,j=a.isSearchPluginAttachment,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldHideLinkPreviews,s=a.shouldRenderMessageContent,t=a.xmaLayout,u=c("useMWPIsMessagePinned")(k),v=c("useMWPIsMessagePinned")(l);return i(function(){return h.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:u,isNextMessagePinned:v,isSearchPluginAttachment:j,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:o,renderEmoji:p,renderMessageBubble:q,shouldHideLinkPreviews:r,shouldRenderMessageContent:s,xmaLayout:t})},[b,e,f,g,u,v,k,l,m,n,o,p,q,r,s,t,j])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly.bs","MessengerWebUXLogger","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function j(a,b){if(d("LSBitFlag").has(d("LSIntEnum").ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly.bs")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.reactions,p=a.renderAttachment,q=a.renderEmoji,r=a.renderMessageBubble,s=a.renderMessageContainer,t=a.renderMessageFooter,u=a.renderUnsentMessage,v=a.shouldHideLinkPreviews,w=a.shouldRenderMessageContent;w=w===void 0?!0:w;var x=a.xmaLayout;x=x===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:x;a=a.isSearchPluginAttachment;a=a===void 0?!1:a;var y=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"});if(k.isUnsent)if(u!=null)return h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u()});else return null;u=j(k,e);e=h.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:u,isFirstMessageInGroup:f,isLastMessageInGroup:g,isSearchPluginAttachment:a,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:p,renderEmoji:q,renderMessageBubble:r,shouldHideLinkPreviews:v,shouldRenderMessageContent:w,xmaLayout:x});return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"x78zum5 xh8yej3",ref:y,role:"none",children:[m?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,s!=null?s(e,[i.container,m?i.outgoing:!1]):h.jsx("div",{className:c("stylex")(i.container,m?i.outgoing:!1),children:e}),m?null:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),h.jsxs(h.Fragment,{children:[u&&o.length>0?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:t()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.hasReactions;return h.jsx("div",{"aria-hidden":b,className:c("stylex")(i.root,a?i.moveUpToAccountForReactions:!1),children:h.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils.bs","MWPThreadThemeGradientUtils","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils.bs").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function l(a){return d("I64").equal(d("I64").and_(a.displayedContentTypes,d("LSIntEnum").ofNumber(2048)),d("I64").zero)}var m={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginStart:"x1mh8g0r",$$css:!0},multiReactWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0}};function b(a){var b=a.children,e=a.hasReactions,f=a.message,g=a.outgoing,i=a.renderGutterItem,j=a.renderMessageActions,k=a.renderMultiReactions;a=a.renderProfile;var n=c("MWPMessageIsReply")(f),o=f.ephemeralExpirationTs,p=f.ephemeralDurationInSec,q=f.isUnsent,r=d("MWMessageDeliveryStatus").getFromSendStatus(f.sendStatusV2).type==="Sending";k=k&&k();var s=k!=null;a=h.jsxs("div",{className:"x78zum5",role:"none",children:[h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[g?null:a(),e&&!s?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]}),h.jsxs("div",{className:c("stylex")(m.inner,g?m.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{makeSpaceForActions:l(f),paint:!g||n,children:b}),o!=null&&!q?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:h.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:p,expirationTimestamp:o,hasReactions:e})}):null,l(f)?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:r?null:j()}):null,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[i(),e?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]})]});return s?h.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[a,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx("div",{className:c("stylex")(m.container,m.multiReact,g?m.multiReactOutgoing:m.multiReactIncoming),children:k})})]}):a}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils.bs").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";i={"mwp-reply-background-color":"var(--comment-footer-background)"};var n={"mwp-reply-background-color":"var(--comment-footer-background)"},o={dark:n,light:i,type:"VARIABLES"};function p(a){var b=a.children,e=a.domElementRef,f=a.role,g=a.setHovered,i=a.stopHoveringRef,l=a.theme,m=l===void 0?o:l,n=a.xstyle,p=j(function(){return g(function(){return!1})},[g]);l=c("useMWPThreadTheme")();var q=l.threadTheme;return h.jsx(c("BaseThemeProvider.react"),{config:k(function(){return d("MWCombineThemeConfigs").combine(o,m)},[m]),children:function(a,j){return h.jsx("div",{className:c("stylex")(a,n),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},j,d("MWPThreadThemeGradientUtils").getStyleOverridesForThreadTheme(q)),children:b})}})}p.displayName=p.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=p}),98);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return h.jsx("div",{className:c("stylex")(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp(d("I64").to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPIsSenderAdMod",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetch","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var g=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("I64").is_zero(a)||(yield g.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetch")(a,e,d("LSIntEnum").ofNumber(14),void 0,c("pageID"),c("LSFactory")(b))},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},[g,a,e]);var h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communityContact")).getKeyRange(a,e,c("pageID"))},[g,a,e],f.id+":55"),i=(h==null?void 0:h.isAdmin)==null?!1:h.isAdmin;h=(h==null?void 0:h.isModerator)==null?!1:h.isModerator;return{isAdmin:i,isModerator:h}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","CometHovercardTrigger.react","CometMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXText.react","react","useMWCMIsSenderChatHost","useMWPIsSenderAdMod"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=function(a){var b=a.fbGroupId,d=a.senderId,e=a.shouldRenderSenderName;a=a.threadKey;var f=c("useMWPIsSenderAdMod")(b,d),g=f.isAdmin;f=f.isModerator;b=c("useMWCMIsSenderChatHost")(b,a,d);d=h._("__JHASH__l4xCpI5VHpV__JHASH__");var j=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=i.jsx(c("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return i.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return i.jsx(i.Fragment,{children:e&&(g||f||b)&&i.jsxs(i.Fragment,{children:[i.jsx(c("CometMiddot.react"),{}),i.jsx("span",{"data-testid":void 0,children:g?d:f?j:a})]})})};function a(a){var b=a.fbGroupId,c=a.message;a=a.shouldRenderSenderName;return b==null||d("I64").is_zero(b)?null:i.jsx(j,{fbGroupId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","I64","LSContactBitOffset","LSIntEnum","MWCMBotIcons.react","MWEditedEyebrow.react","MWGroupUpdatesVerifiedIcon.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPEditMessageUtil","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","justknobx","react","stylex","useMWPIsMessagePinned","usePinnedTextAnimation"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{bottom:"x1c7jfne",paddingStart:"x1e558r4",position:"x1n2onr6",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",$$css:!0},separator:{paddingEnd:"x19um543",paddingStart:"x1m6msm",$$css:!0}},k=function(a){var b=a.children;a=a.outgoing;return i.jsx("div",{className:c("stylex")(j.container,a?j.alignEnd:j.alignStart),children:b})};function a(a){var b=a.fbGroupId,e=a.message,f=a.outgoing,g=a.renderPaidPartnerShipText,l=a.renderPinnedText,m=a.renderTextWrapper,n=a.shouldRenderSenderName;a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];var o=d("MWPContactContext.react").useMWPContactStableContext(),p=o.contact;o=o.nickname;var q=d("Actor").useActor();q=q[0];var r=d("MWPEditMessageUtil").isEditedMessage(e),s=p?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(77),p):!1,t=p?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(84),p):!1,u=c("useMWPIsMessagePinned")(e);p=c("usePinnedTextAnimation")(u);var v=p.mountAnimation,w=p.unmountAnimation,x=e.isPaidPartnership===!0;p=n||u||r||x;o=(o=o)!=null?o:h._("__JHASH__4LwiFWKMkVy__JHASH__");q=q===d("I64").to_string(e.senderId);q=q?o.toString():a==null?void 0:a.toString();o=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!p)return i.jsx(c("MWPAccessibleEyebrowsText.react"),{message:e,outgoing:f});a=function(a){return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsx(k,{outgoing:f,children:m(i.jsxs(i.Fragment,{children:[n&&a!=null&&i.jsx("span",{"data-testid":void 0,children:a}),i.jsx(c("MWPMessageAdModOrHostText.react"),{fbGroupId:b,message:e,shouldRenderSenderName:n}),u&&i.jsx("span",{className:c("stylex")(u?v:w),children:l(e,n)}),r&&i.jsx(c("MWEditedEyebrow.react"),{hasSeparator:n&&a!=null,xstyle:j.separator}),s===!0?i.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:i.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null,t&&i.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:i.jsx(c("MWGroupUpdatesVerifiedIcon.react"),{})}),c("justknobx")._("1473")&&x&&g!=null&&g(e)]}))})})};return e.takedownState?a(o.toString()):a(q)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWPAccessibleEyebrowsText.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};function j(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.fbGroupId,f=a.isAnyCMThread;f=f===void 0?!1:f;var g=a.isFirstMessageInGroup,k=a.isGroupThread,l=a.message,m=a.outgoing,n=a.renderForwardSnippet,o=a.renderPaidPartnerShipText,p=a.renderPinnedText,q=a.renderReplySnippet,r=a.renderSenderName,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply")(l);n=j(l,n,q,m);q=d("MWPContactContext.react").useMWPContactStableContext();q=q.nickname;q=g&&q!=null&&f;f=b||k&&g&&!m&&!t||q;n!=null?b=h.jsx("div",{className:c("stylex")(i.header,m?i.alignEnd:!1),role:"none",children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):r!=null?b=f?r(l):h.jsx(c("MWPAccessibleEyebrowsText.react"),{message:l,outgoing:m}):b=h.jsx(c("MWPMessageEyebrows.react"),{fbGroupId:e,message:l,outgoing:m,renderPaidPartnerShipText:o,renderPinnedText:p,renderTextWrapper:s,shouldRenderSenderName:f});k=n!=null?i.timestampWithSnippet:i.timestamp;t=a!=null?h.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:l,renderText:s,renderTimestamp:a,xstyle:k}):null;if(g)return h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsxs(c("BaseRow.react"),{direction:m?"backward":"forward",children:[h.jsx(c("BaseRowItem.react"),{children:h.jsx(c("BaseHeading.react"),{children:b})}),t!=null?h.jsx(c("BaseRowItem.react"),{children:h.jsx(c("BaseHeading.react"),{children:t})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").to_int32(d("I64").and_(d("LSIntEnum").ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message,g=a.paint;g=g===void 0?!0:g;var j=a.renderEmphasisRing;a=a.xmaLayout;var k=c("MWPMessageHasXMA")(f),l=c("MWPMessageIsReply")(f),m=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;m=h.jsx("div",{className:c("stylex")(i.container,k?i.container_for_xma:!1,m?i.container_for_poll:!1),"data-testid":void 0,children:b});return h.jsxs(h.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!k||!f)?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!l&&g,children:j!=null?j(k,m):m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("attachment_ctas")).getKeyRange((c=a)!=null?c:d("I64").zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":26").sort(function(a,b){return d("I64").compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,j=a.renderEmphasisRing,k=a.renderEphemeralMediaAttachment,l=a.renderFileAttachment,m=a.renderImageAttachment,n=a.renderImageGrid,o=a.renderStickerAttachment,p=a.renderUnsupportedAttachment,q=a.renderUnsupportedMultipleAttachments,r=a.renderVideoAttachment,s=a.renderWrapper,t=a.renderXMAAttachment;a=a.xmaLayout;var u=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,v=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(v.length>0?v[0].attachmentCta1Id:null);var w=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();w=c("gkx")("1581")&&w(d("LSIntEnum").ofNumber(46));if(f.replyType&&d("I64").equal(f.replyType,d("LSIntEnum").ofNumber(c("EntMessageReplyType").BUMP)))return null;if(v.length!==1)v.length>1&&v.every(i)?w?w=v.map(function(a,b){return h.jsxs(h.Fragment,{children:[b!==0?h.jsx(c("MWVerticalRhythm"),{height:2}):null,h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:j,xmaLayout:u,children:m(a,b!==0,b!==v.length-1)})]},a.attachmentFbid)}):w=h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:j,xmaLayout:u,children:n(v)}):w=q!=null?q(v):void 0;else{n=v[0];q=n.attachmentType;q=!d("I64").equal(q,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO));var x=n.attachmentType;w=h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:q,renderEmphasisRing:j,xmaLayout:u,children:d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?m(n,e,b):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))?r(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))?g(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))?o(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?t(n,a):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))?l(n):d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||d("I64").equal(x,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?k(n):p(n)})}return w!=null?s!=null?s(w):w:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.forwardRef;var j=b.useCallback,k=b.useContext,l=b.useId,m=b.useMemo,n=b.useRef,o={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0}};function p(){}function q(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var r=h._("__JHASH__U5V4JiyTDSI__JHASH__"),s=h._("__JHASH__GoIrDg5lzef__JHASH__"),t=h._("__JHASH__ctLNxPXr8we__JHASH__"),u=e(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var j=a[1];return a[0]({children:i.jsx(c("CometPressable.react"),{"aria-label":g,focusable:f,onPress:function(){return h()},ref:b,xstyle:[j,o.enterModalButton,e],children:i.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4})})})});function a(a){var b=a.children,e=a.domElementRef,f=a.isDialogOpened,g=a.isFocused,v=a.isModal,w=a.message,x=a.messageDomID,y=a.nextMessage,z=a.outgoing,A=a.prevMessage,B=a.setFocused,C=a.setHovered,D=a.setIsDialogOpened,E=a.stopHoveringRef;a=a.theme;var F=k(d("MWV2MessageListIsRowModalContext.bs").context),G=n(null),H=l(),I=j(function(){F(function(){return w.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,w.messageId,H]),J=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},K=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date(d("I64").to_float(w.timestampMs))),L=d("MWPMessageAuthor.react").useAuthorName();L=L[0];z=z?h._("__JHASH__g90cYI08lR4__JHASH__"):L!=null?L:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var M=l(),N=i.jsx(c("CometScreenReaderText.react"),{id:M,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",K),h._param("Name of the author of the incoming message",z)])}),O=l(),P=n(null),Q=c("gkx")("3598"),R=n(p),S=n(p),T=n(p),U=n(p);L=m(function(){return{isDialogOpened:f,setFocused:B,setIsDialogOpened:D}},[B,D,f]);K=m(function(){return{forwardMessage:T,openReactionsMenu:R,removeMessage:U,replyToMessage:S}},[R,S]);return i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx(d("MWV2MessageRowIsRowFocusedContext.bs").MWV2MessageRowIsRowFocusedContextProvider,{value:L,children:i.jsx(d("MWV2MessageRowActionsContext.bs").MWV2MessageRowActionsContextProvider,{value:K,children:i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:w,nextMessage:y,prevMessage:A,role:"row",setHovered:C,stopHoveringRef:E,theme:a,xstyle:o.row,children:i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:i.jsx(c("FocusWithinHandler.react"),{onFocusChange:function(a){if(g!==a){B(function(){return a});return F(function(){if((a||f)&&v)return w.messageId;else return""})}},onFocusVisibleChange:function(b){g!==b&&B(function(){return b});var a=P.current;if(b&&!(a==null)){c("setTimeout")(function(){try{return a.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,e){a=i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:i.jsx("div",{className:c("stylex")(o.cell,v?o.cellModal:!1,e?o.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,ref:G,role:"gridcell",tabIndex:0,children:i.jsx(c("FocusInertRegion.react"),{disabled:v,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:v?i.jsxs(i.Fragment,{children:[i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:q,children:i.jsxs("div",{"aria-describedby":x,"aria-labelledby":M,id:O,role:"dialog",children:[b,v?N:null,i.jsx(u,{ariaLabel:s,focusable:!0,onPress:J,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:o.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(i.jsx("div",{"aria-owns":O}),document.body)]}):b})})});return i.jsxs(i.Fragment,{children:[i.jsx(d("MWMessageCellFocusTable.bs").keyCommands,{onEnter:v?void 0:I,onEscape:v?J:void 0,onSpace:v?void 0:I,children:Q?i.jsx(d("MWMessageCellKeyCommands.bs").keyCommands,{message:w,children:a}):a}),i.jsx("div",{role:"gridcell",children:i.jsx(u,{ariaLabel:v?h._("__JHASH__C-7ahaHTUI7__JHASH__"):r,focusable:v,onPress:I,ref:P,text:v?h._("__JHASH__C-7ahaHTUI7__JHASH__"):t,xstyle:e&&!v?o.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})})]})}})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListText.react",["BaseTheme.react","CometTextWithEntities.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWBaseTheme","MWChatTextTransform","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={forwarded:{borderStartStyle:"x26u7qi",borderStartWidth:"x7g060r",fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},forwardedIncoming:{borderStartColor:"xa7jiu",color:"x12scifz",$$css:!0},forwardedOutgoing:{borderStartColor:"x16b4vue",color:"xkxfvhb",$$css:!0},regular:{fontSize:"x6prxxf",lineHeight:"x1fc57z9",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},regularIncoming:{color:"xzsf02u",$$css:!0},regularOutgoing:{color:"x14ctfv",$$css:!0}};b={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var j={dark:e,light:b,type:"VARIABLES"};function a(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,k=a.text,l=a.transforms,m=a.xstyleForForwarded;a=a.xstyleForText;b=b.replySourceTypeV2!=null&&d("I64").equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));var n=e?d("MWBaseTheme").empty:j;if(k!=null)if(b){m=h.jsx("blockquote",{className:c("stylex")(i.forwarded,e?i.forwardedOutgoing:i.forwardedIncoming,m),dir:"auto",children:h.jsx(c("CometTextWithEntities.react"),{ranges:f,renderers:g,text:k,transforms:(b=l)!=null?b:d("MWChatTextTransform").epdTextTransforms,withParagraphs:!1})})}else{m=h.jsx("div",{className:c("stylex")(i.regular,e?i.regularOutgoing:i.regularIncoming,a),dir:"auto",role:"none",children:h.jsx(c("CometTextWithEntities.react"),{ranges:f,renderers:g,text:k,transforms:(b=l)!=null?b:d("MWChatTextTransform").epdTextTransforms,withParagraphs:!1})})}else m=null;return h.jsx(c("BaseTheme.react"),{config:n,role:"none",children:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return a[3]!==f?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",c.i64.cast([0,72]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[4],d[5],f,f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWThreadUserNotOnboardedNuxWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4802583899845424"}),null);
__d("MWThreadUserNotOnboardedNuxWrapperQuery.graphql",["MWThreadUserNotOnboardedNuxWrapperQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"should_see_messenger_encrypted_backups_cutover_setup_interstitial_upsell",plural:!1,selections:[{args:null,documentName:"MWThreadUserNotOnboardedNuxWrapperQuery",fragmentName:"MWThreadUserNotOnboardedNux_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWThreadUserNotOnboardedNuxWrapperQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWThreadUserNotOnboardedNuxWrapperQuery",selections:[a]},params:{id:b("MWThreadUserNotOnboardedNuxWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWThreadUserNotOnboardedNuxWrapperQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6578447052222731"}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],c=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3XEtNp"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3XEtNp")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3XEtNp"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3XEtNp")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return h.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser")),b=a[0];return function(a,c){return c.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return b({adId:c.ctaId,threadKey:a.banner.threadKey})},type:"action"}}}g["default"]=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKey","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();h(function(){var d=a.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKey")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g["default"]=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MDSTextPairing.react","MWChatFilePreview.react","MWInboxInfoSharedContentQPLLogger.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function j(){d("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread("files")}function a(a){var b=a.file;return h.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:b,onPress:j,testid:void 0,children:function(a){var d=a.filename;a=a.size;return h.jsxs("div",{className:c("stylex")(i.root,!1),children:[h.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),h.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[h.jsx(c("MDSTextPairing.react"),{headline:d,headlineLineLimit:3,level:4}),h.jsx("div",{className:"x889kno",children:h.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("connectivity_status")).map(function(a){return d("I64").equal(a.internetConnectionState,d("LSIntEnum").ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":63");return i.jsx(j,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("div",{className:"x1r4l5d8 x1lliihq xz9dl7a xsag5q8 x2b8uid",children:h.jsx(c("MWXText.react"),{type:"meta4",children:a})})}i.displayName=i.name+" [from "+f.id+"]";function a(){return h.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsQPLSource.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({CHAT_SETTINGS:"chat_settings",CHAT_TABS_UPSELL:"chat_tabs_upsell",JEWEL_UPSELL:"jewel_upsell",CHAT_SETTINGS_JEWEL_UPSELL:"chat_settings_jewel_upsell",THREAD_LIST_PRE_TLC:"thread_list_pre_tlc",THREAD_LIST_TLC:"thread_list_tlc",THREAD_LIST_POST_TLC:"thread_list_post_tlc",E2EE_CHAT_THREAD:"e2ee_chat_thread",MESSENGER_INBOX:"messenger_inbox",FB_DOT_COM_IN_THREAD_UPSELL:"fb_dot_com_in_thread_upsell",FB_DOT_COM_THREAD_LIST_UPSELL:"fb_dot_com_thread_list_restore_upsell",FB_DOT_COM_RESTORE_JEWEL_UPSELL:"fb_dot_com_restore_jewel_upsell",AUTO_RESTORE_LOGIN:"auto_restore_login",AUTO_RESTORE_RESTORE_FLOW:"auto_restore_restore_flow",DYI:"dyi",IG_SETTINGS:"ig_settings",IG_INBOX_AUTO_RESTORE:"ig_inbox_auto_restore"});c=a;f["default"]=c}),66);
__d("MWThreadUserNotOnboardedNuxWrapper.react",["CometRelay","MWThreadUserNotOnboardedNuxWrapperQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.dialogTitle,e=a.setIsClosed;a=a.source;var f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWThreadUserNotOnboardedNuxWrapperQuery.graphql"),{});f=f.viewer;f=f.should_see_messenger_encrypted_backups_cutover_setup_interstitial_upsell;return i.jsx(d("CometRelay").MatchContainer,{match:f,props:{dialogTitle:c,setIsClosed:e,source:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEncryptedBackupsThreadNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsUpsellUtils","MWThreadUserNotOnboardedNuxWrapper.react","ReQL","ReQLSuspense","react","useEncryptedBackupsProcessState","useMAWIsUnsupportedBrowserNUXShown","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState;function a(a){var b=a.isOneToOne;a=a.peerName;var e=d("useMAWIsUnsupportedBrowserNUXShown").useMAWIsUnsupportedBrowserNUXShown(),g=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("encrypted_backups"))},[g],f.id+":42");l=c("useEncryptedBackupsProcessState")({encryptedBackupData:l,storage:g});var m=l.backupState,n=l.hasUserOptedOut;l=k(!1);var o=l[0],p=l[1],q=b&&a!=null?h._("__JHASH__lDYRp3tl6Qf__JHASH__",[h._param("peer name",a)]):b?h._("__JHASH__N3qSfjqXNv6__JHASH__"):h._("__JHASH__jiKvDw_fxWh__JHASH__"),r=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();return j(function(){if(o||e)return null;switch(r){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:switch(m){case 2:if(d("MWChatEncryptedBackupsUpsellUtils").shouldDisplayTLCUpsells()&&!n)return i.jsx(c("MWThreadUserNotOnboardedNuxWrapper.react"),{dialogTitle:q,setIsClosed:p,source:c("MWChatEncryptedBackupsQPLSource.enum").E2EE_CHAT_THREAD});break;case 3:break;default:break}break;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return null}return null},[o,e,r,m,n,q])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMDotMeReferrerContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e();function a(a){var b=a.children;a=a.referrer;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset","LSIntEnum","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState,l=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function m(a){var b=a.thread;a=c("useMWXLazyDialog")(l);var e=a[0];a=k(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var m=a[0],n=a[1];a=j(m);var o=j(!1);m=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,n(function(a){return a+1}))}});return a.current<3&&!f?i.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",ref:m,children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("MWXButtonGroup.react"),{primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.thread,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("community_folders")).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey],f.id+":116");if(a){a=d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(39),a);return a?i.jsx(m,{thread:b}):null}else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useRef,i=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children;a=a.thread;var d=h(null),e={thread:a};a=c("useMWXLazyDialog")(i);var f=a[0];a=function(){return f(e,function(){})};return b(a,d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSInboxInfoQuickActionIcons",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a={Image:d("fbicon")._(h("642537"),20),Invite:d("fbicon")._(h("497885"),20),Mute:d("fbicon")._(h("532353"),20),Nicknames:d("fbicon")._(h("486064"),20),Profile:d("fbicon")._(h("558620"),20),Search:d("fbicon")._(h("491283"),20),Unmute:d("fbicon")._(h("664775"),20)};g["default"]=a}),98);
__d("MWInboxInfoQuickActionIcons",["cr:1160"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1160")}),98);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],(function(a,b,c,d,e,f,g){"use strict";g.MWContextBannerQuickActionsIconsAddPeople=(a=b("cr:808")).AddPeople;g.MWContextBannerQuickActionsIconsEditName=a.EditName;g.MWContextBannerQuickActionsIconsMembers=a.Members;g.MWContextBannerQuickActionsIconsLink=a.Link;g.MWContextBannerQuickActionsIconsShare=a.Share}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWContextBannerQuickActionsIcons.bs","MWXCircleButton.react","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.label,e=a.testid;e=a.thread;var f=c("useMWAddParticipantDialog")(e);return h.jsx(c("MWXCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsAddPeople,label:b,onPress:function(){return f()},size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInThreadBanner.react",["CometPressable.react","CometProfilePhoto.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","TetraButton.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function j(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.type){case"link":return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b.url},type:"secondary"})});case"action":return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,onPress:b.onPress,ref:b.contextRef,type:"secondary"})});case"popover":return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:b.popoverTrigger(function(a,b){return h.jsx(c("TetraButton.react"),{label:d,onPress:function(){return b()},ref:a,type:"secondary"})})});case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}function a(a){var b,d=a.banner;a=a.ctaParser;var e=d.banner.iconUrl;e=e!=null?h.jsx(c("MWXRowItem.react"),{expanding:!1,children:h.jsx("div",{className:"x11i5rnm",children:h.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:24,source:{uri:e}})})}):null;b=h.jsx(c("MWXRowItem.react"),{expanding:!0,children:h.jsx(c("MWXTextPairing.react"),{body:((b=d.banner.titleSectionOne)!=null?b:"")+((b=d.banner.titleSectionTwo)!=null?b:""),bodyLineLimit:1,level:4,meta:d.banner.heading,metaLineLimit:1,metaLocation:"above"})});var f=d.banner.infoLabel!=null?h.jsx(c("MWXRowItem.react"),{children:h.jsx(c("MWXText.react"),{type:"meta1",children:h.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:d.banner.infoLabel})})}):null,g=d.leftButton,k=d.rightButton,l;if(g!=null&&k!=null)l=h.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[h.jsx(j,{action:a(d,g),button:g}),h.jsx(j,{action:a(d,k),button:k})]});else{g=(g=g)!=null?g:k;g!=null&&(l=h.jsx(c("MWXRow.react"),{paddingTop:8,children:h.jsx(j,{action:a(d,g),button:g})}))}var m=h.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[h.jsxs(c("MWXRow.react"),{children:[e,b,f]}),l]});k=d.bannerAction!=null?a(d,d.bannerAction):void 0;var n;if(k!=null)switch(k.type){case"link":n=h.jsx(c("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:k.url},xstyle:function(){return[i.linkBanner]},children:m});break;case"action":n=h.jsx(c("CometPressable.react"),{expanding:!0,onPress:k.onPress,ref:k.contextRef,children:m});break;case"popover":n=k.popoverTrigger(function(a,b){return h.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:m})});break;case"unimplemented":b=(e=(g=d.bannerAction)==null?void 0:g.ctaType)!=null?e:"";b!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+b,"messenger_web_product");n=m;break}else n=m;return h.jsx("div",{className:"xcrg951 x1n2onr6",children:h.jsx("div",{className:"xdppsyt",children:n})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){return b!=null?a.get(d("I64").to_string(b)):null};function i(a,b,c){return{banner:a,bannerAction:h(b,a.bannerCtaId),leftButton:h(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return h(b,a)}).filter(Boolean),rightButton:h(b,a.cta2Id)}}function a(a,b){var e=c("useReStore")(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_overflow_menu")).getKeyRange(b.threadKey,a.bannerId)},[e,b.threadKey,a.bannerId],f.id+":68"),h=new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_ctas")).getKeyRange(a.bannerId).map(function(a){return[d("I64").to_string(a.ctaId),a]})},[e,a.bannerId],f.id+":75"));return i(a,h,g)}g.createBanner=i;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBanners","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();h(function(){var d=a.runInTransaction(function(a){return c("LSFetchBanners")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g["default"]=a}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTA","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b){c("promiseDone")(a.runInTransaction(function(a){return c("LSExecuteCTA")(b,c("LSFactory")(a))},"readwrite"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCta","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b,d){c("promiseDone")(a.runInTransaction(function(a){return c("LSServerMutationCta")(b,d,c("LSFactory")(a))},"readwrite"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","recoverableViolation","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var j=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("I64").to_string(a.contactId)})},[e,a,b],f.id+":81")}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=k(a),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),l=g[0],m=d("I64").to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:m});var n=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:m});var o=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:m});var p=g[0];return i(function(){var a=function a(g,i){var k=i.ctaId,q=i.ctaType,r=i.deeplinkUrl,s=i.webviewUrl;if(q==="marketplace_see_details"||q==="marketplace_banner_open_native"){var t;t=(t=s)!=null?t:r;if(t!=null)return{type:"link",url:t};c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product")}if(q==="marketplace_view_profile"){t=(t=s)!=null?t:r;if(t!=null)return{type:"link",url:t};c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product")}if(q==="marketplace_scaled_rate_seller"&&s!=null)return{type:"link",url:s};if(q==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(q==="marketplace_report_buyer"||q==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return l({entryPoint:"REPORT_BUTTON",id:f,location:q==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product")}if(j.has(q))return{onPress:function(){return e(k)},type:"action"};if(q==="marketplace_label_chat")return{onPress:function(){return n({threadID:m},function(){return e(k)})},type:"action"};if(q==="marketplace_mark_as_paid")return{onPress:function(){return o({threadID:m},function(){return e(k)})},type:"action"};if(q==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return p({},function(){return e(k)})},type:"action"};if(q==="marketplace_server_mutation"){r=i.actionContentBlob;var u="";if(r!=null){s=((t=JSON.parse(r))!=null?t:{}).marketplace_cta_type;typeof s==="string"?u=s:c("FBLogger")("messenger_web_product").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b(d("I64").of_string(m),u)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,l,p,n,o,m])}g.marketplaceCta=e;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),b=c("useMWLSAdContextCtaParser")();return function(c,e){var f=e.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(f))return a(c,e);else if(f==="ads_context")return b(c,e);return{type:"unimplemented"}}}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.banner;a=a.thread;b=d("useInThreadBannerWithCta").useInThreadBannerWithCta(b,a);a=c("useMWLSInThreadBannerCtaParser")();return h.jsx(c("MWChatInThreadBanner.react"),{banner:b,ctaParser:a})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.thread;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner")).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":44");var g=a==null?void 0:a.cta1Type,j=a==null?void 0:a.cta2Type;return a==null||g==="proactive_warning_affirmative"||g==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"?null:h.jsx(i,{banner:a,thread:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSelectiveSyncTTRCQPLLoggingUtils",["I64","QPLUserFlow","ReQL","ReQLSuspense","qpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25310806,"1365");function a(a){var b,e=c("useReStore")();b=(b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("messages").index("messageDisplayOrder")).getKeyRange(a).take(20)},[e,a],f.id+":30"))!=null?b:[];return b}function b(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_point_query_ttrc")).getKeyRange(a)},[b,a],f.id+":43");if(e!=null)return e}function e(a,b,d){c("QPLUserFlow").endSuccess(h,{annotations:{string:{hasMessageDataChanged:b,status:"completed"}},instanceKey:a,timestamp:(b=d)!=null?b:void 0})}function i(a,b){c("QPLUserFlow").start(h,{annotations:{string:{thread_id:d("I64").to_string(b)}},instanceKey:a})}function j(a,b){c("QPLUserFlow").addPoint(h,b,{instanceKey:a})}function k(a){c("QPLUserFlow").addPoint(h,"selective_sync_remediation_end",{instanceKey:a}),c("QPLUserFlow").endSuccess(h,{annotations:{string:{status:"skipped"}},instanceKey:a})}g.useLast20Messages=a;g.useTPQEntry=b;g.logCompleteEndSuccess=e;g.logEventStreamStart=i;g.logPoint=j;g.logSkippedEndSuccess=k}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("useThreadLastMessageTimeMs",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a).map(function(a){return a.timestampMs})},[b,a],f.id+":24")}g["default"]=a}),98);
__d("useMAWThreadLastMessageConsistencyLogging",["CometDebounce","I64","Int64Hooks","MAWBridgeSendAndReceive","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","logMessengerWebFalcoEvent","promiseDone","react","useMWEntrypoint","useReStore","useThreadLastMessageTimeMs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef,i=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.thread;a=c("useReStore")();var e=h(!1),f=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector()),g=c("useMWEntrypoint")(),j=b.lastActivityTimestampMs,k=c("useThreadLastMessageTimeMs")(b.threadKey);d("Int64Hooks").useEffectInt64(function(){if(e.current)return;if(f)return;if(k==null)return;e.current=!0;var a=d("I64").compare(k,j)>-1,h={hasMissingMessage:!a,threadLastActivityTimeMs:d("I64").to_string(j),threadLastMessageTimeMs:d("I64").to_string(k)};c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadLastMessageTs",{threadKey:d("I64").to_string(b.threadKey)}),function(a){i({threadKey:b.threadKey,threadType:b.threadType},"thread_and_message_list_last_activity_mismatch",g,babelHelpers["extends"]({},h,{armadilloThreadLastMsgTs:(a=a==null?void 0:a.toString())!=null?a:""}))},function(){i({threadKey:b.threadKey,threadType:b.threadType},"thread_and_message_list_last_activity_mismatch",g,h)})},[a,g,e,f,b.threadKey,b.threadType,j,k])}g["default"]=a}),98);
__d("MWMessageElementRefList.bs",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}else return d(e)},set:function(d){var e=b.get(d);if(!(e==null))return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);var e=c.contents;if(e!=null&&e[0]===d){e[1](b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(h=document.implementation&&document.implementation.hasFeature("","")!==!0);function a(a,b){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||b===!0&&!("addEventListener"in document))return!1;b="on"+a;var d=b in document;if(!d){var e=document.createElement("div");e.setAttribute(b,"return;");d=typeof e.getAttribute(b)==="function"}!d&&h&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}g["default"]=a}),98);
__d("MWChatConversationScroller.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","isEventSupported","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.forwardRef;var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useImperativeHandle,m=b.useLayoutEffect,n=b.useMemo,o=b.useRef;function p(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function q(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop<=a}var r=c("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior==null&&((d=document.body)==null?void 0:d.style.scrollBoundaryBehavior)==null:!1;function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,s=a.scrollPositionRef;a=a.onScroll;var t=a!=null?a:function(a){},u=o(f),v=o(null),w=i(function(a){v.current=a;if(d!=null){d.current=a!=null?a.getBoundingClientRect():void 0;return}},[d]);k(function(){u.current=f});var x=function(a,b){b=v.current;if(b!=null){b.scrollTop=a;return}},y=function(a){a===void 0&&(a=!1);var b=v.current;if(b!=null)return x(b.scrollHeight,a)},z=function(a,b){var c=v.current;if(c!=null)return x(c.scrollHeight-(a+c.clientHeight),b)},A=o(!1);A.current=g;var B=function(){var a=s.current,b=v.current;b=b!=null?b.scrollHeight-(b.scrollTop+b.clientHeight):void 0;var c=p(void 0,v.current),d=q(void 0,v.current);s.current=c?A.current?{_0:void 0,TAG:3}:{_0:void 0,TAG:0}:b!=null?d?{_0:b,TAG:1}:{_0:b,TAG:2}:{_0:void 0,TAG:0};c=s.current;d=0;var e=0;switch(a.TAG){case 0:d=1;break;case 1:case 2:e=2;break;case 3:break}if(e===2)switch(c.TAG){case 1:d=1;break;case 2:break;case 0:case 3:u.current({_0:void 0,TAG:1});break}if(d===1){e=0;switch(a.TAG){case 1:break;case 0:case 2:e=2;break}e===2&&c.TAG===1&&u.current({_0:void 0,TAG:2})}return t(b)},C=function(a){if(r){var b=a.deltaY>0,c=a.deltaY<0;(b&&p(0,v.current)||c&&q(0,v.current))&&a.preventDefault()}return B()},D=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(){return a.removeEventListener(b,c,{passive:!0})}},e=function(){return a.addEventListener(b,C,{passive:!r})},f=function(){return a.removeEventListener(b,C,{passive:!r})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(B,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",B),k=d("mousedown",B);return function(){f();i();g();h();k();return j()}};k(function(){var a=v.current;if(a==null)return;var b=D(a);return function(){return b()}},[]);m(function(){var a=v.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&u.current({_0:void 0,TAG:0})});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=s.current;switch(a.TAG){case 0:y();break;case 1:z(a._0,!1);break;case 2:case 3:break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=s.current;switch(a.TAG){case 0:y();break;case 1:case 2:z(a._0,!1);break;case 3:break}},[]);var E=j(c("BaseScrollableAreaContext")),F=n(function(){return{getDOMNode:function(){return v.current}}},[]);a=n(function(){return E.concat([F])},[F,E]);l(b,function(){return{getScroller:function(){return w},isContainerFilled:function(){var a=v.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=v.current;if(b==null)return;var c=a.getBoundingClientRect();b=b.getBoundingClientRect();c=c.top;b=b.top;if(c<=b){a.scrollIntoView();return}},scrollToBottom:function(){s.current={_0:void 0,TAG:0};return y()},scrollToElement:function(a,b){var c=v.current;if(c==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var d=c.getBoundingClientRect();a=a.top;d=d.top;if(a<=d){c.scrollBy(0,-b|0);return B()}}}},[]);return h.jsx(c("BaseScrollableAreaContext").Provider,{children:h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x1odjw0f xish69e x16qrkmw","data-release-focus-from":"CLICK",ref:w,tabIndex:-1,children:e}),value:a})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("MWV2MessageScroller.bs",["LSIntEnum","LSMailboxMessagesRangeQueryDirection","MWChatConversationScroller.bs","react","useMWMarkThreadAsReadWhenNewMessagesArrive"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.markThreadAsRead,e=a.lastMessageToCalculateIfThreadIsRead,f=a.children,g=a.fetchMore,j=a.hasMoreAfter,k=a.hasMoreBefore,l=a.scrollerRefs,m=a.thread;a=a.onScroll;a=a!=null?a:function(){};var n=i(function(){var a;return((a=l.scrollPositionRef.current)==null?void 0:a._0)===void 0&&((a=l.scrollPositionRef.current)==null?void 0:a.TAG)===0},[l]),o=i(function(){return!1}),p=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(m,e,b,n,o);return h.jsx(c("MWChatConversationScroller.bs"),{dispatch:function(a){switch(a.TAG){case 0:if(k)return g(d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));else return;case 1:if(j)return g(d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER));else return p();case 2:return g(d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))}},hasMoreAfter:j,onScroll:a,ref:l.scrollerRef,scrollPositionRef:l.scrollPositionRef,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(){var a=i(null),b=i({_0:void 0,TAG:0});return h(function(){return{scrollerRef:a,scrollPositionRef:b}},[])}g["default"]=a}),98);
__d("MWChatLoadMoreItemsIncrementally.bs",["I64","LSIntEnum","LSMailboxMessagesRangeQueryDirection","bs_belt_Array","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo,j=b.useRef,k=b.useState,l={contents:void 0};function m(){var a;l.contents==null&&(l.contents=window.document.documentElement.style.overflowAnchor!=null);return(a=l.contents)!=null?a:!1}function a(a,b,e,f,g,l){a=a!=null?a:!1;var n=b!=null?b:!0;b=e!=null?e:{_0:void 0,TAG:0};e=a||!m();var o=f.length,p;switch(b.TAG){case 1:case 2:p=b._0>=200;break;case 0:case 3:p=!1;break}a=k(function(){if(p)return o;else if(n)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var q=a[0],r=a[1];b=i(function(){return c("bs_belt_Array").sliceToEnd(f,-q|0)},[f,q]);var s=j(q);a=h(function(a){d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))||c("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((s.current+15|0)<=o){s.current=s.current+15|0;return r(function(){return s.current})}else{g(d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));if(s.current<(o+15|0)){s.current=o+15|0;return r(function(){return s.current})}else return}},[g,o,r]);if(e)return[f,g,l];else return[b,a,l||q<o]}g.useLoadMore=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent","MWPMessageHasAttachment","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","cr:2472","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function n(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}function o(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=d("I64").equal(a.id,f);var g=b.replySourceTypeV2!=null&&d("I64").equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return i.jsx(n,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}function p(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function q(a){a=a.message;var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":130");if(a.length===0)return null;if(a.length>1)return a.every(p)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):null;a=a[0];var j=a.accessibilitySummaryText,k=a.attachmentType,l=a.filename;a=a.titleText;if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),a!=null?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",a)]):null]});else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__456qLg2FzOf__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),j!=null&&j!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",j)]):null]});else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),l!=null?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",l)]):null]});else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}function r(a){var e=a.message,f=a.participant,g=a.sender;a=a.threadType;var h=m(!1),j=h[0],l=h[1];k(function(){var a=c("setTimeout")(function(){return l(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!j)return null;h=d("LSMessagingThreadTypeUtil").isSecure(a);j=e.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(e.text):e.text;return i.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[i.jsx(o,{message:e,participant:f,sender:g}),j!=null?j:null,c("MWPMessageHasAttachment")(e)&&!h?i.jsx(q,{message:e}):null]})}r.displayName=r.name+" [from "+f.id+"]";function s(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),h=l(d("ServerTime").getMillis()),i=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.table("messages")).getKeyRange(i).subscribe(function(e,g){if(g.operation!=="add")return;var i=g.value;d("I64").to_float(i.timestampMs)>h.current&&(h.current=d("I64").to_float(i.timestampMs),c("promiseDone")(b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(i.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(i.threadKey,i.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(i,c,b)}))})},[f,g,a,i])}function a(a){a=a.thread;var b=a.threadType,e=m(null),f=e[0],g=e[1];e=j(function(a,e,f){if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return i.jsx(r,{message:a,participant:f,sender:e,threadType:b})})},[b]);s(e,a);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("MWV2ThreadNullstatePill.react",["CometPressable.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children;a=a.onClick;var d=c("useCurrentDisplayMode")()==="dark";return h.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(){return[d?i.dark_mode_legible_text_pill:i.pill]},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2SendIcebreakerMessage",["I64","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2","LSShape","LSThreadAttributionTypeUtil.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWMDotMeReferrerContext.bs","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),i=d("MWMDotMeReferrerContext.bs").useMDotMeReferrer();return h(function(h,j){var k=d("LSThreadAttributionTypeUtil.bs").getSource(a.threadKey,b);h=h!=null?d("I64").equal(h.ctaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").GET_STARTED))&&h.ctaId===j.ctaId:!1;var l=h?i:void 0;c("promiseDone")(f.runInTransaction(function(b){var f;return c("LSOptimisticSendMessageV2")(g,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),j.title,void 0,d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(f=e)!=null?f:void 0,mark_read:!0,platform_ref:l,platform_token:j.platformToken,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),source:k}),c("LSFactory")(b))},"readwrite"));var m=d("I64").to_string(a.threadKey);if(h)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:m}}});else{var n=(h=j.ctaIdentifier)!=null?h:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:m},quick_reply:{id:n,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint.bs").icebreaker}}})},[f,g,d("I64").to_string(a.threadKey),b,i])}g["default"]=a}),98);
__d("MWV2PersistentIcebreakers.bs",["I64","LsBotComposerQuickReplyDisplayedFalcoEvent","MWPThreadThemeGradientUtils","MWV2ThreadNullstatePill.react","react","stylex","useMWPThreadTheme","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useState,k={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a,b,c){if(b.length!==0)return((c|0)-d("I64").to_int32(a.lastActivityTimestampMs)|0)>=216e5;else return!1}function b(a){var b=a.initiatingSource,e=a.lsSource;e=e===void 0?"unknown":e;var f=a.nullstateCtas,g=a.thread,l=c("useMWV2SendIcebreakerMessage")(g,e,b);a=c("useMWPThreadTheme")();var m=f.map(function(a){return a.ctaIdentifier});e=j(!1);var n=e[0],o=e[1];b=c("useVisibilityObserver")({onVisible:i(function(){if(!n&&m.length>0){o(!0);var a=d("I64").to_string(g.threadKey);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:m,num_items:m.length,type:60},page:{id:a}}})}},[n,m,g.threadKey])});return h.jsx("div",{className:c("stylex")(k.container,d("MWPThreadThemeGradientUtils").isGradient(a)&&k.mask),ref:b,children:h.jsx("ul",{className:"xuk3077 xcrg951 x78zum5 xdt5ytf xm7lytj",children:f.map(function(a){if(a.ctaType==="nullstate_icebreaker")return h.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:h.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return l(void 0,a)},children:a.title})},d("I64").to_string(a.ctaId));else return null})})})}b.displayName=b.name+" [from "+f.id+"]";g.shouldShowPersistentIcebreakers=a;g.MWV2PersistentIcebreakers=b}),98);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a.eligiblePromotions);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8783,context_trigger:"messenger_thread_open"});return a==null?null:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j="CHAT_TAB_OPEN",k="MESSENGER_THREAD_OPEN";function l(a){switch(a){case"ChatTab":return j;default:return k}}function m(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=l(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e!=null?d("I64").to_string(e):null,fb_group_id:f!=null&&!d("I64").is_zero(f)?d("I64").to_string(f):null,thread_id:d("I64").to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:i.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){return i.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381"),{}),b("cr:1799382")!=null&&a?h.jsx(b("cr:1799382"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","TetraButton.react","fbicon","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),l={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=a.onDismiss,e=a.onView;a=h._("__JHASH__7PesNdiLm6N__JHASH__");var f=h._("__JHASH__jjSY-Fh1rGw__JHASH__"),g={},m=c("useMWXLazyDialog")(k),n=m[0],o=function(){return n(g,function(){})};return j.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(c("MDSRowItem.react"),{xstyle:l.imageRow,children:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:f})})})]})]}),j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(c("MDSRowItem.react"),{xstyle:l.button,children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),onPress:function(){o();return e()},type:"secondary"})}),j.jsx(c("MDSRowItem.react"),{xstyle:l.button,children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__CqytfJoYvSJ__JHASH__"),onPress:b,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Date.now()-d("I64").to_float((a=a.unsentTimestampMs)!=null?a:d("I64").zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["I64","Int64Hooks","MWChatUnsendNUXReceiverBanner.bs","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useRef,k=b.useState;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("useReStore")(),f=k(!1),g=f[0],l=f[1],m=j(!1),n=j(!1),o=j();f=c("useMessengerUnsendNUX")(8568);var p=f[0],q=f[1],r=f[2],s=i(function(){var a=o.current;if(a!=null){a();o.current=void 0;return}},[]);f=i(function(){n.current=!0;q();s();return l(!1)},[q,s]);var t=i(function(a){var b=!g&&!m.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){m.current=!0;return p(function(a){m.current=!1;if(a)return l(!0);else{s();n.current=!0;return}})}},[g,p,s]);d("Int64Hooks").useEffectInt64(function(){if(n.current)return;o.current=d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b).filter(function(b){if(b.isUnsent)return!d("I64").equal(b.senderId,a);else return!1}).subscribe(function(a,b){b.operation!=="delete"&&t(b.value)});return function(){s();if(g&&!n.current)return r()}},[e,a,g,r,t,b,s]);if(g)return h.jsx(c("MWChatUnsendNUXReceiverBanner.bs"),{onDismiss:f,onView:f});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXSender.bs",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMWXLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("useReStore")(),f=j(!1),g=j(!1),k=j(!1),l=j(),m=c("useMessengerUnsendNUX")(8598),n=m[0],o=m[1],p=h(function(){var a=l.current;if(a!=null){a();l.current=void 0;return}},[]),q=h(function(){if(!k.current){k.current=!0;p();return o()}},[]);m=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var r=m[0],s=h(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return n(function(a){f.current=!1,a?(r({onView:q},function(){}),g.current=!0):(p(),k.current=!0)})}},[a,p]);i(function(){l.current=d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b).filter(function(b){return b.isUnsent&&d("I64").equal(b.senderId,a)}).subscribe(function(a,b){b.operation!=="delete"&&s(b.value)});return p},[b,s,p]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("LSThreadPointQueryTTRCStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPLETED:1,SKIPPED:2});f["default"]=a}),66);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometIcon.react","CometRow.react","CometRowItem.react","CometTextWithIcon.react","MWXLink.react","MWXText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(){var a;a=(a=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:a.toString();return j.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:j.jsx(c("CometRowItem.react"),{children:j.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:k.banner,children:[j.jsx(c("CometColumnItem.react"),{expanding:!0,children:j.jsx(c("MWXText.react"),{align:"center",type:"bodyLink4",children:j.jsx(c("CometTextWithIcon.react"),{iconBefore:j.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._("__JHASH__Kow3rs5K3HC__JHASH__")})})}),j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._("__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",j.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:h._("__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometContextualMessage.react","CometImageFromIXValue.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","fbs","promiseDone","react","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;function a(){var a=c("useMAWGetUserVisibleErrors")(),b=a[0],e=a[1];a=k(!1);var f=a[0],g=a[1];a=j(function(){c("promiseDone")(e(),function(){window.location.reload(!0)})},[e]);var l=j(function(){c("promiseDone")(e(),function(){g(!0)})},[g,e]),m=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(b==null?void 0:b.errorBodyText),n=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(b==null?void 0:b.errorTitleText);return b&&m!=null&&n!=null&&c("CometContextualMessage.react")&&!f?i.jsx("div",{className:"xjf5wm9 xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x17qophe x13vifvy xh8yej3",children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:c("fbs")._("__JHASH__PnVpnKg9Gg___JHASH__"),onPress:a,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),body:m,headline:i.jsx(i.Fragment,{children:n}),headlineAriaLabel:n,icon:i.jsx(c("CometImageFromIXValue.react"),{alt:n,source:h("1351648")}),level:4,onClose:l})}):void 0}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("MWV2ContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.kind;a=a.text;if(d("I64").equal(b,d("I64").zero)||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT)))return h.jsx("div",{className:"xsag5q8",children:h.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return h.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ContextBanner.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.bs","MAWGating","MAWThreadCutover","MWContextBannerEndToEndEncryptedBanner.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWV2ContextBannerNullstateDescription.react","MWXText.react","cr:5777","gkx","react","useIsReadOnlyFeatureLimitedWithThreadType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;var e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(47),a),f=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType),g=d("MAWThreadCutover").useIsCutoverSecureThread(a.threadKey),i=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType);if(e)return null;e=a.nullstateDescriptionText1;var j=a.nullstateDescriptionText2,k=a.nullstateDescriptionText3,l=a.nullstateDescriptionType1,m=a.nullstateDescriptionType2,n=a.nullstateDescriptionType3,o=d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(-18)),p=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);f=f&&(!p||d("MAWGating").isFeatureLimitEnabled());var q=h.jsx("span",{className:"xxymvpz",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("LSVerificationBadge.bs"),{size:"large",thread:a})})}),r=h.jsx(c("LSThreadTitle.react"),{thread:a,wrapOutput:function(a,b){return b}});return h.jsxs("div",{className:"xsag5q8 x1ye3gou xn6708d x1cnzs8","data-testid":void 0,children:[h.jsx("div",{className:"x78zum5 xl56j7k xod5an3",children:h.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,thread:a})}),h.jsx("div",{className:"xod5an3",children:h.jsxs(c("MWXText.react"),{align:"center",numberOfLines:1,type:"headlineEmphasized3",children:[r,!i&&!c("gkx")("8726")&&q]})}),e!=null&&l!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:l,text:e}):null,j!=null&&m!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:m,text:j}):null,k!=null&&n!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:n,text:k}):null,b("cr:5777")!=null&&!f&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("I64").gt(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&!o?h.jsx(b("cr:5777"),{thread:a}):null,p&&!g?h.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,p&&c("MWPWebWorkerDisconnectedBanner.react")?h.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstateCTAs.react",["I64","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState,k={cta_list:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=a.initiatingSource,e=a.lsSource,f=a.nullstate,g=a.nullstateCtas,l=a.thread,m=c("useMWV2SendIcebreakerMessage")(l,e,b),n=g.map(function(a){return a.ctaIdentifier}).filter(Boolean);a=j(!1);var o=a[0],p=a[1];e=c("useVisibilityObserver")({onVisible:i(function(){if(!o&&n.length>0){p(!0);var a=d("I64").to_string(l.threadKey);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:n,num_items:String(n.length),type:60},page:{id:a}}})}},[o,n,l.threadKey])});return h.jsx("ul",{className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",ref:e,children:g.map(function(a){var b=d("I64").equal(f.ctaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").GET_STARTED))&&f.ctaId!=null&&d("I64").equal(f.ctaId,a.ctaId);return h.jsx("li",{className:c("stylex")(k.cta_list_item,b?k.cta_list_item_center:!1),children:h.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return m(f,a)},children:a.title})},d("I64").to_string(a.ctaId))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["fbt","CometScrollableArea.react","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","LSThreadTitle.react","MWPreloadedText","MWV2ThreadNullstateCTAs.react","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","qex","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={privacy_text:{paddingBottom:"xx6bls6",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},privacy_text_offset:{paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0},welcome_text:{paddingBottom:"x1hhzuzn",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var b,e=a.initiatingSource,f=a.lsSource;f=f===void 0?"unknown":f;var g=a.nullstate,l=a.nullstateCtas,m=a.thread;a=j(c("MWPreloadedText"));b=(b=c("qex")._("357"))!=null?b:!1;b=b?h._("__JHASH__g9x1I2WGDEe__JHASH__"):h._("__JHASH__zLWQrS74qZX__JHASH__");var n=h._("__JHASH__pMA_7iE0GY1__JHASH__",[h._param("name",i.jsx(c("LSThreadTitle.react"),{thread:m,wrapOutput:function(a,b){return b}})),h._param("= public info link",i.jsx(c("MWXLink.react"),{color:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:i.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__WAqQCKR95Tr__JHASH__")})}))]),o=g.privacyText,p=g.welcomeText,q=g.privacyTextNonWelcomeScreen,r=a.text!=null&&!!q;r=r||o!=null?i.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:r?q:o}):null;q=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2ThreadNullstate.react"));var s=q[0];q=g.privacyTextCtaTitle;q=i.jsx(c("MWXLink.react"),{color:"primary",onClick:function(){s({entryPoint:"NULL_STATE",threadKey:m.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:d("I64").to_string(m.threadKey)}})},role:"link",target:"_blank",children:q!=null?i.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:q}):null});p=i.jsxs("div",{children:[p!=null&&a.text==null?l.length!==0?p!==b.toString()?i.jsxs("div",{children:[i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:p})}),i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})})]}):i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}):p!==b.toString()?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:p})}):null:l.length!==0&&a.text!=null?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}):null,a.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:e,lsSource:f,nullstate:g,nullstateCtas:l,thread:m}),o!=null?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c("gkx")("2386")&&d("I64").equal(g.privacyTextCtaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?i.jsxs(i.Fragment,{children:[r," ",q]}):n})}):null]});return i.jsx(c("CometScrollableArea.react"),{xstyle:k.privacy_text_offset,children:p})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSFactory","LSFetchAdditionalThreadData","LSIntEnum","LSMessagingThreadTypeUtil","LSReportThreadViewOpen","LSThreadBitOffset","LSThreadPointQueryTTRCStatus","MWCMAutoJoinNotifNUX.react","MWCMIsAnyCMThread","MWCMSelectiveSyncTTRCQPLLoggingUtils","MWCMThreadTypes.react","MWChatUnsendNUX.bs","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.bs","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ContextBanner.react","MWV2PersistentIcebreakers.bs","MWV2ThreadNullstate.react","Random","ReQL","ReQLSuspense","ServerTime","areEqual","cr:1598","cr:1690","cr:4411","cr:4723","cr:488","cr:5483","cr:7100","cr:7378","gkx","justknobx","logMessengerWebFalcoEvent","promiseDone","qex","react","useCommunityFolder","useLSMessagingInitiatingSource","usePageletMetadata","useReStore","useThreadLastMessageTimeMs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=e.useState,l=(e=b("cr:4411"))!=null?e:b("cr:7378"),m=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function n(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").threadNullStateQuery(b,a.threadKey)},[b,a.threadKey],f.id+":119"),g=d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(b,a.threadKey)},[b,a.threadKey],f.id+":126");return[e,g]}function o(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCMChannelListQuery(b,a.threadKey)},[b,a.threadKey],f.id+":136")}function p(a,b){var e=c("useThreadLastMessageTimeMs")(a.threadKey),f=j(!1);d("Int64Hooks").useEffectInt64(function(){if(f.current)return;if(e==null)return;var c=d("I64").compare(e,a.lastActivityTimestampMs)>-1;m({threadKey:a.threadKey,threadType:a.threadType},"thread_and_message_list_last_activity_mismatch",b,{hasMissingMessage:!c,threadLastActivityTimeMs:d("I64").to_string(a.lastActivityTimestampMs),threadLastMessageTimeMs:d("I64").to_string(e)});f.current=!0},[b,a.lastActivityTimestampMs,a.threadKey,a.threadType,e])}var q=function(a){var b=a.instanceKey,e=a.isReportThreadViewOpenSprocCalled,g=a.reportThreadViewOpenCalledTimestamp,h=a.setInstanceKey,i=a.threadKey,k=j(!1);a=c("useReStore")();var l=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("messages").index("messageDisplayOrder")).getKeyRange(i).take(20),f.id+":197"),m=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("reactions")).getKeyRange(i).take(20),f.id+":202"),n=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("reactions_v2")).getKeyRange(i).take(20),f.id+":205");d("Int64Hooks").useEffectInt64(function(){e===!1&&(k.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logEventStreamStart(b,i))},[b,e,g,i]);var o=j(l),p=j(m),q=j(n),r=d("MWCMSelectiveSyncTTRCQPLLoggingUtils").useTPQEntry(i);d("Int64Hooks").useEffectInt64(function(){var a=r==null?void 0:r.status,e=r==null?void 0:r.deltaInsertionTimestampMs,f=r==null?void 0:r.dasmExecutionTimestampMs;if(k.current===!0&&g!==0)if(a&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSThreadPointQueryTTRCStatus").SKIPPED)))d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logSkippedEndSuccess(b),k.current=!1,h(c("Random").uint32());else if(a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSThreadPointQueryTTRCStatus").COMPLETED))&&e!=null&&d("I64").to_float(e)>g){d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(b,"selective_sync_remediation_end");a=!c("areEqual")(o.current,l);var i=!c("areEqual")(p.current,m),j=!c("areEqual")(q.current,n);a||i||j?d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(b,"true",f!=null?d("I64").to_float(f):void 0):d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(b,"false",e!=null?d("I64").to_float(e):void 0);o.current=l;p.current=m;q.current=n;k.current=!1;h(c("Random").uint32())}},[b,l,m,n,g,h,r]);return null};function a(a){var e=a.entryPoint,f=a.messageListRef,g=a.thread;a=k(function(){return d("ServerTime").getMillis()});var m=a[0];a[1];a=k(0);var r=a[0],s=a[1];a=k(c("Random").uint32());var t=a[0];a=a[1];var u=n(g),v=u[0],w=u[1];u=o(g);c("usePageletMetadata")("threadType",d("I64").to_string(g.threadType));var x=d("MWPActor.react").isAPPlus(),y=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType),z=c("useLSMessagingInitiatingSource")(),A=b("cr:7100")!=null?h.jsx(b("cr:7100"),{thread:g}):null,B=d("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(g,w,m),C=c("useReStore")(),D=c("MWCMIsAnyCMThread")(g.threadType);m=d("MWCMThreadTypes.react").isJoinedCMThread(g.threadType);var E=j(!1),F=D||c("justknobx")._("1225")&&(d("LSMessagingThreadTypeUtil").isSocialChannelV2(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)),G=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(167),g)&&m;r=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(q,{instanceKey:t,isReportThreadViewOpenSprocCalled:E.current,reportThreadViewOpenCalledTimestamp:r,setInstanceKey:a,threadKey:g.threadKey})});d("Int64Hooks").useEffectInt64(function(){F&&(D&&d("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:d("I64").to_string(g.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:d("I64").to_string(g.threadKey)}),c("qex")._("1000"),E.current===!1&&(s(d("ServerTime").getMillis()),E.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(t,"selective_sync_remediation_start"),c("promiseDone")(C.runInTransaction(function(a){return c("LSReportThreadViewOpen")(g.threadKey,c("LSFactory")(a))},"readwrite")))),G&&c("promiseDone")(C.runInTransaction(function(a){return c("LSFetchAdditionalThreadData")(g.threadKey,c("LSFactory")(a))},"readwrite"))},[C,g.parentThreadKey,g.threadKey,g.threadType,G,D,t,F]);a=i(function(){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWPQuickReplies.bs"),{threadKey:g.threadKey}),B?h.jsx(d("MWV2PersistentIcebreakers.bs").MWV2PersistentIcebreakers,{initiatingSource:z,lsSource:"inboxInThread",nullstateCtas:w,thread:g}):null]})},[g,w,z,B]);var H=i(function(){return h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),h.jsx(c("MWV2ContextBanner.react"),{thread:g}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},[g]);p(g,e);var I=c("useCommunityFolder")(g),J=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();J=J!=null&&J==="ChatTab";u=(u==null?void 0:u.channelPrivacy)!=null&&d("I64").equal(u==null?void 0:u.channelPrivacy,d("LSIntEnum").ofNumber(2));var K=c("gkx")("1968579"),L=c("gkx")("7561"),M=d("I64").gt(g.parentThreadKey,d("I64").zero)&&d("I64").gt(g.threadKey,d("I64").zero);J=b("cr:4723")!=null&&!J?h.jsx(b("cr:4723"),{thread:g}):null;var N=b("cr:1690")!=null?h.jsx(b("cr:1690"),{thread:g}):null,O=b("cr:5483")!=null&&m&&!u?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("cr:5483"),{folderId:g.parentThreadKey})}):null;K=b("cr:1598")!=null&&m&&u&&K?h.jsx(b("cr:1598"),{groupId:g.parentThreadKey,threadId:g.threadKey}):null;m=b("cr:488")!=null&&m&&u&&L?h.jsx(b("cr:488"),{groupId:g.parentThreadKey,threadId:g.threadKey}):null;u=M?h.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:I==null?void 0:I.folderId,fbGroupId:I==null?void 0:I.fbGroupId,threadId:g.threadKey}):null;return v!=null&&d("I64").equal(g.lastActivityTimestampMs,d("I64").zero)?h.jsxs(h.Fragment,{children:[F?r:null,u,A,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:g}),N,O,K,m,J,h.jsx(c("MWV2ContextBanner.react"),{thread:g}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),h.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:z,lsSource:"inboxInThread",nullstate:v,nullstateCtas:w,thread:g})]}):h.jsxs(h.Fragment,{children:[F?r:null,u,A,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:g}),N,O,K,m,h.jsx(c("MWChatUnsendNUX.bs"),{senderUnsendNUXEnabled:!0}),J,h.jsx(c("MWMessageList"),{entryPoint:e,ref:f,renderFooter:a,renderHeader:H,thread:g}),x&&y&&l!=null?h.jsx(l,{thread:g}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MessengerWebUXLogger","cr:6436","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.useEffect;f=e(function(a){var e=a.entryPoint,f=a.messageListRef;a=a.thread;var g=c("useReStore")(),j=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_view_impression"});i(function(){j&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(g,d("LSIntEnum").ofNumber(118)))},[g,j]);var l=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);return h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",ref:k,children:h.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:h.jsx(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:b("cr:6436")==null||!l?h.jsx(c("MWOpenThreadDetail.react"),{entryPoint:e,messageListRef:f,thread:a}):h.jsx(b("cr:6436"),{entryPoint:e,messageListRef:f,thread:a})})})})});g["default"]=f}),98);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497885"),20);b=d("fbicon")._(h("477826"),20);c=d("fbicon")._(h("485091"),20);e=d("fbicon")._(h("481761"),20);f=d("fbicon")._(h("484396"),20);g.AddPeople=a;g.EditName=b;g.Members=c;g.Link=e;g.Share=f}),98);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon,d=a.label;a=a.threadKey;var e=c("useMWCMEditChatInfoDialogEntrypoint")(a);return h.jsx(c("MWXCircleButton.react"),{icon:b,label:d,onPress:function(){return e()},size:36})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MDSCircleButton.react","MWContextBannerQuickActionsIcons.bs","MWPBumpEntityKey","MWVerticalRhythm","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("__JHASH__6ygymPD56Yw__JHASH__"),l=h._("__JHASH__NNt0oNKP6tq__JHASH__");function a(a){a=a.threadInviteLink;a=c("useCopyText")({value:a});a[0];a[1];var b=a[2];a=j(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),b(),d("cometPushToast").cometPushSimpleToast(l)},[b]);return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsLink,label:k,onPress:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharePublicChatQuickAction.react",["fbt","MDSCircleButton.react","MWChannelInviteDialog.entrypoint","MWContextBannerQuickActionsIcons.bs","MWVerticalRhythm","MWXText.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__zzzD0_ypABg__JHASH__");function a(a){var b=a.thread;a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),{});var e=a[0];return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsShare,label:j,onPress:function(){e({channelThread:b})},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:j})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","JSResourceForInteraction","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MDSCircleButton.react","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMIsAnyCMThread","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWContextBannerQuickActionsIcons.bs","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSection.react","MWInboxInfoQuickActionIcons","MWInboxPersistedUIState","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXText.react","emptyFunction","justknobx","promiseDone","react","useCommunityFolder","useCommunityMembers","useMWXEntryPointDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useRef,l=h._("__JHASH__4Z6iwQf0KqP__JHASH__"),m=h._("__JHASH__a3y4zGfm_2Z__JHASH__");function a(a){var b=a.thread;a=k(null);var e=c("useCommunityFolder")(b),f=c("MWCMIsAnyCMThread")(b.threadType),g=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),n=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),o=d("useCommunityMembers").useClearMemberList(),p=j(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(120),b),d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(17),e),e.fbGroupId];else return[void 0,!1,!1,d("I64").zero]},[f,e,b]),q=p[0],r=p[1];p=p[2];q=f&&d("I64").equal((q=q)!=null?q:d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").ENABLED),d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var s=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSection.react").storageKey),t=s[0];s=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var u=s[0];s=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWContextBannerQuickActions.react"));var v=s[0];s=j(function(){return[f?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),f?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&g?h._("__JHASH__1cAdDa3Rt1T__JHASH__"):h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[g,f,e]);var w=s[0],x=s[1];s=s[2];var y=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(60),b),z=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(81),b),A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(27),b),B=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(26),b),C=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(108),b),D=y&&z&&c("justknobx")._("1115");return i.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!q?r?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:c("MWInboxInfoQuickActionIcons").Invite,label:l,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return u({fbThreadId:d("I64").to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})]}):i.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsLink,label:w,onPress:b,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})}}):null,!f&&n&&C&&d("I64").equal(b.threadInvitesEnabledV2,d("LSIntEnum").ofNumber(1))?i.jsxs(i.Fragment,{children:[b.threadInviteLink!=null&&i.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&i.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&A?i.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:w,thread:b}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})}):null,n&&D?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWEditChannelDialogTrigger.react"),{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsEditName,label:m,onPress:function(){return a()},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:m})]}):null,!f&&y&&!D?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWEditThreadNameDialogTrigger.react"),{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsEditName,label:x,onPress:function(){return a()},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:x})]}):null,f&&z&&!q&&p?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsEditName,label:m,threadKey:b.threadKey}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:m})]}):c("justknobx")._("1116")?null:B?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsMembers,label:s,onPress:function(){return v({folder:e},function(){f&&!t&&c("promiseDone")(o())})},ref:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:s})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["cr:4958","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:4958")&&h.jsx(b("cr:4958"),{thread:a.thread})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQuery","MWMessageElementRefList.bs","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,l=j(c("MWMessageElementRefList.bs")()),m=a==null?void 0:a.threadKey;e=a==null?void 0:a.threadType;var n=j(),o=c("useReStore")(),p=d("ReQLSuspense").useFirst(function(){if(m==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(o.table("messages_ranges_v2__generated")).getKeyRange(m);var a=g.timestamp;return d("ReQL").fromTableDescending(o.table("messages_ranges_v2__generated")).getKeyRange(m).bounds({lte:{hd:a,tl:0}}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return d("I64").ge(a,b)&&d("I64").le(a,c)})},[m,g,o],f.id+":56"),q=k(function(){return p}),r=q[0],s=q[1];i(function(){n.current=void 0,g==null&&b.current!=null&&b.current.scrollToBottom()},[b,g]);var t=h(function(a){var d=b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),u=h(function(a){if(a!==n.current)return l.current.get(a,function(b){t(b),n.current=a})},[t]);i(function(){p!=null?s(p):g==null&&s(function(){})},[g,p,s]);i(function(){g!=null&&r!=null&&u(g.messageId)},[o,g,r,u]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&p==null&&g!=null){var b=g.messageId;c("promiseDone")(o.runInTransaction(function(d){return c("LSMessagePointQuery")(a.threadKey,b,a.threadType,c("LSFactory")(d))},"readwrite"))}},[o,g,p,m,e,a]);return{messageElementRefs:l,messageRange:r,visibleMessage:(q=g)!=null?q:void 0}}g["default"]=a}),98);
__d("MWV2ChatImagePlaceholder.bs",["CometObjectFitContainer.react","MDSGlimmer.react","MWPStableImage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.height;a=a.width;if(a==null)return null;if(b==null)return null;var e=a/b;return h.jsx(d("MWPStableImage.react").MWPStableImageContainer,{aspectRatio:e,className:c("stylex")(!1),height:b,maxHeight:200,maxWidth:480,width:a,children:h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:h.jsx(c("MDSGlimmer.react"),{index:1,xstyle:i.glimmer})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometPlaceholder.react","I64","LSIntEnum","MAWAttachmentBlob.react","MAWChatFile.react","MAWGetAttachmentThumbnailBlob","MWAudioPlayer.react","MWPMessageIsReply","MWPMessageListAttachmentContainer.react","MWV2ChatImage.react","MWV2ChatImagePlaceholder.bs","MWV2ChatVideo.bs","MWV2Sticker.react","MWXMAAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.message;a=a.outgoing;var i=f.attachmentType;switch(!0){case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)):return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWV2ChatImagePlaceholder.bs"),{height:f.previewHeight!=null?d("I64").to_float(f.previewHeight):f.previewHeightLarge!=null?d("I64").to_float(f.previewHeightLarge):void 0,width:f.previewWidth!=null?d("I64").to_float(f.previewWidth):f.previewWidthLarge!=null?d("I64").to_float(f.previewWidthLarge):void 0}),children:h.jsx(c("MWV2ChatImage.react"),{attachment:f,connectTop:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:c("MAWGetAttachmentThumbnailBlob"),message:g,navigateToRouteForMediaViewer:!1,outgoing:a})});case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)):return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWV2ChatImagePlaceholder.bs"),{height:f.previewHeight!=null?d("I64").to_float(f.previewHeight):f.previewHeightLarge!=null?d("I64").to_float(f.previewHeightLarge):void 0,width:f.previewWidth!=null?d("I64").to_float(f.previewWidth):f.previewWidthLarge!=null?d("I64").to_float(f.previewWidthLarge):void 0}),children:h.jsx(c("MWV2ChatVideo.bs"),{attachment:f,connectTop:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,message:g,navigateToRouteForMediaViewer:!1,outgoing:a})});case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)):return h.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:f,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,isReply:c("MWPMessageIsReply")(g),outgoing:a});case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWV2ChatImagePlaceholder.bs"),{height:f.previewHeight!=null?d("I64").to_float(f.previewHeight):f.previewHeightLarge!=null?d("I64").to_float(f.previewHeightLarge):void 0,width:f.previewWidth!=null?d("I64").to_float(f.previewWidth):f.previewWidthLarge!=null?d("I64").to_float(f.previewWidthLarge):void 0}),children:h.jsx(c("MWV2ChatImage.react"),{attachment:f,connectTop:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,message:g,navigateToRouteForMediaViewer:!1,outgoing:a})});case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)):return h.jsx(c("MWV2Sticker.react"),{attachment:f,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob});case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)):return h.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:f,connectBottom:b,connectTop:e,getFaviconUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"favicon")},getHeaderUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPlayableUrl:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},getPreviewUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},outgoing:a});case d("I64").equal(i,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)):return h.jsx(c("MAWChatFile.react"),{file:f});default:return"Unsupported attachment type"}}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.connectBottom,e=a.connectTop,g=a.message;a=a.outgoing;var j=c("useReStore")(),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.table("attachments")).getKeyRange(g.threadKey,g.messageId)},[j,g.messageId,g.threadKey],f.id+":222");return k==null?null:h.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,paint:d("I64").equal(k.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))?!1:void 0,children:h.jsx(i,{connectBottom:b,connectTop:e,dbAttachment:k,message:g,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEncryptionPlaceholder.react",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("MWV2TombstonedMessage.bs"),{children:h._("__JHASH__C8O2a78lb6C__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWFutureproofPlaceholder.react",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("MWV2TombstonedMessage.bs"),{children:h._("__JHASH__4rmC_sX93Dk__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("MWV2TombstonedMessage.bs"),{children:h._("__JHASH__M9fzIhDqITQ__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("MWV2TombstonedMessage.bs"),{children:h._("__JHASH__pGZ-I0iz-G0__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["CometPlaceholder.react","I64","LSIntEnum","MAWEncryptionPlaceholder.react","MAWFutureproofPlaceholder.react","MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MWPMessageListColumn.react","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a.threadKey,a.messageId],f.id+":32")}function j(a){a=a.message;a=i(a);if(a==null)return null;a=a.defaultCtaType;if(a==="xma_montage_share")return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MAWUnavailableStoryPlaceholder.react"),{})});c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_e2ee_web");return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MAWUnavailablePlaceholder.react"),{})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.message;var b=a.displayedContentTypes,e=null;d("I64").equal(b,d("LSIntEnum").ofNumber(65536))?e=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MAWEncryptionPlaceholder.react"),{})}):d("I64").equal(b,d("LSIntEnum").ofNumber(131072))?e=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MAWFutureproofPlaceholder.react"),{})}):d("I64").equal(b,d("LSIntEnum").ofNumber(262144))?e=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MAWUnavailablePlaceholder.react"),{})}):d("I64").equal(b,d("LSIntEnum").ofNumber(256))&&(e=h.jsx(j,{message:a}));return h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPMessageParsingUtils.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e,f){b=d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(a,e,"below");return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?h.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,message:a,outgoing:f}):h.jsx(c("MAWSecurePlaceholder.react"),{message:a})})}a.displayName=a.name+" [from "+f.id+"]";g.render=a}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWMessageRow.react","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.domElementRef,c=a.modal,e=a.renderAttachment,f=a.row,g=a.thread;a=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef();var i=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),j=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();j=j.visibleMessage;var k=f.message;i=i?d("I64").equal(g.threadKey,k.threadKey):!1;var l=!1;if(j!=null){var m=j.messageId;switch(j.source){case"Reply":case"Pinned":l=m===k.messageId;break;default:l=!1}}j={domElementRef:b,hasMessageEmphasisRing:l,isModal:c===k.messageId,isSecureMessage:i,message:k,nextMessage:f.nextMessage,prevMessage:f.prevMessage,renderAttachment:e,stopHoveringRef:a,threadType:d("Int64Hooks").useMemoInt64(function(){return g.threadType},[g.threadType])};return h.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},j))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometPagelet.react","CometScreenReaderText.react","I64","MAWMessageListRow.react","MAWSecureAttachmentRenderer.react","MWBaseTheme","MWInboxThreadMessagesSpinner.react","MWMessageRow.react","MWPBaseMessageList.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ContextBanner.react","MWV2MessageRowSimple.react","cr:4242","cr:6046","gkx","react","useMAWOfflineQueueLoadingIndicator","useMWPAriaLabelForMessageListGrid","useThreadLastMessageTimeMs","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.forwardRef,k=i.useId,l=i.useState,m={messageBubble:{backgroundColor:"x1vtvx1t",$$css:!0},messageListPagelet:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",height:"x5yr21d",$$css:!0}};function a(a){var b=a.theme;b=b===void 0?d("MWBaseTheme").empty:b;var e=a.threadKey;a=a.threadType;var f=d("MWPTypingIndicators.react").useTypingParticipants(e),g=d("MWPTypingIndicators.react").useAccessibilityText(f);if(f.length>0)return h.jsx(c("BaseTheme.react"),{config:b,children:h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[h.jsx("div",{"aria-live":"polite",children:h.jsx(c("CometScreenReaderText.react"),{text:g})}),h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{messageBubbleStyle:m.messageBubble,threadKey:e,threadType:a})]})})});else return null}var n=d("withCometPlaceholder").withCometPlaceholder(a);function e(a,e){var f=a.cutoverOpenThread,g=a.entryPoint,i=a.onScrollToBottom,j=a.thread;a=c("useMWPAriaLabelForMessageListGrid")(j);var m=d("MWMessageRow.react").useTheme(),o=l(""),p=o[0];o=o[1];var q=k(),r=c("useThreadLastMessageTimeMs")(j.threadKey);r=r!=null?d("I64").lt(r,j.lastActivityTimestampMs):!0;var s=c("useMAWOfflineQueueLoadingIndicator")(!1,j),t=!s&&r;s=h.jsx(c("MWPBaseMessageList.react"),{entryPoint:g,onScrollToBottom:i,pageSize:c("gkx")("2233")?3:15,ref:e,renderFooter:function(){return h.jsxs(h.Fragment,{children:[h.jsx(n,{theme:m,threadKey:j.threadKey,threadType:j.threadType}),t&&b("cr:6046")?h.jsx(b("cr:6046"),{}):null]})},renderHeader:function(){return h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),h.jsx(c("MWV2ContextBanner.react"),{thread:j}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},renderLoadingAnimation:function(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{})},renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage;a=a.prevMessage;return h.jsx(c("MAWMessageListRow.react"),{domElementRef:b,modal:p,renderAttachment:d("MAWSecureAttachmentRenderer.react").render,row:{message:e,nextMessage:f,prevMessage:a},thread:j})},secondaryThread:f,thread:j});return h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d","data-testid":void 0,id:q,children:h.jsx(d("CometPagelet.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:null,name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:j,children:h.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:a,modal:p,setModal:o,children:b("cr:4242")==null?s:h.jsx(b("cr:4242"),{id:q,children:s})})})})})}e.displayName=e.name+" [from "+f.id+"]";i=j(e);g["default"]=i}),98);
__d("useSecureThreadDetailGetDevices",["I64","MAWJids","MAWJobDefinitions","MAWTimedJob","ReQL","ReQLSuspense","WAJobOrchestratorTypes","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b){var e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey).filter(function(b){return!d("I64").equal(b.contactId,a.threadKey)}).map(function(a){return d("MAWJids").toUserJid(d("I64").to_string(a.contactId))})},[b,a.threadKey],f.id+":30"),g=i(new Set());h(function(){var a=g.current.size!==e.length||!e.every(function(a){return g.current.has(a)});if(!a&&e.length>2)return;a=new Set(e);g.current=a;c("promiseDone")(d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"details-participants-changed",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW},users:a})))},[e])}g["default"]=a}),98);
__d("MAWCutoverSecureThreadDetail.react",["CometPagelet.react","ComponentMountUnmountSubspanLogger.react","I64","LSMessagingThreadTypeUtil","MAWArmadilloLinkContext.react","MAWMessageList.react","MWEncryptedBackupsThreadNux.react","MWPActor.react","ReQL","ReQLSuspense","cr:6045","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.cutoverOpenThread,g=a.entryPoint,j=a.messageListRef,k=a.thread,l=c("useReStore")();c("useSecureThreadDetailGetDevices")(k,l);var m=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(l.table("participants")).getKeyRange(k.threadKey),d("ReQL").fromTableAscending(l.table("contacts"))).take(8)},[k.threadKey],f.id+":52");a=a.filter(function(a){return!d("I64").equal(a[0].contactId,m)});a=(a=a[0])==null?void 0:(a=a[1])==null?void 0:a.firstName;var n=i(!1),o=n[0],p=n[1];return h.jsxs(h.Fragment,{children:[h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWEncryptedBackupsThreadNux",children:h.jsx(c("MWEncryptedBackupsThreadNux.react"),{isOneToOne:d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType),peerName:a})}),!o&&b("cr:6045")?h.jsx(b("cr:6045"),{}):null,h.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWCutoverSecureThreadDetail"}),h.jsx(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:h.jsx(c("MAWMessageList.react"),{cutoverOpenThread:e,entryPoint:g,onScrollToBottom:function(a){return p(a)},ref:j,thread:k})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWMessageList_DEPRECATED.react",["BaseTheme.react","CometPagelet.react","CometScreenReaderText.react","I64","Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWMessageListRow.react","MAWStateContext.react","MWBaseTheme","MWMessageRow.react","MWPBaseMessageList_DEPRECATED.bs","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:4242","cr:6046","react","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useEffect,k=i.useId,l=i.useState,m={messageBubble:{backgroundColor:"x1vtvx1t",$$css:!0}};function n(a,b){return new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).map(function(a){var b=a[0];a=a[1];return[d("I64").to_string(a.id),[b,a]]})},[b,a.threadKey]))}function o(a,b){j(function(){var c;if((a==null?void 0:(c=a.scrollPositionRef.current)==null?void 0:c.TAG)===0&&b.length>0){c=a.scrollerRef.current;c==null?void 0:c.scrollToBottom()}},[b,a])}function a(a){var b=a.scrollerRefs,e=a.theme;e=e===void 0?d("MWBaseTheme").empty:e;var f=a.threadKey;a=a.threadType;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),i=d("MWPTypingIndicators.react").useAccessibilityText(g);o(b,g);if(g.length>0)return h.jsx(c("BaseTheme.react"),{config:e,children:h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[h.jsx("div",{"aria-live":"polite",children:h.jsx(c("CometScreenReaderText.react"),{text:i})}),h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{messageBubbleStyle:m.messageBubble,threadKey:f,threadType:a})]})})});else return null}var p=d("withCometPlaceholder").withCometPlaceholder(a);function e(a){var e=a.messageElementRefs,f=a.messages,g=a.renderAttachment,i=a.scrollerRefs,j=a.thread;a=c("useReStore")();a=n(j,a);var m=c("useMWPAriaLabelForMessageListGrid")(j),o=d("MWMessageRow.react").useTheme(),q=l(""),r=q[0],s=q[1],t=k(),u=d("Int64Hooks").useMemoInt64(function(){return j.threadType},[j.threadType]);q=f.length>1?d("I64").to_float(f[f.length-1].timestampMs)<d("I64").to_float(j.lastActivityTimestampMs):!0;var v=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector());v=!v&&q;return h.jsxs(h.Fragment,{children:[h.jsx(c("MWPBaseMessageList_DEPRECATED.bs"),{messages:f,participants:a,renderRow:function(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return h.jsx(c("MAWMessageListRow.react"),{domElementRef:e.set(b.messageId),modal:r,renderAttachment:g,row:{message:b,nextMessage:d,prevMessage:a},thread:j})},thread:j,children:function(a){a=h.jsxs(h.Fragment,{children:[a,h.jsx(p,{scrollerRefs:i,theme:o,threadKey:j.threadKey,threadType:u})]});return h.jsx("div",{"data-testid":void 0,id:t,children:h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:j,children:h.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:m,modal:r,setModal:s,children:b("cr:4242")==null?a:h.jsx(b("cr:4242"),{id:t,children:a})})})})})}}),v&&b("cr:6046")?h.jsx(b("cr:6046"),{}):null]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","I64","LSAuthorityLevel","LSIntEnum","MAWArmadilloLinkContext.react","MAWMessageList.react","cr:2522","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.cutoverOpenThread,f=a.entryPoint,g=a.messageListRef;a=a.thread;var j=c("useReStore")();c("useSecureThreadDetailGetDevices")(a,j);j=i(!1);var k=j[0],l=j[1];j=e!=null&&d("I64").equal(e.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));return h.jsxs(h.Fragment,{children:[h.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:2522")!=null&&j&&h.jsx(b("cr:2522"),{isShown:!k,thread:a})}),h.jsxs(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:[h.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),h.jsx(c("MAWMessageList.react"),{cutoverOpenThread:j?e:void 0,entryPoint:f,onScrollToBottom:function(a){return l(a)},ref:g,thread:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureThreadDetail_DEPRECATED.bs",["CometHeroHoldTrigger.react","CometPagelet.react","CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MAWArmadilloLinkContext.react","MAWFetchMoreMessages","MAWMessageList_DEPRECATED.react","MAWSecureAttachmentRenderer.react","MWChatLoadMoreItemsIncrementally.bs","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.react","MWV2ContextBanner.react","MWV2MessageScroller.bs","ReQL","ReQLSuspense","cr:2522","gkx","logMessengerWebFalcoEvent","promiseDone","react","useMAWMarkThreadAsRead","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=e.useState,l=3;function m(a,b){var c=d("I64").compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=d("I64").compare((c=a.secondarySortKey)!=null?c:d("I64").of_int32(0),(c=b.secondarySortKey)!=null?c:d("I64").of_int32(0));return c!==0?c:d("I64").compare(a.timestampMs,b.timestampMs)}function n(a,b){var e=c("useReStore")();return d("ReQLSuspense").useArray(function(){var f=d("ReQL").fromTableAscending(e.table("messages").index("messageDisplayOrder")).getKeyRange(b.threadKey);if(a!=null)return f.bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if(d("I64").lt(b.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isSecure(b.threadType))return f;return d("ReQL").empty()},[e,a,b.authorityLevel,b.threadKey,b.threadType],f.id+":93")}function o(a,b){var e=c("useReStore")();return d("ReQLSuspense").useArray(function(){if(b==null)return d("ReQL").empty();var f=d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b.threadKey);if(a!=null)return d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if(d("I64").lt(b.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isSecure(b.threadType))return f;return d("ReQL").empty()},[e,b,a],f.id+":127")}function p(a,b){var c=d("I64").compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=a.secondarySortKey;var e=b.secondarySortKey;if(c==null)if(e!=null)return-1;else return d("I64").compare(a.timestampMs,b.timestampMs);if(e==null)return 1;c=d("I64").compare(c,e);return c!==0?c:d("I64").compare(a.timestampMs,b.timestampMs)}function q(a,b,e,f,g){var h=n(a,e),i=o(b,f);d("Int64Hooks").useEffectInt64(function(){if(f!=null&&i.length===0){var a=f.threadKey,b=f.threadType;c("logMessengerWebFalcoEvent")({threadKey:a,threadType:b},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:d("I64").to_string(e.threadKey),reason:"no_messages_fetched_for_open"})}},[g,i.length,f,e.threadKey]);return j(function(){if(a!=null&&!a.hasMoreBefore)return i.sort(p).concat(h.sort(m));else return h.sort(m)},[a,h,i])}var r=c("gkx")("4710")?c("MAWFetchMoreMessages").useFetchCutoverMessages:function(a,b,e){var f=c("useReStore")(),g=c("MAWFetchMoreMessages").useFetchSecureMessages(e);return d("Int64Hooks").useCallbackInt64(function(b){var e=d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER))?"after":"before";c("promiseDone")(f.runInTransaction(function(b){return g(b,a,e).then(function(){})},"readwrite"))},[f,g,a])};function a(a){var e,f=a.cutoverOpenThread,g=a.entryPoint;a=a.thread;var j=c("useMWV2ConversationScrollerRefs")(),m=c("useReStore")(),n=i(function(){var a;return((a=j.scrollPositionRef.current)==null?void 0:a._0)===void 0&&((a=j.scrollPositionRef.current)==null?void 0:a.TAG)===0},[j]),o=r(a.threadKey,f==null?void 0:f.threadKey,a.threadType),p=c("useMWCurrentVisibleMessage")(a,j.scrollerRef),s=p.messageRange,t=c("useMWCurrentVisibleMessage")(f,j.scrollerRef);t=t.messageRange;e=(e=s==null?void 0:s.hasMoreAfter)!=null?e:!1;var u=k(!1),v=u[0],w=u[1];o=d("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(e,void 0,void 0,q(s,t,a,f,g),o,(u=s==null?void 0:s.hasMoreBefore)!=null?u:!1);u=o[0];var x=o[1];o=o[2];c("useSecureThreadDetailGetDevices")(a,m);m=s==null||s.isLoadingBefore;s=f!=null&&(t==null||t.isLoadingBefore);t=u.length>=l;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:2522")!=null&&f&&h.jsxs(h.Fragment,{children:[h.jsx(b("cr:2522"),{isShown:v,thread:a}),h.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWCutoverLoadingMessages",hold:s&&!t})]})}),h.jsxs(d("MAWArmadilloLinkContext.react").MAWArmadilloLinkProvider,{children:[h.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),h.jsxs(c("MWV2MessageScroller.bs"),{fetchMore:x,hasMoreAfter:e,hasMoreBefore:o,lastMessageToCalculateIfThreadIsRead:u.length!==0?u[u.length-1]:void 0,markThreadAsRead:c("useMAWMarkThreadAsRead")(a,g),onScroll:function(){w(!n())},scrollerRefs:j,thread:a,children:[h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),h.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWLoadingMessages",hold:m&&!t}),o?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(c("MWV2ContextBanner.react"),{thread:a}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MAWMessageList",children:h.jsx(c("MAWMessageList_DEPRECATED.react"),{messageElementRefs:p.messageElementRefs.current,messages:u,renderAttachment:d("MAWSecureAttachmentRenderer.react").render,scrollerRefs:j,thread:a})}),e?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.messageSortOrder=m;g.useMessagesUnsorted=n;g.useMessagesWithMaybeCutover=q;g.MAWSecureThreadDetail_DEPRECATED=a}),98);
__d("MAWSecureThreadDetailWrapper.bs",["CometErrorBoundary.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigration","LSIntEnum","MAWMiActLoadExistingThread","MAWMiActOnActThreadReady","MAWSecureThreadDetail_DEPRECATED.bs","MAWThreadCutover","MWFailChatTabOpenQPLEvent","QPLUserFlow","WAHex","cr:1271","cr:1746","cr:1957","cr:1999","cr:4646","emptyFunction","gkx","logMessengerWebFalcoEvent","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=e.useState;e=(e=b("cr:1271"))!=null?e:{};var l=e.sendAndReceive,m=(e=b("cr:4646"))!=null?e:c("emptyFunction");function n(a,b){var e=d("I64").to_int32(a);d("Int64Hooks").useEffectInt64(function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:d("I64").to_string(a)}},instanceKey:e})},[b,e,a]);var f=i(function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:e})},[e]),g=i(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{isCutover:String(a)}},instanceKey:e})},[e]),h=i(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:e})},[e]),j=i(function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{isCutover:String(b)}},instanceKey:e})},[e]);return{addQplAnnotations:h,addQplPoint:f,qplEndFailure:j,qplEndSuccess:g}}function a(a){var e=a.entryPoint,f=a.messageListRef,g=a.thread;a=n(g.threadKey,e);var p=a.addQplAnnotations,q=a.addQplPoint,r=a.qplEndFailure,s=a.qplEndSuccess,t=c("useReStore")(),u=i(function(a,b){return t.runInTransaction(function(e){return c("LSInitiateThreadMigration")(a,b,!1,d("WAHex").randomHex(8),c("LSFactory")(e))},"readwrite")},[t]),v=d("MAWThreadCutover").useGetCutoverMapping(g.threadKey);a=d("MAWThreadCutover").useCutoverOpenThread(g.threadKey);m({thread:g});var w=j(""),x=k("loading"),y=x[0],z=x[1];x=k(0);var A=x[0],B=x[1];d("Int64Hooks").useEffectInt64(function(){if(y==="show"||y==="hide")return;if(v==null){z("not_cutover_thread");s(!1);return}if(l==null){w.current="sendAndReceive_is_null";z("error");return}var a=c("gkx")("9365");a?(z("show"),p({showOpenHistory:"show"}),q("thread_migration_initiating_start"),u(v==null?void 0:v.openThreadId,v==null?void 0:v.armadilloThreadId).then(function(){q("thread_migration_initiating_end"),s(!0)})["catch"](function(a){w.current="fail_to_init_thread_migration",z("error"),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("fail_to_init_thread_migration"),r(a.toString(),!0)})):(q("act_thread_loading_start"),void d("MAWMiActOnActThreadReady").onActThreadReady(t,g.threadKey,"MAWSecureThreadDetailWrapper.bs",function(a,b,e){return l("backend","checkIfShowOpenMessageHistory",{chatId:b,timestampMs:d("I64").to_float(v.timestampMs)}).then(function(a){q("act_thread_loading_end");var b=a?"show":"hide";z(b);p({showOpenHistory:b});return a}).then(function(a){if(a){q("thread_migration_initiating_start");return u(v==null?void 0:v.openThreadId,v==null?void 0:v.armadilloThreadId).then(function(){q("thread_migration_initiating_end"),s(!0)})}else s(!0)})["catch"](function(a){w.current="fail_to_init_thread_migration",z("error"),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("fail_to_init_thread_migration"),r(a.toString(),!0)})},function(){A<3?(void c("MAWMiActLoadExistingThread")(t,g.threadKey),B(function(a){return a+1})):(w.current="chatid_is_null",z("error"))}))},[q,v,t,B,u,y,g.threadKey,A,s,p,r]);var C=a!=null;d("Int64Hooks").useEffectInt64(function(){if(w.current==="")return;if(y!=="hide"){var a;c("logMessengerWebFalcoEvent")({threadKey:g.threadKey,threadType:g.threadType},"no_open_messages_in_cutover_thread",e,{cutoverThreadKey:d("I64").to_string((a=v==null?void 0:v.openThreadId)!=null?a:d("I64").neg_one),hasCutoverOpenThread:C.toString(),reason:w.current,showOpenMsgHistoryState:y})}switch(y){case"loading":break;case"not_cutover_thread":case"hide":case"show":s(!0);case"error":r(w.current,!0);break;default:y;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",y)}},[v,e,y,C,g.threadKey,g.threadType,s,r]);if(!c("gkx")("4710")&&b("cr:1999")!=null&&a!=null&&v!=null&&y==="show"&&d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){w.current="";return h.jsx(o,{message:"Error while loading cutover thread messages",threadKey:g.threadKey,children:b("cr:1746")!=null?h.jsx(b("cr:1746"),{cutoverOpenThread:a,entryPoint:e,messageListRef:f,thread:g}):h.jsx(b("cr:1999"),{cutoverOpenThread:a,entryPoint:e,thread:g})})}x=a!=null&&d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));var D=y==="show"&&(a==null||!x),E="";y==="loading"?E="openMsgHistory":D&&(a==null?E="cutoverOpenThread":x||(E="authorityLevel"));return h.jsx(o,{message:"Error while loading secure thread messages",threadKey:g.threadKey,children:h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWCutoverShowHistoryDetermination-"+E,hold:y==="loading"||D}),b("cr:1957")!=null?h.jsx(b("cr:1957"),{cutoverOpenThread:c("gkx")("4710")&&y==="show"?a:void 0,entryPoint:e,messageListRef:f,thread:g}):h.jsx(d("MAWSecureThreadDetail_DEPRECATED.bs").MAWSecureThreadDetail_DEPRECATED,{cutoverOpenThread:c("gkx")("4710")&&y==="show"?a:void 0,entryPoint:e,thread:g})]})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.children,d=a.message,e=a.threadKey;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){c("MWFailChatTabOpenQPLEvent")(e,a.toString()),c("FBLogger")("messenger_web_product").catching(a).mustfix(d+": %s",a.toString())},children:b})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;d=e;g["default"]=d}),98);/*FB_PKG_DELIM*/
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[1]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUpsertReaction",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[0]=d[18])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp_ms",a[1]),d[2].set("message_id",a[2]),d[2].set("actor_id",a[3]),d[2].set("reaction",a[4]),d[2].set("reaction_style",f),d[2].set("sync_group",d[0]),d[3]=c.createArray(),d[4]=(d[3].push("reaction"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),c.sp(b("LSCancelTaskByQueueName"),d[7],c.i64.cast([0,29]))},function(e){return a[4]===""?c.seq([function(d){return c.sp(b("LSDeleteReaction"),a[0],a[2],a[3])},function(a){return d[8]=f}]):c.seq([function(e){return a[4]==="\u2764\ufe0f"||a[4]==="\u2764\ufe0f"?d[18]="\u2764":d[18]=a[4],c.sp(b("LSUpsertReaction"),a[0],a[1],a[2],a[3],d[18],c.i64.cast([0,20]))},function(a){return d[8]=f}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([0,1]):(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[9]=d[18])})},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("timestamp_ms",a[1]),d[11].set("message_id",a[2]),d[11].set("actor_id",a[3]),d[11].set("reaction",a[4]),d[11].set("reaction_style",f),d[11].set("sync_group",d[9]),d[11].set("send_attribution",a[5]),d[12]=c.createArray(),d[13]=(d[12].push("reaction"),d[12]),d[14]=d[11].get("message_id"),d[11],d[15]=(d[12].push(d[14]),d[12]),d[16]=c.toJSON(d[12]),d[17]=c.toJSON(d[11]),c.sp(b("LSIssueNewTask"),d[16],c.i64.cast([0,29]),d[17],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUpsertReactionV2",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTaskWithExtraOperations","LSUpdateOrInsertReactionV2","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return c.i64.eq(a[8],c.i64.cast([0,2]))?(d[12]=new c.Map(),d[12].set("thread_id",a[1]),d[12].set("message_id",a[2]),d[12].set("message_timestamp",a[3]),d[12].set("actor_id",a[0]),d[12].set("reaction_fbid",a[4]),d[12].set("reaction_style",a[7]),d[12].set("operation",a[8]),d[12].set("viewer_is_reactor",a[6]),d[12].set("current_count",a[5]),d[12].set("reaction_literal",a[9]),d[13]=c.createArray(),d[14]=(d[13].push("reaction_v2"),d[13]),d[15]=d[12].get("message_id"),d[12],d[16]=(d[13].push(d[15]),d[13]),d[17]=c.toJSON(d[13]),c.sp(b("LSCancelTaskByQueueName"),d[17],c.i64.cast([0,604]))):c.resolve()},function(e){return[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?d[0]=c.i64.add(a[5],c.i64.cast([-1,4294967295])):d[0]=c.i64.add(a[5],c.i64.cast([0,1])),[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?d[1]=!1:d[1]=!0,d[2]=c.i64.of_float(Date.now()),c.sp(b("LSUpdateOrInsertReactionV2"),a[1],a[2],a[4],a[9],d[0],c.i64.cast([0,20]),d[1],c.i64.cast([0,0]),d[2])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=f:(b=a.item,d[3]=b.threadType)})},function(e){return c.i64.neq(d[3],c.i64.cast([0,23]))?[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?c.i64.eq(a[8],c.i64.cast([0,2]))?c.sp(b("LSDeleteReaction"),a[1],a[2],a[0]):c.seq([function(b){return c.ftr(c.db.table(8).fetch([[[a[1],a[2],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]&&c.i64.eq(b.actorId,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[12]=f:(b=a.item,d[12]=b.reaction)})},function(e){return a[9]!==f?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[14]="\u2764":d[14]=a[9],d[14]===d[12]?c.sp(b("LSDeleteReaction"),a[1],a[2],a[0]):c.resolve()):c.resolve()}]):a[9]!==f?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[12]="\u2764":d[12]=a[9],d[13]=c.i64.of_float(Date.now()),c.sp(b("LSUpsertReaction"),a[1],a[3],a[2],a[0],d[12],c.i64.cast([0,20]))):c.resolve():c.resolve()},function(e){return d[5]=new c.Map(),d[5].set("thread_id",a[1]),d[5].set("message_id",a[2]),d[5].set("message_timestamp",a[3]),d[5].set("actor_id",a[0]),d[5].set("reaction_fbid",a[4]),d[5].set("reaction_style",a[7]),d[5].set("current_count",a[5]),d[5].set("viewer_is_reactor",a[6]),d[5].set("operation",a[8]),d[5].set("reaction_literal",a[9]),d[5].set("entry_point",f),d[6]=c.createArray(),d[7]=(d[6].push("reaction_v2"),d[6]),d[8]=d[5].get("message_id"),d[5],d[9]=(d[6].push(d[8]),d[6]),d[10]=c.toJSON(d[6]),d[11]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskWithExtraOperations"),d[10],c.i64.cast([0,604]),d[11],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23892077650440585"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4679476245513562"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5146654855396537"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5063442323698780"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4696875653751924"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:a})};function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext"));return i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),o=m,p=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:o,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(o=e)!=null?o:n},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b])}g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("MWXTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("MAWFilePressable.react",["fbt","CometErrorBoundary.react","CometPressable.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFilePressableHooks.bs","MWFileViewerLogger","formatFileSize","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},l=h._("__JHASH__uiTAWyhPCWI__JHASH__");function m(a){return a.filesize==null?null:c("formatFileSize")(d("I64").to_int32(a.filesize))}function n(a){var b=a.children,d=a.linkProps,e=a.onPress;a=a.testid;return i.jsx(c("CometPressable.react"),{display:"inline",linkProps:d,onPress:e,overlayDisabled:!0,testid:void 0,xstyle:k.filePressable,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.attachmentID,c=a.children,e=a.entrypoint,f=a.linkProps,g=a.messageID,h=a.onPress;a=a.testid;a=d("MWFilePressableHooks.bs").useOnPressHandler(g,b,h,e,d("MWFileViewerLogger").generateSessionId());return i.jsx(n,{linkProps:f,onPress:a,testid:void 0,children:c})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.entrypoint,f=a.file,g=a.onPress;a=a.testid;a=((a=f.filename)!=null?a:l).toString();var h=d("MAWAttachmentBlob.react").getAttachmentBlob(f),k=d("MWChatMessageId").makeSent(d("I64").to_string(f.threadKey),f.messageId,d("I64").to_string(f.timestampMs)),p={download:a,target:"_blank",url:h},q=m(f),r=j(function(a,b){c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a.message||"Cannot open file viewer in "+b),c("goUriOnNewWindow")(h)},[h]);return k.type==="sent"?i.jsx(c("CometErrorBoundary.react"),{onError:r,children:i.jsx(o,{attachmentID:f.attachmentFbid,entrypoint:e,linkProps:p,messageID:k.value,onPress:g,testid:void 0,children:b({filename:a,messageID:k,size:q})})}):i.jsx(n,{linkProps:p,onPress:g,testid:void 0,children:b({filename:a,messageID:k,size:q})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:1755987")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("TetraMWChatComposerIcons.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",transitionDuration:"x1k90msu",transitionProperty:"x13hzchw",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;return h.jsx("svg",{className:c("stylex")(i.icon,i.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:h.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return h.jsx("svg",{className:c("stylex")(i.icon,i.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:h.jsxs("g",{fillRule:"evenodd",children:[h.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),h.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),h.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),h.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),h.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return h.jsx("svg",{className:c("stylex")(i.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),h.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),h.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),h.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";function j(a){var b=a.fill,d=a.isRotated;a=a.size;return h.jsx("svg",{className:c("stylex")(i.icon,i.fillGrey,d?i.rotated:i.notRotated),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:h.jsxs("g",{fillRule:"evenodd",children:[h.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0;return h.jsx("svg",{className:c("stylex")(i.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:h.jsx("g",{fill:"none",fillRule:"evenodd",children:h.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:h.jsx("g",{transform:"translate(709.000000, 314.000000)",children:h.jsx("g",{children:h.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}k.displayName=k.name+" [from "+f.id+"]";g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=j;g.Emoji=k}),98);
__d("XMessengerSDKSbxEncryptedBackupsGDriveControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/eb/gdrive/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("EncryptedBackupsSupportedPlatformUtils",["$InternalEnum","ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MWInboxProvider.react","XMessengerSDKSbxEncryptedBackupsGDriveControllerRouteBuilder","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext,i=b("$InternalEnum").Mirrored(["MESSENGER_DOT_COM","FACEBOOK_DOT_COM","FACEBOOK_INBOX","INSTAGRAM_DIRECT_INBOX"]),j=c("gkx")("1968579"),k=c("gkx")("7561"),l=c("gkx")("7597"),m={facebook:"facebook",messenger:"messenger"};function a(a){if(a!=null){return(a=d("ConstUriUtils").getUri(a))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}}function e(a){if(a!=null){var b;return(b=c("XMessengerSDKSbxEncryptedBackupsGDriveControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setDomain(a))==null?void 0:(a=b.setProtocol("https"))==null?void 0:a.toString()}return null}function f(a){if(a==null)return null;var b=Object.values(m).includes(a);return!b?null:"https://www."+a+".com"}function n(){var a=h(d("MWInboxProvider.react").MWInboxProviderContext);if(j)return m.messenger;return k||a!=null?m.facebook:null}function o(){var a=h(d("MWInboxProvider.react").MWInboxProviderContext);if(l)return i.INSTAGRAM_DIRECT_INBOX;if(j)return i.MESSENGER_DOT_COM;k||c("FBLogger")("labyrinth_web").info("Unknown supported platform type. Falling back to facebook.com as Supported Platform type.");return a!=null?i.FACEBOOK_INBOX:i.FACEBOOK_DOT_COM}g.EncryptedBackupsSupportedPlatform=i;g.getFbsbxOrigin=a;g.getFbsbxUri=e;g.getSupportedGdrivePlatform=f;g.useMWEncryptedBackupsGetSupportedGdriveDomain=n;g.useMWEncryptedBackupsGetCurrentSupportedPlatform=o}),98);
__d("useEncryptedBackupsProcessState",["gkx","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIds.bs").__setRef("useEncryptedBackupsProcessState");function a(a){var b=a.encryptedBackupData,d=a.storage;a=i(1);var e=a[0],f=a[1];h(function(){c("gkx")("7110")&&b!=null?j.onReady(function(a){c("promiseDone")(a.processBackupIdsStoredProcedure(d),function(a){switch(a){case 1:break;case 2:f(2);break;case 3:f(3);break;case 4:f(4);break;case-1:f(-1);break;case 0:break}})}):f(0)},[b,d]);return{backupState:e,hasUserOptedOut:(a=b==null?void 0:b.isUserOptedOut)!=null?a:!1}}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellUtils",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("7553")===!0}function i(){return c("qex")._("1371")===!0}function j(){return c("qex")._("1371")===!0}function a(){return h()||i()||j()}g.shouldDisplayTLCUpsells=i;g.shouldDisplayAnyTLCUpsells=a}),98);
__d("WorkXMAContentContext",["react"],(function(a,b,c,d,e,f,g){"use strict";c=d("react");e=c.createContext;var h=c.useContext,i=e();function a(){return i.Provider}function b(){return h(i)}g.getProvider=a;g.useWorkXMAContentContext=b}),98);
__d("MWChatPollFacepile.react",["fbt","ix","CometImage.react","CometPressable.react","CometTintedIcon.react","JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.bs","MWXTooltip.react","MWXTooltipGroup.react","WorkXMAContentContext","fbicon","intlList","intlSummarizeNumber","justknobx","react","stylex","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext,l={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"x10w6t97",width:"x1td3qas",$$css:!0},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},contactSmall:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},contactWithBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginTop:"x1y332i5",$$css:!0},overflow:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxSizing:"x9f619",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",height:"x1qx5ct2",lineHeight:"x1u7k74",marginBottom:"x4ii5y1",marginStart:"xrzrlj5",marginTop:"xr1yuqi",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1120s5i",paddingStart:"xurb0ha",$$css:!0},overflowOverlay:{alignItems:"x6s0dn4",backgroundColor:"xdit8p8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",opacity:"x1us6l5c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{display:"x78zum5",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function m(a){var b=a.children;a=a.tooltip;return a!=null?j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:b}):b}function a(a){var b=a.contacts,e=a.contactWithBorder,f=e===void 0?!0:e;e=a.countOverride;var g=a.direction;g=g===void 0?"normal":g;var n=a.gap,o=n===void 0?"normal":n;n=a.limit;var p=n===void 0?2:n;n=a.onPress;var q=a.optionId,r=a.overflowStyle,s=r===void 0?"showTotalCount":r,t=a.size;r=c("useMWXLazyDialog")(c("JSResourceForInteraction")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.react"));var u=r[0],v=b.length>p;a=e!=null?e:b.length;r=b.slice(0,-p|0).reverse().filter(function(a){return a.name!=null}).map(function(a){a=a.name;if(a!=null)return a;else return""});e=r.length===0?void 0:j.jsx("ul",{children:r.map(function(a,b){return j.jsx("li",{children:a},String(b))})});r=b.slice(-(v?p:1e3)|0).reverse();r=r.map(function(a){return(a=a.name)!=null?a:""});r=b.length>0?h._("__JHASH__txKVTNOBaVY__JHASH__",[h._plural(a,"number"),h._plural(a),h._param("=names",c("intlList")(r))]):h._("__JHASH__S_P0VuqDnbo__JHASH__");e=j.jsxs(c("MWXTooltipGroup.react"),{children:[v&&s==="showTotalCount"&&j.jsx(m,{tooltip:e,children:j.jsx("div",{className:"x1vtvx1t x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 xi81zsa x1nxh6w3 xk50ysn x1qx5ct2 x1u7k74 x4ii5y1 xrzrlj5 xr1yuqi x1nn3v0j x1sxyh0 x1120s5i xurb0ha",children:"+"+c("intlSummarizeNumber")(a-2|0)})}),b.slice(-(v?p:1e3)|0).reverse().map(function(a,b){return j.jsxs("div",{className:c("stylex")(l.photoWrap,o==="normal"?l.contactGapNormal:l.contactGapNegative,t==="medium"?l.contactMedium:t==="small"?l.contactSmall:l.contactLarge),children:[j.jsx(m,{tooltip:a.name,children:j.jsx(c("CometImage.react"),{src:a.profile_picture_url,xstyle:[l.contact,t==="medium"?l.contactMedium:t==="small"?l.contactSmall:l.contactLarge,f?l.contactWithBorder:!1]})}),v&&s==="overlayLastPhoto"&&b===(p-1|0)?j.jsx("div",{className:"x6s0dn4 xdit8p8 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ey2m1c x78zum5 xds687c xl56j7k x1us6l5c x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometTintedIcon.react"),{color:"white",icon:d("fbicon")._(i("484386"),16)})}):null]},String(b))})]});var w=d("WorkXMAContentContext").useWorkXMAContentContext();a=k(d("MWV2MessageRowIsRowFocusedContext.bs").context);var x=a.setIsDialogOpened,y=a.setFocused;return q!=null&&w!=null?j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__wyyTJ9i_gta__JHASH__").toString(),onPress:function(){x(function(){return!0});return u({optionId:q,pollId:w},function(){x(function(){return!1});return y(function(){return!0})})},overlayDisabled:!0,xstyle:[l.root,g==="reversed"?l.rootReversed:!1],children:e}):n&&c("justknobx")._("1367")?j.jsx(c("CometPressable.react"),{label:r,onPress:n,overlayDisabled:!0,xstyle:[l.root,g==="reversed"?l.rootReversed:!1],children:e}):j.jsx("div",{className:c("stylex")(l.root,g==="reversed"?l.rootReversed:!1),children:e})}g["default"]=a}),98);
__d("MDSThreadSVGIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fill;b=b===void 0?"#000":b;var d=a.viewBox;d=d===void 0?"-8 -8 34 34":d;a=babelHelpers.objectWithoutPropertiesLoose(a,["fill","viewBox"]);return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{viewBox:d,children:h.jsx("path",{clipRule:"evenodd",d:"M19.167 9.583c-.001 5.086-3.84 8.81-9.167 8.81-.888 0-1.734-.08-2.527-.274a3.55 3.55 0 0 0-1.991.075l-3.057.938c-.493.169-.97-.31-.804-.821l.607-2.009a2.506 2.506 0 0 0-.242-2.083C1.178 12.9.834 11.326.833 9.583v-.001C.834 4.496 4.673.833 10 .833c5.328 0 9.166 3.663 9.167 8.749v.001Zm-13.75-1.25c0-.46.373-.833.833-.833h7.5a.833.833 0 1 1 0 1.667h-7.5a.833.833 0 0 1-.833-.834Zm.833 2.5a.833.833 0 1 0 0 1.667h5a.833.833 0 1 0 0-1.667h-5Z",fill:b,fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMCreateSubthreadRowActionButon.react",["fbt","CometPressable.react","I64","Int64Hooks","LsFalcoEventEntryPoint.bs","MDSThreadSVGIcon.react","MWXTooltip.react","react","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadRowActionButon.react"),k=h._("__JHASH__BJS3T2_tOPf__JHASH__"),l=h._("__JHASH__ZHBRqixJ9Qy__JHASH__");function a(a){var b=a.message;a=c("useMWCMCreateSubthread")(b);var e=a[0];a=a[1];var f=c("useOpenSubthreadView")(),g=b.subthreadKey,h=d("Int64Hooks").useCallbackInt64(function(){j.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadRowActionButton",type:g!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint.bs").messageActions,id:b.messageId,recipient_id:void 0},thread:{group_size:d("I64").to_string(d("I64").zero),id:d("I64").to_string(b.threadKey),type:18}}})}),g!=null?f(g):e()},[b.messageId,b.threadKey,e,f,g]);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g!=null?l:k,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx(c("CometPressable.react"),{"aria-label":g!=null?l:k,disabled:a,expanding:!0,onPress:h,overlayDisabled:!0,children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSThreadSVGIcon.react"),{fill:"var(--placeholder-icon)",viewBox:"-6 -6 34 34"})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWOptimisticCreateOrDeleteReaction",["I64","LSAuthorityLevel","MAWTimeUtils","QPLUserFlow","ReQL","WATimeUtils","asyncToGeneratorRuntime","err","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){return h(function(a,e,f,g,h,i){return h.runInTransaction(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{if(f==null){var h=(yield b.table("reactions").get(d("ReQL").key(a,e,i)));yield b.table("reactions")["delete"](d("ReQL").key(a,e,i));return h}else{yield b.table("reactions").upsert(d("ReQL").key(a,e,i),{actorId:i,authorityLevel:d("I64").of_int32(c("LSAuthorityLevel").OPTIMISTIC),messageId:e,reaction:(h=f)!=null?h:"",threadKey:a,timestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime())})}}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(1056843664,"1465"),"fail_create_optimistic_reaction",{instanceKey:g});throw c("err")("Failed to send or unsend optimistic reaction: "+a+" ")}finally{c("QPLUserFlow").addPoint(c("qpl")._(1056843664,"1465"),"create_optimistic_reaction_end",{instanceKey:g})}});return function(a){return h.apply(this,arguments)}}(),"readwrite")},[])}g["default"]=a}),98);
__d("MAWSendOrRemoveReaction.react",["FBLogger","I64","Int64Hooks","LSAuthorityLevel","MAWBridgeSendAndReceive","MAWBridgeUIEventQPLLogger","MAWDbMsg","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWOptimisticCreateOrDeleteReaction","MAWTimedJob","MWPActor.react","QPLUserFlow","ReQL","WAJobOrchestratorTypes","err","promiseDone","qpl","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MAWBridgeUIEventQPLLogger").getInstanceKey(),f=d("MWPActor.react").useActor(),g=c("useReStore")(),i=c("MAWOptimisticCreateOrDeleteReaction")(),j=c("useMWLSDefaultThreadSource")();return d("Int64Hooks").useCallbackInt64(function(k,l){var m=d("MAWDbMsg").toMsgId(k);if(b==null||m==null)return;c("QPLUserFlow").start(c("qpl")._(1056843664,"1465"),{instanceKey:e});c("QPLUserFlow").addPoint(c("qpl")._(1056843664,"1465"),"create_optimistic_reaction_start",{instanceKey:e});var n=j(a),o=i(a,m,l,e,g,f);c("promiseDone")(o);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g,a,"MAWSendOrRemoveReaction.react",function(i,j,k){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:m}).then(function(a){if(a!=null)return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.sendReactionMsg(k,a,b,l,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},n))}).then(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056843664,"1465"),{instanceKey:e})})["catch"](function(b){c("promiseDone")(h(g,a,m,l,f,o));c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("Failed to send or unsend optimistic reaction: %s.",b);c("QPLUserFlow").endFailure(c("qpl")._(1056843664,"1465"),"failure",{instanceKey:e});throw c("err")("Failed to send or unsend optimistic reaction: "+b+" ")})}))},[b,e,j,a,i,g,f])}function h(a,b,e,f,g,h){return a.runInTransaction(function(i){if(f==null)return h.then(function(a){if(a==null)throw c("err")("User tries to remove a reaction that does not exist in LSDB. ");c("promiseDone")(i.table("reactions").upsert(d("ReQL").key(a.threadKey,a.messageId,a.actorId),babelHelpers["extends"]({},a)))});var j=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("reactions")).getKeyRange(b,e,g).filter(function(a){return d("I64").equal(a.authorityLevel,d("I64").of_int32(c("LSAuthorityLevel").OPTIMISTIC))}));return j.then(function(a){if(a==null)return;return i.table("reactions")["delete"](d("ReQL").key(a.threadKey,a.messageId,a.actorId))})},"readwrite")}g.useSendOrRemoveReaction=a}),98);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};g.styles=a}),98);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",borderTopStyle:"x143s1ad",borderEndStyle:"xp3zfi1",borderBottomStyle:"x137oirg",borderStartStyle:"xojro6o",boxShadow:"x1vnslfi",boxSizing:"x9f619",cursor:"x1ypdohk",fontFamily:"xjb2p0i",fontWeight:"xk50ysn",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingBottom:"x1a8lsjc",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"x889kno",textAlign:"x1yc453h",wordBreak:"x13faqbe",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=a.bodyLineLimit;b=b===void 0?1:b;var d=a.imageUrl,e=a.onClick,f=a.quickReplyVertical;f=f===void 0?!1:f;a=a.text;var g=c("gkx")("7695");return h.jsx("div",{className:c("stylex")(f?i.vertical:!1),children:h.jsxs("button",{className:"x6s0dn4 xcrg951 xfh8nwu xoqspk4 x12v9rci x138vmkv x143s1ad xp3zfi1 x137oirg xojro6o x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe",onClick:e,children:[d!=null?h.jsx(c("CometImage.react"),{src:d,xstyle:i.image}):null,h.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:g?"blueLink":"primary",bodyLineLimit:b,level:3})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(){return b(d)},g=d.image_url;return h.jsx(c("MWChatBusinessQuickReply.react"),{bodyLineLimit:e,imageUrl:(e=g)!=null?e:void 0,onClick:f,quickReplyVertical:a,text:d.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c!=null&&d!=null&&a!=null&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.react","MWChatUserBirthdayQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserEmailQuery").useUserEmailDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(m)},[a,g,m]);return l==null?null:h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:function(){return b({content_type:e.content_type,data:e.data,image_url:e.image_url,payload:e.payload,title:l})},quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.react",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),k=j(function(){}),l=k[0],m=k[1];i(function(){g(function(a){return m(function(){return a})})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:(a=a.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.address;a=a==null?void 0:a.postal_code;a!=null&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.react","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MessengerWebEventsFalcoEvent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},pillContainer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"xozqiw3",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1a8lsjc",paddingStart:"xurb0ha",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a){var b=a.arrayQR,e=a.id,f=a.onSend;a=a.quickReplyType;a=a!=null?a:d("LSIntEnum").ofNumber(c("LSQuickReplyType").NONE);var g=d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSQuickReplyType").VERTICAL));i(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:e}})},[e]);return h.jsx("div",{className:"x1n2onr6 xh8yej3 xcrg951",children:h.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:h.jsx("div",{className:c("stylex")(g?j.pillContainerVertical:j.pillContainer),children:b.map(function(a,b){var d=c("CurrentUser").getID(),e=a.content_type;switch(e){case"text":return h.jsx(c("MWChatBusinessQuickReplyText.bs"),{onSend:f,quickReply:a,quickReplyVertical:g},String(b));case"user_birthday":return h.jsx(c("MWChatBusinessQuickReplyUserBirthday.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_email":return h.jsx(c("MWChatBusinessQuickReplyUserEmail.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_phone_number":return h.jsx(c("MWChatBusinessQuickReplyUserPhoneNumber.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_state":return h.jsx(c("MWChatBusinessQuickReplyUserState.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_zip_code":return h.jsx(c("MWChatBusinessQuickReplyUserZipCode.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));default:return null}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPQuickReplies.bs",["FBLogger","I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWChatBusinessQuickReplyList.bs","MWPActor.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useLSMessagingSource","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var e=a.lastMessageId,g=a.quickReplyType,i=a.threadKey,j=c("useLSMessagingSource")(),k=c("useReStore")(),l=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.table("quick_reply_ctas")).getKeyRange(i,e).map(function(a){var b=a.type_;b=b==="quick_reply_text"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":(c("FBLogger")("messenger_web_product").mustfix("Unexpected quick-reply type: %s, title: %s",b,a.title),"");return{content_type:b,data:void 0,image_url:a.imageUrl,payload:a.platformToken,title:a.title}}).filter(function(a){return a.content_type!==""})},[k,e,i],f.id+":54");if(a.length>0)return h.jsx(c("MWChatBusinessQuickReplyList.bs"),{arrayQR:a,id:d("I64").to_string(l),onSend:function(a){var e=d("LSThreadAttributionTypeUtil.bs").getSource(i,j),f=k.runInTransaction(function(f){var g;g=(g=a.payload)!=null?g:void 0;return c("LSOptimisticSendMessage")(l,i,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,g,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,void 0,c("LSFactory")(f)).then(function(a){return b("Promise").resolve(a)})},"readwrite");c("promiseDone")(f)},quickReplyType:g});else return null}function a(a){var b=a.threadKey,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(e.table("messages")).getKeyRange(b)},[e,b],f.id+":144");if(a!=null)return h.jsx(i,{lastMessageId:a.messageId,quickReplyType:a.quickReplyType,threadKey:b});else return null}e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("MWV2ComposerStickerCommon",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__430IPCMJAf3__JHASH__");b=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK"];g.LABEL=a;g.TABLIST_FOR_SECURE_THREADS=b}),98);
__d("useMWV2ComposerOnFilesSelected",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){return h(function(b){b=Array.from(b);if(b.length>0)return a(b)},[a])}g["default"]=a}),98);
__d("useMWV2ComposerOnGifSelect",["I64","LSShape","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b,c){return d("LSShape").ofRecord({preview_height:b,preview_url:a,preview_width:c})}function a(a){return h(function(b){var c=b.platformFBID;b=b.source;var e=b.height,f=b.url;b=b.width;c=d("I64").of_string(c);f=f;return a(void 0,void 0,void 0,void 0,c,f,i(f,d("I64").of_int32(e),d("I64").of_int32(b)),void 0,void 0,void 0)},[a])}g["default"]=a}),98);
__d("useMWV2ComposerOnStickerSelect",["I64","LSShape","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=d("I64").of_string("128");function j(a){return d("LSShape").ofRecord({preview_height:i,preview_url:a,preview_width:i})}function a(a,b){return h(function(e,f){var g;g=(g=f.animated_uri)!=null?g:f.uri;f=d("I64").of_string(e);if(b)return a(void 0,void 0,f,void 0,void 0,c("nullthrows")(g),void 0,void 0,void 0,void 0);else return a(void 0,void 0,f,void 0,void 0,void 0,j(g),void 0,void 0,void 0)},[a,b])}g["default"]=a}),98);
__d("useIsReactionsV2Enabled",["LSIntEnum","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return h(a)}))!=null?a:!1}function h(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a)}g.useIsReactionsV2Enabled=a;g.isReactionsV2Enabled=h}),98);
__d("MAWGetAttachmentThumbnailBlob",["LSSuspense","MAWBridgeSendAndReceive","MAWDbMedia","Promise","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){if(a==null||a.hasMedia===!1)return"";var e=h.get(a.attachmentFbid);if(e!=null)return e.TAG==="loading"?c("LSSuspense").throwErrorOrPromise(e.urlPromise):e.url;e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a.attachmentFbid,10))}).then(function(d){h.set(a.attachmentFbid,{TAG:"done",url:c("nullthrows")(d)});return b("Promise").resolve()})["catch"](function(d){h.set(a.attachmentFbid,{TAG:"done",url:""});c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId","messenger_e2ee_web",{error:d});return b("Promise").resolve()});h.set(a.attachmentFbid,{TAG:"loading",urlPromise:e});return c("LSSuspense").throwErrorOrPromise(e)}g["default"]=a}),98);
__d("MWV2SeenHead.bs",["GenderConst","I64","LSIntEnum","MWMessageDeliveryStatus","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,e=a[1];a=a[0];return{gender:c("GenderConst").NOT_A_PERSON,id:d("I64").to_string(e.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(e),name:(b=a.nickname)!=null?b:e.name,timestamp:d("I64").to_float(a.readActionTimestampMs)}}function a(a,b){var c={contents:d("I64").zero};a.forEach(function(a,e,f){e=a[0];if(!d("I64").equal(e.contactId,b)&&d("I64").gt(e.deliveredWatermarkTimestampMs,c.contents)){c.contents=e.deliveredWatermarkTimestampMs;return}});return c.contents}function b(a){return new Set([d("I64").to_string(a)])}function e(a,b,c,e,f,g){var i=[];b.forEach(function(b,e,f){if(c.has(e)||a.isAdminMessage)return;if(!d("I64").equal(a.sendStatusV2,d("LSIntEnum").ofNumber(2)))return;f=b[0];var j=d("I64").equal(a.senderId,f.contactId);f=d("I64").le(a.timestampMs,f.readWatermarkTimestampMs);if(j||f){i.push(h(b));if(!g){c.add(e);return}else return}});var j=i.length===0&&c.size===1;if(i.length<=0)if(d("I64").equal(a.senderId,f))return d("MWMessageDeliveryStatus").getDeliveryStatusForMessageSentByYou(a,e,j);else return{type:"NoneStatus"};if(!g)if(i.length>1)return{heads:i,type:"MultipleSeenHeads"};else return{head:i[0],type:"SingleSeenHead"};f=i.length===(b.size-1|0);return{delivered:f,heads:i,type:"DeliveredAndRead"}}g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("useMWCMPollsV2Enabled",["LSIntEnum","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(159),a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("FBLikeSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useId;function a(a){var b=a.alt,c=a.className,d=a.color;a=a.size;a=a===void 0?20:a;var e=b!=null,f=i();return h.jsxs("svg",{"aria-hidden":e?void 0:!0,"aria-labelledby":e?f:void 0,className:c,height:a,viewBox:"0 0 16 16",width:a,children:[e&&h.jsx("title",{id:f,children:b}),h.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:d}),h.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1798")}),98);
__d("MWPOneToOneThreadBlockedContext.react",["I64","Int64Hooks","LSContactBlockedByViewerStatus","LSIntEnum","MWV2OneToOneThreadBlockedContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.participants,f=a.thread;a=d("Int64Hooks").useMemoInt64(function(){if(!(d("I64").equal(f.threadType,d("LSIntEnum").ofNumber(1))||d("I64").equal(f.threadType,d("LSIntEnum").ofNumber(15))))return!1;var a={contents:!1};e.forEach(function(b,e,f){if(!d("I64").equal(b[1].blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))){a.contents=!0;return}});return a.contents},[f.threadType,e]);return h.jsx(d("MWV2OneToOneThreadBlockedContext.react").MWV2OneToOneThreadBlockedContext,{blocked:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageList_DEPRECATED.bs",["BaseHeadingContextWrapper.react","LSMessagingThreadTypeUtil","MWPActor.react","MWPMessageAuthor.react","MWPOneToOneThreadBlockedContext.react","MWV2SeenHead.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messages,f=a.participants,g=a.renderRow;a=a.thread;var i=d("MWPActor.react").useActor(),j=d("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(f,i),k=d("MWV2SeenHead.bs").makeExistingSeenHeads(i),l=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil").isSecure(a.threadType),m=[];for(var n=e.length-1|0;n>=0;--n){var o=n===0?void 0:e[n-1|0],p=n>=(e.length-1|0)?void 0:e[n+1|0],q=e[n],r=d("MWV2SeenHead.bs").deliveryStatusForMessage(q,f,k,j,i,l);m.push(h.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:q.senderId,threadKey:q.threadKey,children:g({message:q,nextMessage:p,prevMessage:o,status:r})},q.messageId))}if(m.length===0)return null;else return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsx("div",{className:"x1ja2u2z",children:h.jsx(c("MWPOneToOneThreadBlockedContext.react"),{participants:f,thread:a,children:b(m.reverse())})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageReactionOperation",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD:1,REMOVE:2,REMOVE_MULTI_REACT:3});f["default"]=a}),66);
__d("MessageReactionStyle",[],(function(a,b,c,d,e,f){a=Object.freeze({BASIC_SUPER_REACT_ANIMATION:1});f["default"]=a}),66);
__d("useMWPSendOrUnsendReaction",["FBLogger","I64","Int64Hooks","LSFactory","LSIntEnum","LSOptimisticUpsertReaction","LSOptimisticUpsertReactionV2","MWPActor.react","MessageReactionOperation","MessageReactionStyle","ReQL","asyncToGeneratorRuntime","promiseDone","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g,h){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,e.threadKey,e.messageId,e.timestampMs,f,g,!0,d("LSIntEnum").ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),d("LSIntEnum").ofNumber(c("MessageReactionOperation").ADD),h,c("LSFactory")(a))},"readwrite"))}function i(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i){yield a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,e.threadKey,e.messageId,e.timestampMs,g,f,!1,d("LSIntEnum").ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),d("LSIntEnum").ofNumber(i?c("MessageReactionOperation").REMOVE_MULTI_REACT:c("MessageReactionOperation").REMOVE),h,c("LSFactory")(a))},"readwrite")});return j.apply(this,arguments)}function k(a,b,e,f,g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("reactions_v2")).getKeyRange(e.threadKey,e.messageId,f)).then(function(c){c!=null?h(a,b,e,f,c.count,g):h(a,b,e,f,d("I64").zero,g)}))}function a(a){var e=c("useReStore")(),f=d("MWPActor.react").useActor(),g=c("useMWLSDefaultThreadSource")(),h=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a.threadKey);return d("Int64Hooks").useCallbackInt64(function(j){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a.threadKey)));b=b?d("useIsReactionsV2Enabled").isReactionsV2Enabled(b):!1;if(b){var l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("reaction_v2_types")).filter(function(a){return a.reactionLiteral===j||a.reactionLiteralVariant16===j})));if(l!=null){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return(!h||d("I64").equal(a.reactionFbid,l.reactionFbid))&&a.viewerIsReactor})));if(b==null)return k(e,f,a,l.reactionFbid,j);var m=d("I64").equal(b.reactionFbid,l.reactionFbid);(!h||m)&&(yield i(e,f,a,b.count,b.reactionFbid,j,h));m||(yield k(e,f,a,l.reactionFbid,j))}else c("FBLogger")("messenger_web_product").warn("Reactions v2: trying to send reaction that is not in reaction_v2_types table");return}return e.runInTransaction(function(b){return c("LSOptimisticUpsertReaction")(a.threadKey,d("I64").of_float(Date.now()),a.messageId,f,j,g(a.threadKey),c("LSFactory")(b))},"readwrite")})())},[e,a,f,h])}g["default"]=a}),98);
__d("MAWPSendOrRemoveReaction.react",["I64","Int64Hooks","MWPActor.react","cr:3461","promiseDone","requireDeferred","useMWPSendOrUnsendReaction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogMessageAction").__setRef("MAWPSendOrRemoveReaction.react");function a(a,e,f){var g,i=c("useReStore")(),j=d("MWPActor.react").useActor(),k=(g=b("cr:3461")==null?void 0:b("cr:3461").useSendOrRemoveReaction(a.threadKey,d("I64").to_string(a.senderId)))!=null?g:null,l=c("useMWPSendOrUnsendReaction")(a);return d("Int64Hooks").useMemoInt64(function(){return function(b,d,g){if(e&&k!==null)k(b,d);else{l((b=d)!=null?b:"")}h.onReady(function(b){return c("promiseDone")(b.log(i,a.messageId,a.threadKey,f,g,void 0,void 0,void 0,a.senderId,void 0,j))})}},[e,k,l,i,a.messageId,a.threadKey,a.senderId,f,j])}g.useSendOrRemoveReaction=a}),98);
__d("MWPThreadThemeProvider.react",["I64","Int64Hooks","LSIntEnum","MWPThreadThemeContext","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","cr:6797","defaultMWPThreadTheme","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useMemo,j=e.useState;function k(a,e){var g=c("useReStore")(),h=c("useCurrentDisplayMode")(),j=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("thread_themes")).getKeyRange(a)},[g,a],f.id+":40"),k=b("cr:6797")==null?void 0:b("cr:6797")(g,a),l=h==="dark"&&k!=null?k:j,m=d("ReQLSuspense").useArray(function(){return(l==null?void 0:l.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("gradient_colors")).getKeyRange(l==null?void 0:l.fbid)},[g,l==null?void 0:l.fbid],f.id+":54");return i(function(){return l!=null?{incomingGradientColors:m.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:m.filter(function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:l}:e},[l,m,e])}var l={incomingGradientColors:[],outgoingGradientColors:[],threadTheme:c("defaultMWPThreadTheme")};function a(a){var b=a.children,e=a.themeFbid;a=a.defaultTheme;a=a===void 0?l:a;var f=j(),g=f[0],i=f[1];f=d("Int64Hooks").useMemoInt64(function(){var a;return(a=g)!=null?a:e},[e,g]);var m=k(f,a);f=d("Int64Hooks").useMemoInt64(function(){return{incomingGradientColors:m.incomingGradientColors,outgoingGradientColors:m.outgoingGradientColors,previewId:g,setPreviewId:i,threadTheme:m.threadTheme}},[m,g]);return h.jsx(c("MWPThreadThemeContext").Provider,{value:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(c("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return i();else return a}g.defaultColor=i;g.customColorOrBlue=a}),98);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.color;a=j(a);if(c("MessengerEnvironment").messengerui&&!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))return i.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return i.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}function b(a){a=a.thread;var b=i.useState(function(){return c("uniqueID")()});b=b[0];var e=j("black");return i.jsxs(i.Fragment,{children:[i.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[i.jsxs("mask",{id:b,children:[i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),i.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+b+")",fill:"white"})]}),i.jsx("div",{style:babelHelpers["extends"]({},d("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,d("MessengerCustomColorUtils.bs").defaultColor()),{backgroundAttachment:"fixed",height:"95%",margin:"auto",width:"95%"})})]})}b.displayName=b.name+" [from "+f.id+"]";e=a;h=b;g.pathHotLike=j;g.make=e;g.makeWithGradient=h}),98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=j._("__JHASH__fqLNX_G5Htn__JHASH__");function a(a){var b=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return k.jsx("div",{className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j"),"data-testid":void 0,children:k.jsx(c("MWLikeSvgIcon.react"),{alt:l,color:d,size:"100%"})})}a.displayName=a.name+" [from "+f.id+"]";b="transparent";g.MessengerHotLikeSVGReact=a;g.cTRANSPARENT=b}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("StickerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});f["default"]=a}),66);
__d("Sticker.react",["cx","fbt","Arbiter","ConstUriUtils","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","isWorkplaceDotComURI","joinClasses","lazyLoadComponent","nullthrows","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("StickerPopoverImage.react").__setRef("Sticker.react")),m=c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react")),n=83;a=5e3;var o=10,p={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===p.LOAD_AND_HOVER||this.props.animationTrigger===p.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-o<=b&&d+o>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===p.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:n;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===p.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===p.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("__JHASH__XuqBXexse6H__JHASH__",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===p.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===p.HOVER||this.props.animationTrigger===p.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:this.props.customColor}));f=j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g});e=d("ConstUriUtils").getUri(window.location.href);return this.props.enablePopoverIfPassesGK&&(e!=null?c("isWorkplaceDotComURI")(e):!1)&&c("gkx")("4316")?j.jsx(m,{content:j.jsx(k,{fallback:"Loading...",children:j.jsx(l,{stickerID:c("nullthrows")(this.props.stickerID)})}),heading:"",isSticky:!1,children:f}):f};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:n,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1891340");b=d("FalcoLoggerInternal").create("message_send_click",a);e=b;g["default"]=e}),98);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p2p/verify/dialog/",Object.freeze({is_sender_flow:!1}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MAWUIThreadCache",["MAWBridgeSendAndReceive","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.threadId;if(h.has(a))return b("Promise").resolve(h.get(a));var c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadJidByChatId",{threadId:a}));c!=null&&h.set(a,c);return c});return i.apply(this,arguments)}g.getThreadJidByChatId=a}),98);
__d("useMWPIsMessagePinned",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useDeferredValue;function a(a){var b=c("useReStore")();return h(!!d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("msg_pinned_messages_v2")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a],f.id+":27"))}g["default"]=a}),98);
__d("MWFalcoFeatureEventLogger",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){c("gkx")("1471")&&c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:a,event_name:b,is_secured:d("LSMessagingThreadTypeUtil").isSecure(g),other_user_fbid:e!=null?d("I64").to_string(e):null,thread_fbid:d("I64").to_string(f)}})}g.logEvent=a}),98);
__d("getMWOtherUserFBID",["I64","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("LSMessagingThreadTypeUtil").isOneToOne(e);if(!f)return null;f=d("LSMessagingThreadTypeUtil").isSecure(e);if(!f)return c;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c).filter(function(a){a=a.contactId;return!d("I64").equal(a,b)}).take(1)));return e==null?void 0:e.contactId});return h.apply(this,arguments)}g.getMWOtherUserFBID=a}),98);
__d("useMWFalcoFeatureEventLogger",["MWFalcoFeatureEventLogger","MWPActor.react","getMWOtherUserFBID","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=c("useReStore")(),f=d("MWPActor.react").useActor();return h(function(c,g){d("getMWOtherUserFBID").getMWOtherUserFBID(e,f,a,b).then(function(e){d("MWFalcoFeatureEventLogger").logEvent(c,g,e,a,b)})["catch"](function(){})},[e,f,a,b])}g["default"]=a}),98);
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){"use strict";a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};c=a;f["default"]=c}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f,g){var h=null;function i(){if(c("ExecutionEnvironment").canUseDOM){h||(h=document.createElement("div"));return h}return null}b=function(a){return c("memoize")(function(){var b=i();return!b?!1:a(b)})};e=b(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)});f=b(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style});var j=b(function(a){return"scrollBehavior"in a.style});b=b(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"});var k=c("memoize")(function(){return!(d("UserAgent_DEPRECATED").webkit()&&!d("UserAgent_DEPRECATED").chrome()&&d("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),l=c("memoize")(function(){return!!a.blob}),m=c("memoize")(function(){return c("ExecutionEnvironment").canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),n=c("memoize")(function(){return!!window.MutationObserver}),o=c("memoize")(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},b=c("getVendorPrefixedName")("transition");return a[b]||null}),p=function(){return!!window.CanvasRenderingContext2D};g.hasCSSAnimations=c("BrowserSupportCore").hasCSSAnimations;g.hasCSSTransforms=c("BrowserSupportCore").hasCSSTransforms;g.hasCSS3DTransforms=c("BrowserSupportCore").hasCSS3DTransforms;g.hasCSSTransitions=c("BrowserSupportCore").hasCSSTransitions;g.hasPositionSticky=e;g.hasScrollSnapPoints=f;g.hasScrollBehavior=j;g.hasPointerEvents=b;g.hasFileAPI=k;g.hasBlobFactory=l;g.hasSVGForeignObject=m;g.hasMutationObserver=n;g.getTransitionEndEvent=o;g.hasCanvasRenderingContext2D=p}),98);
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","FBLogger","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f,g){var h="FileList"in window,i="FormData"in window;function j(a){var b={};c("PHPQuerySerializer").serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=c("URI").decodeComponent(a[1]),e=a[2]!==void 0;e=e?c("URI").decodeComponent(a[2]):null;b[d]=e}});return b}var k={getInputs:function(a){a===void 0&&(a=document);return[].concat(d("DOMQuery").scry(a,"input"),d("DOMQuery").scry(a,"select"),d("DOMQuery").scry(a,"textarea"),d("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};k.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=c===void 0?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value===b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName==="FORM"&&a.elements!==a?Array.from(a.elements):k.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,b){k.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=c("DataStore").get(a,"origDisabledState");b?(d===void 0&&c("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=b):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,b,c){k.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var b=0,e=a.options.length;b<e;b++){var f=a.options[b];f.selected&&c("select",a.name,f.value)}return}if(a.type==="file"){if(h){f=a.files;for(b=0;b<f.length;b++)c("file",a.name,f.item(b))}return}c(a.type,a.name,d("Input").getValue(a))}),b&&b.name&&b.type==="submit"&&d("DOMQuery").contains(a,b)&&d("DOMQuery").isNodeOfType(b,["input","button"])&&c("submit",b.name,b.value)},createFormData:function(a,b){if(!i)return null;var d=new FormData();if(a)if(c("isNode")(a))k.forEachValue(a,b,function(a,b,c){d.append(b,c)});else{b=j(a);for(a in b)b[a]==null?d.append(a,""):d.append(a,b[a])}return d},serialize:function(a,b){var c={};k.forEachValue(a,b,function(a,b,d){if(a==="file")return;k._serializeHelper(c,b,d)});return k._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:k._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=k._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,b,e,f){f===void 0&&(f=!0);a=new(c("URI"))(a);var g=document.createElement("form");g.action=a.toString();g.method="POST";g.style.display="none";var h=!c("isFacebookURI")(a);if(e){if(h){g.rel="noreferrer";if(e==="_blank"){e=btoa(c("Random").uint32());var i=window.open("about:blank",e);i!==void 0&&(i.opener=null)}}g.target=e}if(f&&(!h&&a.getSubdomain()!=="apps")){i=d("DTSG").getToken();i&&(b.fb_dtsg=i,c("SprinkleConfig").param_name&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(i)));c("LSD").token&&(b.lsd=c("LSD").token,c("SprinkleConfig").param_name&&!i&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(c("LSD").token)))}k.createHiddenInputs(b,g);d("DOMQuery").getRootElement().appendChild(g);g.submit();return!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(a,b,c){k.post(a,b,c)},createHiddenInputs:function(a,b,d,e){e===void 0&&(e=!1);d=d||{};a=j(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=c("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;b.appendChild(g)}}return d},getFirstElement:function(a,b){b===void 0&&(b=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var e=[];for(var f=0;f<b.length;f++){e=d("DOMQuery").scry(a,b[f]);for(var g=0;g<e.length;g++){var h=e[g];try{var i=c("getElementPosition")(h);if(i.y>0&&i.x>0)return h}catch(a){}}}return null},focusFirst:function(a){a=k.getFirstElement(a);if(a){a.focus();return!0}return!1}};f.exports=k}),34);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)})};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=function(){g._clickTarget=null};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach(function(c){a.append(b,c)}));b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(function(a){return b.progress(null,a)}).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){return k(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(b("Promise"))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(a));case 2:d=e.sent;return e.abrupt("return",new this(d));case 4:case"end":return e.stop()}},null,this)};var d=a.prototype;d.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){function a(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","asyncToGeneratorRuntime","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$22.bind(this)):a.setPreprocessHandler(this.$23.bind(this));for(b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$27(a,d)})())};e.$27=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.getFile();c=(yield this.$28(c));var d=a.getFile().uploadID;c&&c.isSpherical()?this.$14(c.isSpherical(),c,d):this.$14(!1,null,"");b(a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$22=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$29(a,d)})())};e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("performanceNow")();try{var d=(yield c("SphericalImage").createFromBlob(a));this.$13(a,c("performanceNow")()-b,d);return d}catch(d){this.$12(a,c("performanceNow")()-b);return null}});function d(b){return a.apply(this,arguments)}return d}();e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$14(!1,null,"");e&&c("promiseDone")(this.$33(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=c("performanceNow")();var g,h;try{var i=null;i=(yield this.$28(e));if(i&&i.isSpherical()){this.$14(!0,i,e.uploadID);var j=i.getSize(),k=c("SphericalPhotoTypedConfig").upload_size_limit,l=i.getProjectionType(),m=!1;m=d("SphericalPhotoUploadHelper").shouldRecompress360(l,i.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);i=d("SphericalPhotoUploadHelper").shouldResize360(l,j,k);j&&(i||m)&&(!i?g=(yield this.$32(e,Math.max(j.x,j.y)-1)):g=(yield this.$32(e)))}else this.$14(!1,null,""),g=(yield this.$30(e));g&&(g.blob!=null&&(h=g.blob,h.uploadID=e.uploadID,h.name=e.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));l=h===null;a.getFile().filename=e.name;this.$9(e,h||e,l,c("performanceNow")()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){k=c("performanceNow")()-f;this.$10(e,h||e,a,k)}b(a)});function e(b,c){return a.apply(this,arguments)}return e}();e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){function a(a,d,e,f,g,l,m,n,o,p){g===void 0&&(g="contain");l===void 0&&(l=0);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);p===void 0&&(p=null);return new(b("Promise"))(function(q,r){var s=document.createElement("canvas"),t=[],u=0,v=a.duration-l;p!=null&&(v=Math.min(v,p));var w=v/f,x=null,y,z=(v=n)!=null?v:h(m,d),A=(v=o)!=null?v:i(m,e),B=j(m,d),C=k(m,e);s.width=(v=z)!=null?v:d;s.height=(v=A)!=null?v:e;var D=new(c("VideoFrameBuffer"))(s,a,g,z,A,B,C);D.updateFrameBuffer();var E=function(){D.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(s,a,l+(u-1)*w,z,A,B,C);t.push(b);(!x||b.getURL().length>x.getURL().length)&&(x=b);G()},F=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)E();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),E()});else a.addEventListener("loadeddata",E,{once:!0})},G=function(){u===0&&(b("cr:909281")!==null?y=b("cr:909281").listen(a,"seeked",F):a.addEventListener("seeked",F)),u<f?(a.currentTime=l+u*w,u++):(b("cr:909281")!==null?y&&y.remove():a.removeEventListener("seeked",F),q({thumbnails:t,selectedThumbnail:x}))};if(a.videoWidth===0||a.videoHeight===0){r();return}G()})}function h(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function i(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function k(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}g["default"]=a}),98);